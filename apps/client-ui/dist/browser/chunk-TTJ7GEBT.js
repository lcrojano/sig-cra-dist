import{B as x,Da as J,Ea as ee,Eb as ie,F as S,G,H as Z,J as X,L as f,M as u,P as Y,R as D,Za as te,aa as _,c as w,d as T,ea as M,eb as L,f as I,h as A,ha as g,i as k,ia as b,ja as N,qa as p,v as K,xa as v,ya as y,za as E}from"./chunk-UTWBPGI3.js";import{n as q}from"./chunk-YM5U3RH6.js";import{d as de,e as ce}from"./chunk-4X66MCCG.js";var ne=de((W,z)=>{(function(o,a){typeof define=="function"&&define.amd?define([],a):typeof W<"u"?a():(a(),o.FileSaver={})})(W,function(){"use strict";function o(n,r){return typeof r>"u"?r={autoBom:!1}:typeof r!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function a(n,r,d){var h=new XMLHttpRequest;h.open("GET",n),h.responseType="blob",h.onload=function(){l(h.response,r,d)},h.onerror=function(){console.error("could not download file")},h.send()}function t(n){var r=new XMLHttpRequest;r.open("HEAD",n,!1);try{r.send()}catch{}return 200<=r.status&&299>=r.status}function e(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(n,r,d){var h=i.URL||i.webkitURL,m=document.createElement("a");r=r||n.name||"download",m.download=r,m.rel="noopener",typeof n=="string"?(m.href=n,m.origin===location.origin?e(m):t(m.href)?a(n,r,d):e(m,m.target="_blank")):(m.href=h.createObjectURL(n),setTimeout(function(){h.revokeObjectURL(m.href)},4e4),setTimeout(function(){e(m)},0))}:"msSaveOrOpenBlob"in navigator?function(n,r,d){if(r=r||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(o(n,d),r);else if(t(n))a(n,r,d);else{var h=document.createElement("a");h.href=n,h.target="_blank",setTimeout(function(){e(h)})}}:function(n,r,d,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof n=="string")return a(n,r,d);var m=n.type==="application/octet-stream",he=/constructor/i.test(i.HTMLElement)||i.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||m&&he||s)&&typeof FileReader<"u"){var H=new FileReader;H.onloadend=function(){var O=H.result;O=U?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=O:location=O,h=null},H.readAsDataURL(n)}else{var Q=i.URL||i.webkitURL,V=Q.createObjectURL(n);h?h.location=V:location.href=V,h=null,setTimeout(function(){Q.revokeObjectURL(V)},4e4)}});i.saveAs=l.saveAs=l,typeof z<"u"&&(z.exports=l)})});var oe=ce(ne(),1);var F;try{F=!!new Blob}catch{F=!1}var se=(()=>{let a=class a{get isFileSaverSupported(){return F}genType(e){if(!e||e.lastIndexOf(".")===-1)return"text/plain";let i=e.substring(e.lastIndexOf(".")+1);switch(i){case"txt":return"text/plain";case"xml":case"html":return`text/${i}`;case"json":return"octet/stream";default:return`application/${i}`}}save(e,i,s,l){if(!e)throw new Error("Data argument should be a blob instance");let n=new Blob([e],{type:s||e.type||this.genType(i)});(0,oe.saveAs)(n,decodeURI(i||"download"),l)}saveText(e,i,s){let l=new Blob([e]);this.save(l,i,void 0,s)}};a.\u0275fac=function(i){return new(i||a)},a.\u0275prov=w({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var re=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=k({type:a}),a.\u0275inj=T({});let o=a;return o})();var B=(()=>{class o{constructor(){this.fadeDuration=.7,this.resizeDuration=.5,this.fitImageInViewPort=!0,this.positionFromTop=20,this.showImageNumberLabel=!1,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1,this.disableKeyboardNav=!1,this.disableScrolling=!1,this.centerVertically=!1,this.enableTransition=!0,this.albumLabel="Image %1 of %2",this.showZoom=!1,this.showRotate=!1,this.containerElementResolver=t=>t.querySelector("body")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=w({token:o,factory:o.\u0275fac}),o})();var c={CHANGE_PAGE:1,CLOSE:2,OPEN:3,ZOOM_IN:4,ZOOM_OUT:5,ROTATE_LEFT:6,ROTATE_RIGHT:7},R=(()=>{class o{constructor(){this._lightboxEventSource=new q,this.lightboxEvent$=this._lightboxEventSource.asObservable()}broadcastLightboxEvent(t){this._lightboxEventSource.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=w({token:o,factory:o.\u0275fac}),o})();function fe(){return window}var j=(()=>{class o{get nativeWindow(){return fe()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=w({token:o,factory:o.\u0275fac}),o})();var ge=["lb-overlay",""],ae=(()=>{class o{constructor(t,e,i,s){this._elemRef=t,this._rendererRef=e,this._lightboxEvent=i,this._documentRef=s,this.classList="lightboxOverlay animation fadeInOverlay",this._subscription=this._lightboxEvent.lightboxEvent$.subscribe(l=>this._onReceivedEvent(l))}close(){this._lightboxEvent.broadcastLightboxEvent({id:c.CLOSE,data:null})}ngAfterViewInit(){let t=this.options.fadeDuration;this._rendererRef.setStyle(this._elemRef.nativeElement,"-webkit-animation-duration",`${t}s`),this._rendererRef.setStyle(this._elemRef.nativeElement,"animation-duration",`${t}s`),this._sizeOverlay()}onResize(){this._sizeOverlay()}ngOnDestroy(){this._subscription.unsubscribe()}_sizeOverlay(){let t=this._getOverlayWidth(),e=this._getOverlayHeight();this._rendererRef.setStyle(this._elemRef.nativeElement,"width",`${t}px`),this._rendererRef.setStyle(this._elemRef.nativeElement,"height",`${e}px`)}_onReceivedEvent(t){switch(t.id){case c.CLOSE:this._end();break;default:break}}_end(){this.classList="lightboxOverlay animation fadeOutOverlay",setTimeout(()=>{this.cmpRef.destroy()},this.options.fadeDuration*1e3)}_getOverlayWidth(){return Math.max(this._documentRef.body.scrollWidth,this._documentRef.body.offsetWidth,this._documentRef.documentElement.clientWidth,this._documentRef.documentElement.scrollWidth,this._documentRef.documentElement.offsetWidth)}_getOverlayHeight(){return Math.max(this._documentRef.body.scrollHeight,this._documentRef.body.offsetHeight,this._documentRef.documentElement.clientHeight,this._documentRef.documentElement.scrollHeight,this._documentRef.documentElement.offsetHeight)}}return o.\u0275fac=function(t){return new(t||o)(u(x),u(D),u(R),u(L))},o.\u0275cmp=A({type:o,selectors:[["","lb-overlay",""]],hostVars:2,hostBindings:function(t,e){t&1&&p("click",function(){return e.close()})("resize",function(){return e.onResize()},!1,X),t&2&&M(e.classList)},inputs:{options:"options",cmpRef:"cmpRef"},attrs:ge,decls:0,vars:0,template:function(t,e){},encapsulation:2}),o})();var pe=["outerContainer"],_e=["container"],be=["leftArrow"],ve=["rightArrow"],ye=["navArrow"],Ee=["dataContainer"],we=["image"],Re=["caption"],Ie=["number"],xe=["lb-content",""],le=(()=>{class o{constructor(t,e,i,s,l,n,r,d){this._elemRef=t,this._rendererRef=e,this._lightboxEvent=i,this._lightboxElem=s,this._lightboxWindowRef=l,this._fileSaverService=n,this._sanitizer=r,this._documentRef=d,this.options=this.options||{},this.album=this.album||[],this.currentImageIndex=this.currentImageIndex||0,this._windowRef=this._lightboxWindowRef.nativeWindow,this.ui={showReloader:!0,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showZoomButton:!1,showRotateButton:!1,showPageNumber:!1,showCaption:!1,showDownloadButton:!1,classList:"lightbox animation fadeIn"},this.content={pageNumber:""},this._event={},this._lightboxElem=this._elemRef,this._event.subscription=this._lightboxEvent.lightboxEvent$.subscribe(h=>this._onReceivedEvent(h)),this.rotate=0}ngOnInit(){this.album.forEach(t=>{t.caption&&(t.caption=this._sanitizer.sanitize(S.HTML,t.caption))})}ngAfterViewInit(){this._cssValue={containerTopPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-top")),containerRightPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-right")),containerBottomPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-bottom")),containerLeftPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-left")),imageBorderWidthTop:Math.round(this._getCssStyleValue(this._imageElem,"border-top-width")),imageBorderWidthBottom:Math.round(this._getCssStyleValue(this._imageElem,"border-bottom-width")),imageBorderWidthLeft:Math.round(this._getCssStyleValue(this._imageElem,"border-left-width")),imageBorderWidthRight:Math.round(this._getCssStyleValue(this._imageElem,"border-right-width"))},this._validateInputData()&&(this._prepareComponent(),this._registerImageLoadingEvent())}ngOnDestroy(){this.options.disableKeyboardNav||this._disableKeyboardNav(),this._event.subscription.unsubscribe()}close(t){t.stopPropagation(),(t.target.classList.contains("lightbox")||t.target.classList.contains("lb-loader")||t.target.classList.contains("lb-close"))&&this._lightboxEvent.broadcastLightboxEvent({id:c.CLOSE,data:null})}download(t){t.stopPropagation();let e=this.album[this.currentImageIndex].src,i=this.album[this.currentImageIndex].downloadUrl,s=e.split("/"),l=s[s.length-1],n=document.createElement("canvas"),r=n.getContext("2d"),d=new Image,h=this;d.onload=function(){n.width=this.naturalWidth,n.height=this.naturalHeight,r.drawImage(this,0,0),n.toBlob(function(m){h._fileSaverService.save(m,l)},"image/jpeg",.75)},d.crossOrigin="",i&&i.length>0?d.src=this._sanitizer.sanitize(S.URL,i):d.src=this._sanitizer.sanitize(S.URL,e)}control(t){t.stopPropagation();let e,i;t.target.classList.contains("lb-turnLeft")?(this.rotate=this.rotate-90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`,this._lightboxEvent.broadcastLightboxEvent({id:c.ROTATE_LEFT,data:null})):t.target.classList.contains("lb-turnRight")?(this.rotate=this.rotate+90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`,this._lightboxEvent.broadcastLightboxEvent({id:c.ROTATE_RIGHT,data:null})):t.target.classList.contains("lb-zoomOut")?(e=parseInt(this._documentRef.getElementById("outerContainer").style.height,10)/1.5,i=parseInt(this._documentRef.getElementById("outerContainer").style.width,10)/1.5,this._documentRef.getElementById("outerContainer").style.height=e+"px",this._documentRef.getElementById("outerContainer").style.width=i+"px",e=parseInt(this._documentRef.getElementById("image").style.height,10)/1.5,i=parseInt(this._documentRef.getElementById("image").style.width,10)/1.5,this._documentRef.getElementById("image").style.height=e+"px",this._documentRef.getElementById("image").style.width=i+"px",this._lightboxEvent.broadcastLightboxEvent({id:c.ZOOM_OUT,data:null})):t.target.classList.contains("lb-zoomIn")&&(e=parseInt(this._documentRef.getElementById("outerContainer").style.height,10)*1.5,i=parseInt(this._documentRef.getElementById("outerContainer").style.width,10)*1.5,this._documentRef.getElementById("outerContainer").style.height=e+"px",this._documentRef.getElementById("outerContainer").style.width=i+"px",e=parseInt(this._documentRef.getElementById("image").style.height,10)*1.5,i=parseInt(this._documentRef.getElementById("image").style.width,10)*1.5,this._documentRef.getElementById("image").style.height=e+"px",this._documentRef.getElementById("image").style.width=i+"px",this._lightboxEvent.broadcastLightboxEvent({id:c.ZOOM_IN,data:null}))}_rotateContainer(){let t=this.rotate;t<0&&(t*=-1),t/90%4===1||t/90%4===3?(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height):(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height)}_resetImage(){this.rotate=0,this._documentRef.getElementById("image").style.transform=`rotate(${this.rotate}deg)`,this._documentRef.getElementById("image").style.webkitTransform=`rotate(${this.rotate}deg)`}_calcTransformPoint(){let t=parseInt(this._documentRef.getElementById("image").style.height,10),e=parseInt(this._documentRef.getElementById("image").style.width,10),i=this.rotate%360;i<0&&(i=360+i),i===90?this._documentRef.getElementById("image").style.transformOrigin=t/2+"px "+t/2+"px":i===180?this._documentRef.getElementById("image").style.transformOrigin=e/2+"px "+t/2+"px":i===270&&(this._documentRef.getElementById("image").style.transformOrigin=e/2+"px "+e/2+"px")}nextImage(){this.album.length!==1&&(this.currentImageIndex===this.album.length-1?this._changeImage(0):this._changeImage(this.currentImageIndex+1))}prevImage(){this.album.length!==1&&(this.currentImageIndex===0&&this.album.length>1?this._changeImage(this.album.length-1):this._changeImage(this.currentImageIndex-1))}_validateInputData(){if(this.album&&this.album instanceof Array&&this.album.length>0){for(let t=0;t<this.album.length;t++)if(!this.album[t].src)throw new Error("One of the album data does not have source data")}else throw new Error("No album data or album data is not correct in type");if(isNaN(this.currentImageIndex))throw new Error("Current image index is not a number");return this.currentImageIndex=Number(this.currentImageIndex),!0}_registerImageLoadingEvent(){let t=new Image;t.onload=()=>{this._onLoadImageSuccess()};let e=this.album[this.currentImageIndex].src;t.src=this._sanitizer.sanitize(S.URL,e)}_onLoadImageSuccess(){this.options.disableKeyboardNav||this._disableKeyboardNav();let t,e,i,s,l,n,r,d;e=r=this._imageElem.nativeElement.naturalWidth,t=d=this._imageElem.nativeElement.naturalHeight,this.options.fitImageInViewPort&&(n=this._windowRef.innerWidth,l=this._windowRef.innerHeight,s=n-this._cssValue.containerLeftPadding-this._cssValue.containerRightPadding-this._cssValue.imageBorderWidthLeft-this._cssValue.imageBorderWidthRight-20,i=l-this._cssValue.containerTopPadding-this._cssValue.containerTopPadding-this._cssValue.imageBorderWidthTop-this._cssValue.imageBorderWidthBottom-120,(r>s||d>i)&&(r/s>d/i?(e=s,t=Math.round(d/(r/e))):(t=i,e=Math.round(r/(d/t)))),this._rendererRef.setStyle(this._imageElem.nativeElement,"width",`${e}px`),this._rendererRef.setStyle(this._imageElem.nativeElement,"height",`${t}px`)),this._sizeContainer(e,t),this.options.centerVertically&&this._centerVertically(e,t)}_centerVertically(t,e){let i=this._documentRef.documentElement.scrollTop,l=this._windowRef.innerHeight/2-e/2,n=i+l;this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",`${n}px`)}_sizeContainer(t,e){let i=this._outerContainerElem.nativeElement.offsetWidth,s=this._outerContainerElem.nativeElement.offsetHeight,l=t+this._cssValue.containerRightPadding+this._cssValue.containerLeftPadding+this._cssValue.imageBorderWidthLeft+this._cssValue.imageBorderWidthRight,n=e+this._cssValue.containerTopPadding+this._cssValue.containerBottomPadding+this._cssValue.imageBorderWidthTop+this._cssValue.imageBorderWidthBottom;Math.abs(i-l)+Math.abs(s-n)>5?(this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"width",`${l}px`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"height",`${n}px`),this.options.enableTransition?(this._event.transitions=[],["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].forEach(r=>{this._event.transitions.push(this._rendererRef.listen(this._outerContainerElem.nativeElement,r,d=>{d.target===d.currentTarget&&this._postResize(l,n)}))})):this._postResize(l,n)):this._postResize(l,n)}_postResize(t,e){Array.isArray(this._event.transitions)&&(this._event.transitions.forEach(i=>{i()}),this._event.transitions=[]),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"width",`${t}px`),this._showImage()}_showImage(){this.ui.showReloader=!1,this._updateNav(),this._updateDetails(),this.options.disableKeyboardNav||this._enableKeyboardNav()}_prepareComponent(){this._addCssAnimation(),this._positionLightBox(),setTimeout(()=>{this.ui.showZoomButton=this.options.showZoom,this.ui.showRotateButton=this.options.showRotate,this.ui.showDownloadButton=this.options.showDownloadButton},0)}_positionLightBox(){let t=(this._windowRef.pageYOffset||this._documentRef.documentElement.scrollTop)+this.options.positionFromTop,e=this._windowRef.pageXOffset||this._documentRef.documentElement.scrollLeft;this.options.centerVertically||this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",`${t}px`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"left",`${e}px`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"display","block"),this.options.disableScrolling&&this._rendererRef.addClass(this._documentRef.documentElement,"lb-disable-scrolling")}_addCssAnimation(){let t=this.options.resizeDuration,e=this.options.fadeDuration;this._rendererRef.setStyle(this._lightboxElem.nativeElement,"-webkit-animation-duration",`${e}s`),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"animation-duration",`${e}s`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"-webkit-transition-duration",`${t}s`),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"transition-duration",`${t}s`),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"-webkit-animation-duration",`${e}s`),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"animation-duration",`${e}s`),this._rendererRef.setStyle(this._imageElem.nativeElement,"-webkit-animation-duration",`${e}s`),this._rendererRef.setStyle(this._imageElem.nativeElement,"animation-duration",`${e}s`),this._rendererRef.setStyle(this._captionElem.nativeElement,"-webkit-animation-duration",`${e}s`),this._rendererRef.setStyle(this._captionElem.nativeElement,"animation-duration",`${e}s`),this._rendererRef.setStyle(this._numberElem.nativeElement,"-webkit-animation-duration",`${e}s`),this._rendererRef.setStyle(this._numberElem.nativeElement,"animation-duration",`${e}s`)}_end(){this.ui.classList="lightbox animation fadeOut",this.options.disableScrolling&&this._rendererRef.removeClass(this._documentRef.documentElement,"lb-disable-scrolling"),setTimeout(()=>{this.cmpRef.destroy()},this.options.fadeDuration*1e3)}_updateDetails(){typeof this.album[this.currentImageIndex].caption<"u"&&this.album[this.currentImageIndex].caption!==""&&(this.ui.showCaption=!0),this.album.length>1&&this.options.showImageNumberLabel&&(this.ui.showPageNumber=!0,this.content.pageNumber=this._albumLabel())}_albumLabel(){return this.options.albumLabel.replace(/%1/g,Number(this.currentImageIndex+1)).replace(/%2/g,this.album.length)}_changeImage(t){this._resetImage(),this.currentImageIndex=t,this._hideImage(),this._registerImageLoadingEvent(),this._lightboxEvent.broadcastLightboxEvent({id:c.CHANGE_PAGE,data:t})}_hideImage(){this.ui.showReloader=!0,this.ui.showArrowNav=!1,this.ui.showLeftArrow=!1,this.ui.showRightArrow=!1,this.ui.showPageNumber=!1,this.ui.showCaption=!1}_updateNav(){let t=!1;try{this._documentRef.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch{}this._showArrowNav(),this.album.length>1&&(this.options.wrapAround?(t&&(this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1"),this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1")),this._showLeftArrowNav(),this._showRightArrowNav()):(this.currentImageIndex>0&&(this._showLeftArrowNav(),t&&this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1")),this.currentImageIndex<this.album.length-1&&(this._showRightArrowNav(),t&&this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1"))))}_showLeftArrowNav(){this.ui.showLeftArrow=!0}_showRightArrowNav(){this.ui.showRightArrow=!0}_showArrowNav(){this.ui.showArrowNav=this.album.length!==1}_enableKeyboardNav(){this._event.keyup=this._rendererRef.listen("document","keyup",t=>{this._keyboardAction(t)})}_disableKeyboardNav(){this._event.keyup&&this._event.keyup()}_keyboardAction(t){let l=t.keyCode,n=String.fromCharCode(l).toLowerCase();l===27||n.match(/x|o|c/)?this._lightboxEvent.broadcastLightboxEvent({id:c.CLOSE,data:null}):n==="p"||l===37?this.currentImageIndex!==0?this._changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this._changeImage(this.album.length-1):(n==="n"||l===39)&&(this.currentImageIndex!==this.album.length-1?this._changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this._changeImage(0))}_getCssStyleValue(t,e){return parseFloat(this._windowRef.getComputedStyle(t.nativeElement,null).getPropertyValue(e))}_onReceivedEvent(t){switch(t.id){case c.CLOSE:this._end();break;default:break}}}return o.\u0275fac=function(t){return new(t||o)(u(x),u(D),u(R),u(x),u(j),u(se),u(ie),u(L))},o.\u0275cmp=A({type:o,selectors:[["","lb-content",""]],viewQuery:function(t,e){if(t&1&&(v(pe,5),v(_e,5),v(be,5),v(ve,5),v(ye,5),v(Ee,5),v(we,5),v(Re,5),v(Ie,5)),t&2){let i;y(i=E())&&(e._outerContainerElem=i.first),y(i=E())&&(e._containerElem=i.first),y(i=E())&&(e._leftArrowElem=i.first),y(i=E())&&(e._rightArrowElem=i.first),y(i=E())&&(e._navArrowElem=i.first),y(i=E())&&(e._dataContainerElem=i.first),y(i=E())&&(e._imageElem=i.first),y(i=E())&&(e._captionElem=i.first),y(i=E())&&(e._numberElem=i.first)}},hostVars:2,hostBindings:function(t,e){t&1&&p("click",function(s){return e.close(s)}),t&2&&M(e.ui.classList)},inputs:{album:"album",currentImageIndex:"currentImageIndex",options:"options",cmpRef:"cmpRef"},attrs:xe,decls:34,vars:14,consts:[["id","outerContainer",1,"lb-outerContainer","transition"],["outerContainer",""],["id","container",1,"lb-container"],["container",""],["id","image",1,"lb-image","animation","fadeIn",3,"src","hidden"],["image",""],[1,"lb-nav",3,"hidden"],["navArrow",""],[1,"lb-prev",3,"hidden","click"],["leftArrow",""],[1,"lb-next",3,"hidden","click"],["rightArrow",""],[1,"lb-loader",3,"hidden","click"],[1,"lb-cancel"],[1,"lb-dataContainer",3,"hidden"],["dataContainer",""],[1,"lb-data"],[1,"lb-details"],[1,"lb-caption","animation","fadeIn",3,"hidden","innerHtml"],["caption",""],[1,"lb-number","animation","fadeIn",3,"hidden"],["number",""],[1,"lb-controlContainer"],[1,"lb-closeContainer"],[1,"lb-close",3,"click"],[1,"lb-downloadContainer",3,"hidden"],[1,"lb-download",3,"click"],[1,"lb-turnContainer",3,"hidden"],[1,"lb-turnLeft",3,"click"],[1,"lb-turnRight",3,"click"],[1,"lb-zoomContainer",3,"hidden"],[1,"lb-zoomOut",3,"click"],[1,"lb-zoomIn",3,"click"]],template:function(t,e){t&1&&(g(0,"div",0,1)(2,"div",2,3),N(4,"img",4,5),g(6,"div",6,7)(8,"a",8,9),p("click",function(){return e.prevImage()}),b(),g(10,"a",10,11),p("click",function(){return e.nextImage()}),b()(),g(12,"div",12),p("click",function(s){return e.close(s)}),N(13,"a",13),b()()(),g(14,"div",14,15)(16,"div",16)(17,"div",17),N(18,"span",18,19),g(20,"span",20,21),J(22),b()(),g(23,"div",22)(24,"div",23)(25,"a",24),p("click",function(s){return e.close(s)}),b()(),g(26,"div",25)(27,"a",26),p("click",function(s){return e.download(s)}),b()(),g(28,"div",27)(29,"a",28),p("click",function(s){return e.control(s)}),b(),g(30,"a",29),p("click",function(s){return e.control(s)}),b()(),g(31,"div",30)(32,"a",31),p("click",function(s){return e.control(s)}),b(),g(33,"a",32),p("click",function(s){return e.control(s)}),b()()()()()),t&2&&(f(4),_("src",e.album[e.currentImageIndex].src,Z)("hidden",e.ui.showReloader),f(2),_("hidden",!e.ui.showArrowNav),f(2),_("hidden",!e.ui.showLeftArrow),f(2),_("hidden",!e.ui.showRightArrow),f(2),_("hidden",!e.ui.showReloader),f(2),_("hidden",e.ui.showReloader),f(4),_("hidden",!e.ui.showCaption)("innerHtml",e.album[e.currentImageIndex].caption,G),f(2),_("hidden",!e.ui.showPageNumber),f(2),ee(e.content.pageNumber),f(4),_("hidden",!e.ui.showDownloadButton),f(2),_("hidden",!e.ui.showRotateButton),f(3),_("hidden",!e.ui.showZoomButton))},encapsulation:2}),o})();var P=(()=>{class o{constructor(t,e,i,s,l,n){this._componentFactoryResolver=t,this._injector=e,this._applicationRef=i,this._lightboxConfig=s,this._lightboxEvent=l,this._documentRef=n}open(t,e=0,i={}){let s=this._createComponent(ae),l=this._createComponent(le),n={};this._lightboxEvent.broadcastLightboxEvent({id:c.OPEN}),Object.assign(n,this._lightboxConfig,i),l.instance.album=t,l.instance.currentImageIndex=e,l.instance.options=n,l.instance.cmpRef=l,s.instance.options=n,s.instance.cmpRef=s,setTimeout(()=>{this._applicationRef.attachView(s.hostView),this._applicationRef.attachView(l.hostView),s.onDestroy(()=>{this._applicationRef.detachView(s.hostView)}),l.onDestroy(()=>{this._applicationRef.detachView(l.hostView)});let r=n.containerElementResolver(this._documentRef);r.appendChild(s.location.nativeElement),r.appendChild(l.location.nativeElement)})}close(){this._lightboxEvent&&this._lightboxEvent.broadcastLightboxEvent({id:c.CLOSE})}_createComponent(t){return this._componentFactoryResolver.resolveComponentFactory(t).create(this._injector)}}return o.\u0275fac=function(t){return new(t||o)(I(Y),I(K),I(te),I(B),I(R),I(L))},o.\u0275prov=w({token:o,factory:o.\u0275fac}),o})();var Le=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=k({type:o}),o.\u0275inj=T({providers:[P,B,R,j],imports:[re]}),o})();export{se as a,re as b,P as c,Le as d};
