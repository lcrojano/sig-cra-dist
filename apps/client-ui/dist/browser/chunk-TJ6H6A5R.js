import{a as ig,f as Ll,g as pd,i as hh,j as ag}from"./chunk-TT3YQ3US.js";import{d as Jf,t as ho}from"./chunk-HIMNRRUG.js";import{Ad as Rf,Ae as Yf,Ca as th,Da as We,De as Qf,Ea as A0,Ed as lh,Ee as Sl,Fa as lo,Fd as Bf,Fe as eg,Gd as Wi,Ge as tg,H as Xn,Hd as Xi,I as sf,Ib as ah,Id as Ff,Ie as ch,J as lf,Jd as Vf,Ka as hf,L as zt,M as _t,Na as vr,Nb as ff,Nd as Nf,Ob as Al,Od as Uf,Pd as jf,Qb as gf,Ra as uf,Rb as _f,Sa as df,Td as Hf,Vb as yf,Vd as Gf,X as ta,Xb as vf,Yc as wf,Zc as Mf,_b as xf,_c as zf,aa as Dt,ad as Af,bd as Tf,c as no,cd as Cf,ce as Ki,d as ro,dd as Tl,de as El,e as of,ec as bf,ed as nh,f as an,fd as Zi,fe as Zf,gb as ih,gd as $i,h as ui,ha as Me,hb as co,hd as la,he as $f,i as oo,ia as Ce,ib as pf,id as qi,ie as qf,j as Ml,ja as At,je as Wf,ke as Xf,le as Kf,md as Ef,na as nn,nd as Cl,o as sd,ob as mf,od as Sf,p as Ra,pd as Lf,q as Ba,qa as ii,qd as If,rb as hs,rd as rh,sa as Ri,sd as oh,ta as zl,td as Pf,ua as so,ub as ud,ud as kf,va as cf,vd as dd,x as it,xa as ld,xd as Df,y as eh,ya as cd,yd as Of,za as hd,zd as sh}from"./chunk-UTWBPGI3.js";import{Ca as wl,O as nf,V as Wn,Xb as z0,Zb as cs,b as tf,ib as rf,n as nd,o as af,pa as od,q as rd}from"./chunk-YM5U3RH6.js";import{a as M0,b as id,d as Qm,e as ef,f as Oe,g as ad}from"./chunk-4X66MCCG.js";var og=Qm((md,fd)=>{(function(Le,te){typeof md=="object"&&typeof fd<"u"?fd.exports=te():typeof define=="function"&&define.amd?define(te):(Le=typeof globalThis<"u"?globalThis:Le||self,Le.mapboxgl=te())})(md,function(){"use strict";var Le,te,ie;function w(o,ae){if(!Le)Le=ae;else if(!te)te=ae;else{var Qe="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+Le+")(sharedChunk); ("+te+")(sharedChunk); self.onerror = null;",pt={};Le(pt),ie=ae(pt),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(ie.workerUrl=window.URL.createObjectURL(new Blob([Qe],{type:"text/javascript"})))}}w(["exports"],function(o){"use strict";var ae=typeof self<"u"?self:{},Qe="2.15.0";let pt,Je={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(pt==null){let t=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{pt=process.env.API_URL_REGEX!=null?new RegExp(process.env.API_URL_REGEX):t}catch{pt=t}}return pt},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!Je.API_URL)return null;try{let t=new URL(Je.API_URL);return t.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":t.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ht={supported:!1,testSupport:function(t){!Yi&&$t&&(Bi?li(t):Ht=t)}},Ht,$t,Yi=!1,Bi=!1;function li(t){let e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,$t),t.isContextLost())return;ht.supported=!0}catch{}t.deleteTexture(e),Yi=!0}ae.document&&($t=ae.document.createElement("img"),$t.onload=function(){Ht&&li(Ht),Ht=null,Bi=!0},$t.onerror=function(){Yi=!0,Ht=null},$t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");let Nt="01";function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ut=He;function He(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=i,this.p2y=n}He.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(e===void 0&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var i=t,n=0;n<8;n++){var s=this.sampleCurveX(i)-t;if(Math.abs(s)<e)return i;var c=this.sampleCurveDerivativeX(i);if(Math.abs(c)<1e-6)break;i-=s/c}var u=0,p=1;for(i=t,n=0;n<20&&(s=this.sampleCurveX(i),!(Math.abs(s-t)<e));n++)t>s?u=i:p=i,i=.5*(p-u)+u;return i},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var at=et(ut),ct=yt;function yt(t,e){this.x=t,this.y=e}yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=n,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),s=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-n*(this.y-e.y),this.y=s,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},yt.convert=function(t){return t instanceof yt?t:Array.isArray(t)?new yt(t[0],t[1]):t};var Se=et(ct);let ai=Math.PI/180,Ln=180/Math.PI;function Mt(t){return t*ai}function xi(t){return t*Ln}let Zl=[[0,0],[1,0],[1,1],[0,1]];function ys(t){if(t<=0)return 0;if(t>=1)return 1;let e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}function go(t,e,i,n){let s=new at(t,e,i,n);return function(c){return s.solve(c)}}let vs=go(.25,.1,.25,1);function Pt(t,e,i){return Math.min(i,Math.max(e,t))}function xr(t,e,i){return(i=Pt((i-t)/(e-t),0,1))*i*(3-2*i)}function Oi(t,e,i){let n=i-e,s=((t-e)%n+n)%n+e;return s===e?i:s}function Fi(t,e,i){if(!t.length)return i(null,[]);let n=t.length,s=new Array(t.length),c=null;t.forEach((u,p)=>{e(u,(f,g)=>{f&&(c=f),s[p]=g,--n==0&&i(c,s)})})}function In(t){let e=[];for(let i in t)e.push(t[i]);return e}function Mi(t,...e){for(let i of e)for(let n in i)t[n]=i[n];return t}let Pn=1;function br(){return Pn++}function kn(){return function t(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function sn(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function xs(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function Kn(t,e){t.forEach(i=>{e[i]&&(e[i]=e[i].bind(e))})}function wr(t,e){return t.indexOf(e,t.length-e.length)!==-1}function Ot(t,e,i){let n={};for(let s in t)n[s]=e.call(i||this,t[s],s,t);return n}function Mr(t,e,i){let n={};for(let s in t)e.call(i||this,t[s],s,t)&&(n[s]=t[s]);return n}function va(t){return Array.isArray(t)?t.map(va):typeof t=="object"&&t?Ot(t,va):t}let _o={};function mi(t){_o[t]||(typeof console<"u"&&console.warn(t),_o[t]=!0)}function Aa(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function bs(t){let e=0;for(let i,n,s=0,c=t.length,u=c-1;s<c;u=s++)i=t[s],n=t[u],e+=(n.x-i.x)*(i.y+n.y);return e}function ln(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function xa(t){let e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,n,s,c)=>{let u=s||c;return e[n]=!u||u.toLowerCase(),""}),e["max-age"]){let i=parseInt(e["max-age"],10);isNaN(i)?delete e["max-age"]:e["max-age"]=i}return e}let yo=null;function zr(t){if(yo==null){let e=t.navigator?t.navigator.userAgent:null;yo=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return yo}function vo(t){try{let e=ae[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch{return!1}}function Dn(t,e){return[t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}let Ar="mapbox-tiles",ws=500,Ms=50,Ta,On;function xo(){try{return ae.caches}catch{}}function Yn(){xo()&&!Ta&&(Ta=ae.caches.open(Ar))}function Tr(t){let e=t.indexOf("?");if(e<0)return t;let i=function(s){let c=s.indexOf("?");return c>0?s.slice(c+1).split("&"):[]}(t),n=i.filter(s=>{let c=s.split("=");return c[0]==="language"||c[0]==="worldview"});return n.length?`${t.slice(0,e)}?${n.join("&")}`:t.slice(0,e)}let bo=1/0,Jn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Jn);class Rn extends Error{constructor(e,i,n){i===401&&ce(n)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=i,this.url=n}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}let Qn=ln()?()=>self.worker&&self.worker.referrer:()=>(ae.location.protocol==="blob:"?ae.parent:ae).location.href,er=function(t,e){if(!(/^file:/.test(i=t.url)||/^file:/.test(Qn())&&!/^\w+:/.test(i))){if(ae.fetch&&ae.Request&&ae.AbortController&&ae.Request.prototype.hasOwnProperty("signal"))return function(n,s){let c=new ae.AbortController,u=new ae.Request(n.url,{method:n.method||"GET",body:n.body,credentials:n.credentials,headers:n.headers,referrer:Qn(),referrerPolicy:n.referrerPolicy,signal:c.signal}),p=!1,f=!1,g=(v=u.url).indexOf("sku=")>0&&ce(v);var v;n.type==="json"&&u.headers.set("Accept","application/json");let b=(T,C,L)=>{if(f)return;if(T&&T.message!=="SecurityError"&&mi(T.toString()),C&&L)return M(C);let D=Date.now();ae.fetch(u).then(U=>{if(U.ok){let W=g?U.clone():null;return M(U,W,D)}return s(new Rn(U.statusText,U.status,n.url))}).catch(U=>{U.name!=="AbortError"&&s(new Error(`${U.message} ${n.url}`))})},M=(T,C,L)=>{(n.type==="arrayBuffer"?T.arrayBuffer():n.type==="json"?T.json():T.text()).then(D=>{f||(C&&L&&function(U,W,j){if(Yn(),!Ta)return;let $={status:W.status,statusText:W.statusText,headers:new ae.Headers};W.headers.forEach((me,ue)=>$.headers.set(ue,me));let K=xa(W.headers.get("Cache-Control")||"");if(K["no-store"])return;K["max-age"]&&$.headers.set("Expires",new Date(j+1e3*K["max-age"]).toUTCString());let X=$.headers.get("Expires");X&&(new Date(X).getTime()-j<42e4||function(me,ue){if(On===void 0)try{new Response(new ReadableStream),On=!0}catch{On=!1}On?ue(me.body):me.blob().then(ue)}(W,me=>{let ue=new ae.Response(me,$);Yn(),Ta&&Ta.then(xe=>xe.put(Tr(U.url),ue)).catch(xe=>mi(xe.message))}))}(u,C,L),p=!0,s(null,D,T.headers.get("Cache-Control"),T.headers.get("Expires")))}).catch(D=>{f||s(new Error(D.message))})};return g?function(T,C){if(Yn(),!Ta)return C(null);let L=Tr(T.url);Ta.then(D=>{D.match(L).then(U=>{let W=function(j){if(!j)return!1;let $=new Date(j.headers.get("Expires")||0),K=xa(j.headers.get("Cache-Control")||"");return $>Date.now()&&!K["no-cache"]}(U);D.delete(L),W&&D.put(L,U.clone()),C(null,U,W)}).catch(C)}).catch(C)}(u,b):b(null,null),{cancel:()=>{f=!0,p||c.abort()}}}(t,e);if(ln()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var i;return function(n,s){let c=new ae.XMLHttpRequest;c.open(n.method||"GET",n.url,!0),n.type==="arrayBuffer"&&(c.responseType="arraybuffer");for(let u in n.headers)c.setRequestHeader(u,n.headers[u]);return n.type==="json"&&(c.responseType="text",c.setRequestHeader("Accept","application/json")),c.withCredentials=n.credentials==="include",c.onerror=()=>{s(new Error(c.statusText))},c.onload=()=>{if((c.status>=200&&c.status<300||c.status===0)&&c.response!==null){let u=c.response;if(n.type==="json")try{u=JSON.parse(c.response)}catch(p){return s(p)}s(null,u,c.getResponseHeader("Cache-Control"),c.getResponseHeader("Expires"))}else s(new Rn(c.statusText,c.status,n.url))},c.send(n.body),{cancel:()=>c.abort()}}(t,e)},Cr=function(t,e){return er(Mi(t,{type:"arrayBuffer"}),e)};function zs(t){let e=ae.document.createElement("a");return e.href=t,e.protocol===ae.document.location.protocol&&e.host===ae.document.location.host}let q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",I,P;I=[],P=0;let Z=function(t,e){if(ht.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),P>=Je.MAX_PARALLEL_IMAGE_REQUESTS){let c={requestParameters:t,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return I.push(c),c}P++;let i=!1,n=()=>{if(!i)for(i=!0,P--;I.length&&P<Je.MAX_PARALLEL_IMAGE_REQUESTS;){let c=I.shift(),{requestParameters:u,callback:p,cancelled:f}=c;f||(c.cancel=Z(u,p).cancel)}},s=Cr(t,(c,u,p,f)=>{n(),c?e(c):u&&(ae.createImageBitmap?function(g,v){let b=new ae.Blob([new Uint8Array(g)],{type:"image/png"});ae.createImageBitmap(b).then(M=>{v(null,M)}).catch(M=>{v(new Error(`Could not load image because of ${M.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(u,(g,v)=>e(g,v,p,f)):function(g,v){let b=new ae.Image,M=ae.URL;b.onload=()=>{v(null,b),M.revokeObjectURL(b.src),b.onload=null,ae.requestAnimationFrame(()=>{b.src=q})},b.onerror=()=>v(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let T=new ae.Blob([new Uint8Array(g)],{type:"image/png"});b.src=g.byteLength?M.createObjectURL(T):q}(u,(g,v)=>e(g,v,p,f)))});return{cancel:()=>{s.cancel(),n()}}},Y="NO_ACCESS_TOKEN";function re(t){return t.indexOf("mapbox:")===0}function ce(t){return Je.API_URL_REGEX.test(t)}function le(t){return Je.API_CDN_URL_REGEX.test(t)}function ne(t){return Je.API_STYLE_REGEX.test(t)&&!_e(t)}function _e(t){return Je.API_SPRITE_REGEX.test(t)}let Ne=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ue(t){let e=t.match(Ne);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Be(t){let e=t.params.length?`?${t.params.join("&")}`:"";return`${t.protocol}://${t.authority}${t.path}${e}`}let vt="mapbox.eventData";function Tt(t){if(!t)return null;let e=t.split(".");if(!e||e.length!==3)return null;try{return JSON.parse(decodeURIComponent(ae.atob(e[1]).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class xt{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){let i=Tt(Je.ACCESS_TOKEN),n="";return n=i&&i.u?ae.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,(s,c)=>String.fromCharCode(+("0x"+c)))):Je.ACCESS_TOKEN||"",e?`${vt}.${e}:${n}`:`${vt}:${n}`}fetchEventData(){let e=vo("localStorage"),i=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{let s=ae.localStorage.getItem(i);s&&(this.eventData=JSON.parse(s));let c=ae.localStorage.getItem(n);c&&(this.anonId=c)}catch{mi("Unable to read from LocalStorage")}}saveEventData(){let e=vo("localStorage"),i=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{ae.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&ae.localStorage.setItem(i,JSON.stringify(this.eventData))}catch{mi("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,i,n,s){if(!Je.EVENTS_URL)return;let c=Ue(Je.EVENTS_URL);c.params.push(`access_token=${s||Je.ACCESS_TOKEN||""}`);let u={event:this.type,created:new Date(e).toISOString()},p=i?Mi(u,i):u,f={url:Be(c),headers:{"Content-Type":"text/plain"},body:JSON.stringify([p])};this.pendingRequest=function(g,v){return er(Mi(g,{method:"POST"}),v)}(f,g=>{this.pendingRequest=null,n(g),this.saveEventData(),this.processRequests(s)})}queueRequest(e,i){this.queue.push(e),this.processRequests(i)}}let Ct=new class extends xt{constructor(t){super("appUserTurnstile"),this._customAccessToken=t}postTurnstileEvent(t,e){Je.EVENTS_URL&&Je.ACCESS_TOKEN&&Array.isArray(t)&&t.some(i=>re(i)||ce(i))&&this.queueRequest(Date.now(),e)}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();let e=Tt(Je.ACCESS_TOKEN),i=e?e.u:Je.ACCESS_TOKEN,n=i!==this.eventData.tokenU;xs(this.anonId)||(this.anonId=kn(),n=!0);let s=this.queue.shift();if(this.eventData.lastSuccess){let c=new Date(this.eventData.lastSuccess),u=new Date(s),p=(s-this.eventData.lastSuccess)/864e5;n=n||p>=1||p<-1||c.getDate()!==u.getDate()}else n=!0;n?this.postEvent(s,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Qe,skuId:Nt,"enabled.telemetry":!1,userId:this.anonId},c=>{c||(this.eventData.lastSuccess=s,this.eventData.tokenU=i)},t):this.processRequests()}},Rt=Ct.postTurnstileEvent.bind(Ct),fi=new class extends xt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(t,e,i,n){this.skuToken=e,this.errorCb=n,Je.EVENTS_URL&&(i||Je.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(Y)))}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;let{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),xs(this.anonId)||(this.anonId=kn()),this.postEvent(i,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Qe,skuId:Nt,skuToken:this.skuToken,userId:this.anonId},n=>{n?this.errorCb(n):e&&(this.success[e]=!0)},t))}},zi=fi.postMapLoadEvent.bind(fi),aa=new class extends xt{constructor(){super("gljs.performance")}postPerformanceEvent(t,e){Je.EVENTS_URL&&(t||Je.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},t)}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;let{timestamp:e,performanceData:i}=this.queue.shift(),n=function(s){let c=ae.performance.getEntriesByType("resource"),u=ae.performance.getEntriesByType("mark"),p=function(M){let T={};if(M){for(let C in M)if(C!=="other")for(let L of M[C]){let D=`${C}ResolveRangeMin`,U=`${C}ResolveRangeMax`,W=`${C}RequestCount`,j=`${C}RequestCachedCount`;T[D]=Math.min(T[D]||1/0,L.startTime),T[U]=Math.max(T[U]||-1/0,L.responseEnd);let $=K=>{T[K]===void 0&&(T[K]=0),++T[K]};L.transferSize!==void 0&&L.transferSize===0&&$(j),$(W)}}return T}(function(M,T){let C={};if(M)for(let L of M){let D=T(L);C[D]===void 0&&(C[D]=[]),C[D].push(L)}return C}(c,S0)),f=ae.devicePixelRatio,g=ae.navigator.connection||ae.navigator.mozConnection||ae.navigator.webkitConnection,v={counters:[],metadata:[],attributes:[]},b=(M,T,C)=>{C!=null&&M.push({name:T,value:C.toString()})};for(let M in p)b(v.counters,M,p[M]);if(s.interactionRange[0]!==1/0&&s.interactionRange[1]!==-1/0&&(b(v.counters,"interactionRangeMin",s.interactionRange[0]),b(v.counters,"interactionRangeMax",s.interactionRange[1])),u)for(let M of Object.keys(Er)){let T=Er[M],C=u.find(L=>L.name===T);C&&b(v.counters,T,C.startTime)}return b(v.counters,"visibilityHidden",s.visibilityHidden),b(v.attributes,"style",function(M){if(M)for(let T of M){let C=T.name.split("?")[0];if(ne(C)){let L=C.split("/").slice(-2);if(L.length===2)return`mapbox://styles/${L[0]}/${L[1]}`}}}(c)),b(v.attributes,"terrainEnabled",s.terrainEnabled?"true":"false"),b(v.attributes,"fogEnabled",s.fogEnabled?"true":"false"),b(v.attributes,"projection",s.projection),b(v.attributes,"zoom",s.zoom),b(v.metadata,"devicePixelRatio",f),b(v.metadata,"connectionEffectiveType",g?g.effectiveType:void 0),b(v.metadata,"navigatorUserAgent",ae.navigator.userAgent),b(v.metadata,"screenWidth",ae.screen.width),b(v.metadata,"screenHeight",ae.screen.height),b(v.metadata,"windowWidth",ae.innerWidth),b(v.metadata,"windowHeight",ae.innerHeight),b(v.metadata,"mapWidth",s.width/f),b(v.metadata,"mapHeight",s.height/f),b(v.metadata,"webglRenderer",s.renderer),b(v.metadata,"webglVendor",s.vendor),b(v.metadata,"sdkVersion",Qe),b(v.metadata,"sdkIdentifier","mapbox-gl-js"),v}(i);for(let s of n.metadata);for(let s of n.counters);for(let s of n.attributes);this.postEvent(e,n,()=>{},t)}},ki=aa.postPerformanceEvent.bind(aa),Za=new class extends xt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(t,e,i,n){if(!Je.API_URL||!Je.SESSION_PATH)return;let s=Ue(Je.API_URL+Je.SESSION_PATH);s.params.push(`sku=${e||""}`),s.params.push(`access_token=${n||Je.ACCESS_TOKEN||""}`);let c={url:Be(s),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(u,p){return er(Mi(u,{method:"GET"}),p)}(c,u=>{this.pendingRequest=null,i(u),this.saveEventData(),this.processRequests(n)})}getSessionAPI(t,e,i,n){this.skuToken=e,this.errorCb=n,Je.SESSION_PATH&&Je.API_URL&&(i||Je.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(Y)))}processRequests(t){if(this.pendingRequest||this.queue.length===0)return;let{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||this.getSession(i,this.skuToken,n=>{n?this.errorCb(n):e&&(this.success[e]=!0)},t)}},Vi=Za.getSessionAPI.bind(Za),ca=new Set,Er={create:"create",load:"load",fullLoad:"fullLoad"},Mh={mark(t){ae.performance.mark(t)},measure(t,e,i){ae.performance.measure(t,e,i)}};function S0(t){let e=t.name.split("?")[0];return le(e)&&e.includes("mapbox-gl.js")?"javascript":le(e)&&e.includes("mapbox-gl.css")?"css":function(i){return Je.API_FONTS_REGEX.test(i)}(e)?"fontRange":_e(e)?"sprite":ne(e)?"style":function(i){return Je.API_TILEJSON_REGEX.test(i)}(e)?"tilejson":"other"}let Gt=ae.performance;function $l(t){let e=t?t.url.toString():void 0;return Gt.getEntriesByName(e)}let wo,ql,As,$a,cn={now:()=>As!==void 0?As:ae.performance.now(),setNow(t){As=t},restoreNow(){As=void 0},frame(t){let e=ae.requestAnimationFrame(t);return{cancel:()=>ae.cancelAnimationFrame(e)}},getImageData(t,e=0){let{width:i,height:n}=t;$a||($a=ae.document.createElement("canvas"));let s=$a.getContext("2d",{willReadFrequently:!0});if(!s)throw new Error("failed to create canvas 2d context");return(i>$a.width||n>$a.height)&&($a.width=i,$a.height=n),s.clearRect(-e,-e,i+2*e,n+2*e),s.drawImage(t,0,0,i,n),s.getImageData(-e,-e,i+2*e,n+2*e)},resolveURL:t=>(wo||(wo=ae.document.createElement("a")),wo.href=t,wo.href),get devicePixelRatio(){return ae.devicePixelRatio},get prefersReducedMotion(){return!!ae.matchMedia&&(ql==null&&(ql=ae.matchMedia("(prefers-reduced-motion: reduce)")),ql.matches)}};function Wl(t,e,i){i[t]&&i[t].indexOf(e)!==-1||(i[t]=i[t]||[],i[t].push(e))}function Xl(t,e,i){if(i&&i[t]){let n=i[t].indexOf(e);n!==-1&&i[t].splice(n,1)}}class tr{constructor(e,i={}){Mi(this,i),this.type=e}}class hn extends tr{constructor(e,i={}){super("error",Mi({error:e},i))}}class Mo{on(e,i){return this._listeners=this._listeners||{},Wl(e,i,this._listeners),this}off(e,i){return Xl(e,i,this._listeners),Xl(e,i,this._oneTimeListeners),this}once(e,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},Wl(e,i,this._oneTimeListeners),this):new Promise(n=>this.once(e,n))}fire(e,i){typeof e=="string"&&(e=new tr(e,i||{}));let n=e.type;if(this.listens(n)){e.target=this;let s=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(let p of s)p.call(this,e);let c=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(let p of c)Xl(n,p,this._oneTimeListeners),p.call(this,e);let u=this._eventedParent;u&&(Mi(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof hn&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,i){return this._eventedParent=e,this._eventedParentData=i,this}}var ve=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function un(t,...e){for(let i of e)for(let n in i)t[n]=i[n];return t}function Ai(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Ni(t){if(Array.isArray(t))return t.map(Ni);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){let e={};for(let i in t)e[i]=Ni(t[i]);return e}return Ai(t)}class L0 extends Error{constructor(e,i){super(i),this.message=i,this.key=e}}var qa=L0;class Kl{constructor(e,i=[]){this.parent=e,this.bindings={};for(let[n,s]of i)this.bindings[n]=s}concat(e){return new Kl(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var I0=Kl;let Sr={kind:"null"},$e={kind:"number"},kt={kind:"string"},St={kind:"boolean"},ba={kind:"color"},Va={kind:"object"},Lt={kind:"value"},wa={kind:"collator"},zo={kind:"formatted"},ir={kind:"resolvedImage"};function Ca(t,e){return{kind:"array",itemType:t,N:e}}function di(t){if(t.kind==="array"){let e=di(t.itemType);return typeof t.N=="number"?`array<${e}, ${t.N}>`:t.itemType.kind==="value"?"array":`array<${e}>`}return t.kind}let P0=[Sr,$e,kt,St,ba,zo,Va,Ca(Lt),ir];function dn(t,e){if(e.kind==="error")return null;if(t.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!dn(t.itemType,e.itemType))&&(typeof t.N!="number"||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if(t.kind==="value"){for(let i of P0)if(!dn(i,e))return null}}return`Expected ${di(t)} but found ${di(e)} instead.`}function Ao(t,e){return e.some(i=>i.kind===t.kind)}function To(t,e){return e.some(i=>i==="null"?t===null:i==="array"?Array.isArray(t):i==="object"?t&&!Array.isArray(t)&&typeof t=="object":i===typeof t)}var Yl,k0={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Co(t){return(t=Math.round(t))<0?0:t>255?255:t}function Eo(t){return Co(t[t.length-1]==="%"?parseFloat(t)/100*255:parseInt(t))}function Ts(t){return(e=t[t.length-1]==="%"?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function Lr(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}try{Yl={}.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in k0)return k0[i].slice();if(i[0]==="#")return i.length===4?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:i.length===7&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var n=i.indexOf("("),s=i.indexOf(")");if(n!==-1&&s+1===i.length){var c=i.substr(0,n),u=i.substr(n+1,s-(n+1)).split(","),p=1;switch(c){case"rgba":if(u.length!==4)return null;p=Ts(u.pop());case"rgb":return u.length!==3?null:[Eo(u[0]),Eo(u[1]),Eo(u[2]),p];case"hsla":if(u.length!==4)return null;p=Ts(u.pop());case"hsl":if(u.length!==3)return null;var f=(parseFloat(u[0])%360+360)%360/360,g=Ts(u[1]),v=Ts(u[2]),b=v<=.5?v*(g+1):v+g-v*g,M=2*v-b;return[Co(255*Lr(M,b,f+1/3)),Co(255*Lr(M,b,f)),Co(255*Lr(M,b,f-1/3)),p];default:return null}}return null}}catch{}class ua{constructor(e,i,n,s=1){this.r=e,this.g=i,this.b=n,this.a=s}static parse(e){if(!e)return;if(e instanceof ua)return e;if(typeof e!="string")return;let i=Yl(e);return i?new ua(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toString(){let[e,i,n,s]=this.toArray();return`rgba(${Math.round(e)},${Math.round(i)},${Math.round(n)},${s})`}toArray(){let{r:e,g:i,b:n,a:s}=this;return s===0?[0,0,0,0]:[255*e/s,255*i/s,255*n/s,s]}toArray01(){let{r:e,g:i,b:n,a:s}=this;return s===0?[0,0,0,0]:[e/s,i/s,n/s,s]}toArray01PremultipliedAlpha(){let{r:e,g:i,b:n,a:s}=this;return[e,i,n,s]}}ua.black=new ua(0,0,0,1),ua.white=new ua(1,1,1,1),ua.transparent=new ua(0,0,0,0),ua.red=new ua(1,0,0,1),ua.blue=new ua(0,0,1,1);var bi=ua;class Jl{constructor(e,i,n){this.sensitivity=e?i?"variant":"case":i?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,i){return this.collator.compare(e,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ql{constructor(e,i,n,s,c){this.text=e.normalize?e.normalize():e,this.image=i,this.scale=n,this.fontStack=s,this.textColor=c}}class da{constructor(e){this.sections=e}static fromString(e){return new da([new Ql(e,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof da?e:da.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){let e=["format"];for(let i of this.sections){if(i.image){e.push(["image",i.image.name]);continue}e.push(i.text);let n={};i.fontStack&&(n["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(n["font-scale"]=i.scale),i.textColor&&(n["text-color"]=["rgba"].concat(i.textColor.toArray())),e.push(n)}return e}}class Ea{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Ea({name:e,available:!1}):null}serialize(){return["image",this.name]}}function D0(t,e,i,n){return typeof t=="number"&&t>=0&&t<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof i=="number"&&i>=0&&i<=255?n===void 0||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,i,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[t,e,i,n]:[t,e,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function So(t){if(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||t instanceof bi||t instanceof Jl||t instanceof da||t instanceof Ea)return!0;if(Array.isArray(t)){for(let e of t)if(!So(e))return!1;return!0}if(typeof t=="object"){for(let e in t)if(!So(t[e]))return!1;return!0}return!1}function yi(t){if(t===null)return Sr;if(typeof t=="string")return kt;if(typeof t=="boolean")return St;if(typeof t=="number")return $e;if(t instanceof bi)return ba;if(t instanceof Jl)return wa;if(t instanceof da)return zo;if(t instanceof Ea)return ir;if(Array.isArray(t)){let e=t.length,i;for(let n of t){let s=yi(n);if(i){if(i===s)continue;i=Lt;break}i=s}return Ca(i||Lt,e)}return Va}function Lo(t){let e=typeof t;return t===null?"":e==="string"||e==="number"||e==="boolean"?String(t):t instanceof bi||t instanceof da||t instanceof Ea?t.toString():JSON.stringify(t)}class ec{constructor(e,i){this.type=e,this.value=i}static parse(e,i){if(e.length!==2)return i.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!So(e[1]))return i.error("invalid value");let n=e[1],s=yi(n),c=i.expectedType;return s.kind!=="array"||s.N!==0||!c||c.kind!=="array"||typeof c.N=="number"&&c.N!==0||(s=c),new ec(s,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof bi?["rgba"].concat(this.value.toArray()):this.value instanceof da?this.value.serialize():this.value}}var ar=ec,Ji=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};let tc={string:kt,number:$e,boolean:St,object:Va};class ic{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");let n,s=1,c=e[0];if(c==="array"){let p,f;if(e.length>2){let g=e[1];if(typeof g!="string"||!(g in tc)||g==="object")return i.error('The item type argument of "array" must be one of string, number, boolean',1);p=tc[g],s++}else p=Lt;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return i.error('The length argument to "array" must be a positive integer literal',2);f=e[2],s++}n=Ca(p,f)}else n=tc[c];let u=[];for(;s<e.length;s++){let p=i.parse(e[s],s,Lt);if(!p)return null;u.push(p)}return new ic(n,u)}evaluate(e){for(let i=0;i<this.args.length;i++){let n=this.args[i].evaluate(e);if(!dn(this.type,yi(n)))return n;if(i===this.args.length-1)throw new Ji(`Expected value to be of type ${di(this.type)}, but found ${di(yi(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){let e=this.type,i=[e.kind];if(e.kind==="array"){let n=e.itemType;if(n.kind==="string"||n.kind==="number"||n.kind==="boolean"){i.push(n.kind);let s=e.N;(typeof s=="number"||this.args.length>1)&&i.push(s)}}return i.concat(this.args.map(n=>n.serialize()))}}var pn=ic;class Bn{constructor(e){this.type=zo,this.sections=e}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");let n=e[1];if(!Array.isArray(n)&&typeof n=="object")return i.error("First argument must be an image or text section.");let s=[],c=!1;for(let u=1;u<=e.length-1;++u){let p=e[u];if(c&&typeof p=="object"&&!Array.isArray(p)){c=!1;let f=null;if(p["font-scale"]&&(f=i.parse(p["font-scale"],1,$e),!f))return null;let g=null;if(p["text-font"]&&(g=i.parse(p["text-font"],1,Ca(kt)),!g))return null;let v=null;if(p["text-color"]&&(v=i.parse(p["text-color"],1,ba),!v))return null;let b=s[s.length-1];b.scale=f,b.font=g,b.textColor=v}else{let f=i.parse(e[u],1,Lt);if(!f)return null;let g=f.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");c=!0,s.push({content:f,scale:null,font:null,textColor:null})}}return new Bn(s)}evaluate(e){return new da(this.sections.map(i=>{let n=i.content.evaluate(e);return yi(n)===ir?new Ql("",n,null,null,null):new Ql(Lo(n),null,i.scale?i.scale.evaluate(e):null,i.font?i.font.evaluate(e).join(","):null,i.textColor?i.textColor.evaluate(e):null)}))}eachChild(e){for(let i of this.sections)e(i.content),i.scale&&e(i.scale),i.font&&e(i.font),i.textColor&&e(i.textColor)}outputDefined(){return!1}serialize(){let e=["format"];for(let i of this.sections){e.push(i.content.serialize());let n={};i.scale&&(n["font-scale"]=i.scale.serialize()),i.font&&(n["text-font"]=i.font.serialize()),i.textColor&&(n["text-color"]=i.textColor.serialize()),e.push(n)}return e}}class Cs{constructor(e){this.type=ir,this.input=e}static parse(e,i){if(e.length!==2)return i.error("Expected two arguments.");let n=i.parse(e[1],1,kt);return n?new Cs(n):i.error("No image name provided.")}evaluate(e){let i=this.input.evaluate(e),n=Ea.fromString(i);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(i)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}let zh={"to-boolean":St,"to-color":ba,"to-number":$e,"to-string":kt};class ac{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");let n=e[0];if((n==="to-boolean"||n==="to-string")&&e.length!==2)return i.error("Expected one argument.");let s=zh[n],c=[];for(let u=1;u<e.length;u++){let p=i.parse(e[u],u,Lt);if(!p)return null;c.push(p)}return new ac(s,c)}evaluate(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){let i,n;for(let s of this.args){if(i=s.evaluate(e),n=null,i instanceof bi)return i;if(typeof i=="string"){let c=e.parseColor(i);if(c)return c}else if(Array.isArray(i)&&(n=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:D0(i[0],i[1],i[2],i[3]),!n))return new bi(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new Ji(n||`Could not parse color from value '${typeof i=="string"?i:String(JSON.stringify(i))}'`)}if(this.type.kind==="number"){let i=null;for(let n of this.args){if(i=n.evaluate(e),i===null)return 0;let s=Number(i);if(!isNaN(s))return s}throw new Ji(`Could not convert ${JSON.stringify(i)} to number.`)}return this.type.kind==="formatted"?da.fromString(Lo(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?Ea.fromString(Lo(this.args[0].evaluate(e))):Lo(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Bn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Cs(this.args[0]).serialize();let e=[`to-${this.type.kind}`];return this.eachChild(i=>{e.push(i.serialize())}),e}}var Ir=ac;let Wa=["Unknown","Point","LineString","Polygon"];var nc=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Wa[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){let t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:i,y:n}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(i*e-t[0])+this.featureDistanceData.bearing[1]*(n*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=bi.parse(t)),e}};class nr{constructor(e,i,n,s){this.name=e,this.type=i,this._evaluate=n,this.args=s}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,i){let n=e[0],s=nr.definitions[n];if(!s)return i.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);let c=Array.isArray(s)?s[0]:s.type,u=Array.isArray(s)?[[s[1],s[2]]]:s.overloads,p=u.filter(([g])=>!Array.isArray(g)||g.length===e.length-1),f=null;for(let[g,v]of p){f=new hc(i.registry,i.path,null,i.scope);let b=[],M=!1;for(let T=1;T<e.length;T++){let C=e[T],L=Array.isArray(g)?g[T-1]:g.type,D=f.parse(C,1+b.length,L);if(!D){M=!0;break}b.push(D)}if(!M)if(Array.isArray(g)&&g.length!==b.length)f.error(`Expected ${g.length} arguments, but found ${b.length} instead.`);else{for(let T=0;T<b.length;T++){let C=Array.isArray(g)?g[T]:g.type,L=b[T];f.concat(T+1).checkSubtype(C,L.type)}if(f.errors.length===0)return new nr(n,c,v,b)}}if(p.length===1)i.errors.push(...f.errors);else{let g=(p.length?p:u).map(([b])=>{return M=b,Array.isArray(M)?`(${M.map(di).join(", ")})`:`(${di(M.type)}...)`;var M}).join(" | "),v=[];for(let b=1;b<e.length;b++){let M=i.parse(e[b],1+v.length);if(!M)return null;v.push(di(M.type))}i.error(`Expected arguments of type ${g}, but found (${v.join(", ")}) instead.`)}return null}static register(e,i){nr.definitions=i;for(let n in i)e[n]=nr}}var mn=nr;class Io{constructor(e,i,n){this.type=wa,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=i}static parse(e,i){if(e.length!==2)return i.error("Expected one argument.");let n=e[1];if(typeof n!="object"||Array.isArray(n))return i.error("Collator options argument must be an object.");let s=i.parse(n["case-sensitive"]!==void 0&&n["case-sensitive"],1,St);if(!s)return null;let c=i.parse(n["diacritic-sensitive"]!==void 0&&n["diacritic-sensitive"],1,St);if(!c)return null;let u=null;return n.locale&&(u=i.parse(n.locale,1,kt),!u)?null:new Io(s,c,u)}evaluate(e){return new Jl(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){let e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}let fn=8192;function Es(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Pr(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Po(t,e){let i=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,s=Math.pow(2,e.z);return[Math.round(i*s*fn),Math.round(n*s*fn)]}function O0(t,e,i){let n=t[0]-e[0],s=t[1]-e[1],c=t[0]-i[0],u=t[1]-i[1];return n*u-c*s==0&&n*c<=0&&s*u<=0}function Ss(t,e){let i=!1;for(let u=0,p=e.length;u<p;u++){let f=e[u];for(let g=0,v=f.length;g<v-1;g++){if(O0(t,f[g],f[g+1]))return!1;(s=f[g])[1]>(n=t)[1]!=(c=f[g+1])[1]>n[1]&&n[0]<(c[0]-s[0])*(n[1]-s[1])/(c[1]-s[1])+s[0]&&(i=!i)}}var n,s,c;return i}function rc(t,e){for(let i=0;i<e.length;i++)if(Ss(t,e[i]))return!0;return!1}function oc(t,e,i,n){let s=n[0]-i[0],c=n[1]-i[1],u=(t[0]-i[0])*c-s*(t[1]-i[1]),p=(e[0]-i[0])*c-s*(e[1]-i[1]);return u>0&&p<0||u<0&&p>0}function kr(t,e,i){for(let g of i)for(let v=0;v<g.length-1;++v)if((p=[(u=g[v+1])[0]-(c=g[v])[0],u[1]-c[1]])[0]*(f=[(s=e)[0]-(n=t)[0],s[1]-n[1]])[1]-p[1]*f[0]!=0&&oc(n,s,c,u)&&oc(c,u,n,s))return!0;var n,s,c,u,p,f;return!1}function Zt(t,e){for(let i=0;i<t.length;++i)if(!Ss(t[i],e))return!1;for(let i=0;i<t.length-1;++i)if(kr(t[i],t[i+1],e))return!1;return!0}function Ah(t,e){for(let i=0;i<e.length;i++)if(Zt(t,e[i]))return!0;return!1}function sc(t,e,i){let n=[];for(let s=0;s<t.length;s++){let c=[];for(let u=0;u<t[s].length;u++){let p=Po(t[s][u],i);Es(e,p),c.push(p)}n.push(c)}return n}function R0(t,e,i){let n=[];for(let s=0;s<t.length;s++){let c=sc(t[s],e,i);n.push(c)}return n}function lc(t,e,i,n){if(t[0]<i[0]||t[0]>i[2]){let s=.5*n,c=t[0]-i[0]>s?-n:i[0]-t[0]>s?n:0;c===0&&(c=t[0]-i[2]>s?-n:i[2]-t[0]>s?n:0),t[0]+=c}Es(e,t)}function B0(t,e,i,n){let s=Math.pow(2,n.z)*fn,c=[n.x*fn,n.y*fn],u=[];if(!t)return u;for(let p of t)for(let f of p){let g=[f.x+c[0],f.y+c[1]];lc(g,e,i,s),u.push(g)}return u}function cc(t,e,i,n){let s=Math.pow(2,n.z)*fn,c=[n.x*fn,n.y*fn],u=[];if(!t)return u;for(let f of t){let g=[];for(let v of f){let b=[v.x+c[0],v.y+c[1]];Es(e,b),g.push(b)}u.push(g)}if(e[2]-e[0]<=s/2){(p=e)[0]=p[1]=1/0,p[2]=p[3]=-1/0;for(let f of u)for(let g of f)lc(g,e,i,s)}var p;return u}class Dr{constructor(e,i){this.type=St,this.geojson=e,this.geometries=i}static parse(e,i){if(e.length!==2)return i.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(So(e[1])){let n=e[1];if(n.type==="FeatureCollection")for(let s=0;s<n.features.length;++s){let c=n.features[s].geometry.type;if(c==="Polygon"||c==="MultiPolygon")return new Dr(n,n.features[s].geometry)}else if(n.type==="Feature"){let s=n.geometry.type;if(s==="Polygon"||s==="MultiPolygon")return new Dr(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new Dr(n,n)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return function(i,n){let s=[1/0,1/0,-1/0,-1/0],c=[1/0,1/0,-1/0,-1/0],u=i.canonicalID();if(!u)return!1;if(n.type==="Polygon"){let p=sc(n.coordinates,c,u),f=B0(i.geometry(),s,c,u);if(!Pr(s,c))return!1;for(let g of f)if(!Ss(g,p))return!1}if(n.type==="MultiPolygon"){let p=R0(n.coordinates,c,u),f=B0(i.geometry(),s,c,u);if(!Pr(s,c))return!1;for(let g of f)if(!rc(g,p))return!1}return!0}(e,this.geometries);if(e.geometryType()==="LineString")return function(i,n){let s=[1/0,1/0,-1/0,-1/0],c=[1/0,1/0,-1/0,-1/0],u=i.canonicalID();if(!u)return!1;if(n.type==="Polygon"){let p=sc(n.coordinates,c,u),f=cc(i.geometry(),s,c,u);if(!Pr(s,c))return!1;for(let g of f)if(!Zt(g,p))return!1}if(n.type==="MultiPolygon"){let p=R0(n.coordinates,c,u),f=cc(i.geometry(),s,c,u);if(!Pr(s,c))return!1;for(let g of f)if(!Ah(g,p))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Ls=Dr;function Or(t){if(t instanceof mn&&(t.name==="get"&&t.args.length===1||t.name==="feature-state"||t.name==="has"&&t.args.length===1||t.name==="properties"||t.name==="geometry-type"||t.name==="id"||/^filter-/.test(t.name))||t instanceof Ls)return!1;let e=!0;return t.eachChild(i=>{e&&!Or(i)&&(e=!1)}),e}function gn(t){if(t instanceof mn&&t.name==="feature-state")return!1;let e=!0;return t.eachChild(i=>{e&&!gn(i)&&(e=!1)}),e}function rr(t,e){if(t instanceof mn&&e.indexOf(t.name)>=0)return!1;let i=!0;return t.eachChild(n=>{i&&!rr(n,e)&&(i=!1)}),i}class Is{constructor(e,i){this.type=i.type,this.name=e,this.boundExpression=i}static parse(e,i){if(e.length!==2||typeof e[1]!="string")return i.error("'var' expression requires exactly one string literal argument.");let n=e[1];return i.scope.has(n)?new Is(n,i.scope.get(n)):i.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var F0=Is;class ko{constructor(e,i=[],n,s=new I0,c=[]){this.registry=e,this.path=i,this.key=i.map(u=>`[${u}]`).join(""),this.scope=s,this.errors=c,this.expectedType=n}parse(e,i,n,s,c={}){return i?this.concat(i,n,s)._parse(e,c):this._parse(e,c)}_parse(e,i){function n(s,c,u){return u==="assert"?new pn(c,[s]):u==="coerce"?new Ir(c,[s]):s}if(e!==null&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"||(e=["literal",e]),Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');let s=e[0];if(typeof s!="string")return this.error(`Expression name must be a string, but found ${typeof s} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let c=this.registry[s];if(c){let u=c.parse(e,this);if(!u)return null;if(this.expectedType){let p=this.expectedType,f=u.type;if(p.kind!=="string"&&p.kind!=="number"&&p.kind!=="boolean"&&p.kind!=="object"&&p.kind!=="array"||f.kind!=="value")if(p.kind!=="color"&&p.kind!=="formatted"&&p.kind!=="resolvedImage"||f.kind!=="value"&&f.kind!=="string"){if(this.checkSubtype(p,f))return null}else u=n(u,p,i.typeAnnotation||"coerce");else u=n(u,p,i.typeAnnotation||"assert")}if(!(u instanceof ar)&&u.type.kind!=="resolvedImage"&&uc(u)){let p=new nc;try{u=new ar(u.type,u.evaluate(p))}catch(f){return this.error(f.message),null}}return u}return this.error(`Unknown expression "${s}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(e===void 0?"'undefined' value invalid. Use null instead.":typeof e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,i,n){let s=typeof e=="number"?this.path.concat(e):this.path,c=n?this.scope.concat(n):this.scope;return new ko(this.registry,s,i||null,c,this.errors)}error(e,...i){let n=`${this.key}${i.map(s=>`[${s}]`).join("")}`;this.errors.push(new qa(n,e))}checkSubtype(e,i){let n=dn(e,i);return n&&this.error(n),n}}var hc=ko;function uc(t){if(t instanceof F0)return uc(t.boundExpression);if(t instanceof mn&&t.name==="error"||t instanceof Io||t instanceof Ls)return!1;let e=t instanceof Ir||t instanceof pn,i=!0;return t.eachChild(n=>{i=e?i&&uc(n):i&&n instanceof ar}),!!i&&Or(t)&&rr(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ps(t,e){let i=t.length-1,n,s,c=0,u=i,p=0;for(;c<=u;)if(p=Math.floor((c+u)/2),n=t[p],s=t[p+1],n<=e){if(p===i||e<s)return p;c=p+1}else{if(!(n>e))throw new Ji("Input is not a number.");u=p-1}return 0}class ks{constructor(e,i,n){this.type=e,this.input=i,this.labels=[],this.outputs=[];for(let[s,c]of n)this.labels.push(s),this.outputs.push(c)}static parse(e,i){if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");let n=i.parse(e[1],1,$e);if(!n)return null;let s=[],c=null;i.expectedType&&i.expectedType.kind!=="value"&&(c=i.expectedType);for(let u=1;u<e.length;u+=2){let p=u===1?-1/0:e[u],f=e[u+1],g=u,v=u+1;if(typeof p!="number")return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(s.length&&s[s.length-1][0]>=p)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);let b=i.parse(f,v,c);if(!b)return null;c=c||b.type,s.push([p,b])}return new ks(c,n,s)}evaluate(e){let i=this.labels,n=this.outputs;if(i.length===1)return n[0].evaluate(e);let s=this.input.evaluate(e);if(s<=i[0])return n[0].evaluate(e);let c=i.length;return s>=i[c-1]?n[c-1].evaluate(e):n[Ps(i,s)].evaluate(e)}eachChild(e){e(this.input);for(let i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&e.push(this.labels[i]),e.push(this.outputs[i].serialize());return e}}var dc=ks;function Bt(t,e,i){return t*(1-i)+e*i}var Do=Object.freeze({__proto__:null,array:function(t,e,i){return t.map((n,s)=>Bt(n,e[s],i))},color:function(t,e,i){return new bi(Bt(t.r,e.r,i),Bt(t.g,e.g,i),Bt(t.b,e.b,i),Bt(t.a,e.a,i))},number:Bt});let V0=.95047,pc=1.08883,N0=4/29,or=6/29,mc=3*or*or,Th=or*or*or,Ch=Math.PI/180,Eh=180/Math.PI;function fc(t){return t>Th?Math.pow(t,1/3):t/mc+N0}function gc(t){return t>or?t*t*t:mc*(t-N0)}function _c(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ds(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U0(t){let e=Ds(t.r),i=Ds(t.g),n=Ds(t.b),s=fc((.4124564*e+.3575761*i+.1804375*n)/V0),c=fc((.2126729*e+.7151522*i+.072175*n)/1);return{l:116*c-16,a:500*(s-c),b:200*(c-fc((.0193339*e+.119192*i+.9503041*n)/pc)),alpha:t.a}}function j0(t){let e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*gc(e),i=V0*gc(i),n=pc*gc(n),new bi(_c(3.2404542*i-1.5371385*e-.4985314*n),_c(-.969266*i+1.8760108*e+.041556*n),_c(.0556434*i-.2040259*e+1.0572252*n),t.alpha)}function Sh(t,e,i){let n=e-t;return t+i*(n>180||n<-180?n-360*Math.round(n/360):n)}let Oo={forward:U0,reverse:j0,interpolate:function(t,e,i){return{l:Bt(t.l,e.l,i),a:Bt(t.a,e.a,i),b:Bt(t.b,e.b,i),alpha:Bt(t.alpha,e.alpha,i)}}},Rr={forward:function(t){let{l:e,a:i,b:n}=U0(t),s=Math.atan2(n,i)*Eh;return{h:s<0?s+360:s,c:Math.sqrt(i*i+n*n),l:e,alpha:t.a}},reverse:function(t){let e=t.h*Ch,i=t.c;return j0({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})},interpolate:function(t,e,i){return{h:Sh(t.h,e.h,i),c:Bt(t.c,e.c,i),l:Bt(t.l,e.l,i),alpha:Bt(t.alpha,e.alpha,i)}}};var yc=Object.freeze({__proto__:null,hcl:Rr,lab:Oo});class Ro{constructor(e,i,n,s,c){this.type=e,this.operator=i,this.interpolation=n,this.input=s,this.labels=[],this.outputs=[];for(let[u,p]of c)this.labels.push(u),this.outputs.push(p)}static interpolationFactor(e,i,n,s){let c=0;if(e.name==="exponential")c=vc(i,e.base,n,s);else if(e.name==="linear")c=vc(i,1,n,s);else if(e.name==="cubic-bezier"){let u=e.controlPoints;c=new at(u[0],u[1],u[2],u[3]).solve(vc(i,1,n,s))}return c}static parse(e,i){let[n,s,c,...u]=e;if(!Array.isArray(s)||s.length===0)return i.error("Expected an interpolation type expression.",1);if(s[0]==="linear")s={name:"linear"};else if(s[0]==="exponential"){let g=s[1];if(typeof g!="number")return i.error("Exponential interpolation requires a numeric base.",1,1);s={name:"exponential",base:g}}else{if(s[0]!=="cubic-bezier")return i.error(`Unknown interpolation type ${String(s[0])}`,1,0);{let g=s.slice(1);if(g.length!==4||g.some(v=>typeof v!="number"||v<0||v>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);s={name:"cubic-bezier",controlPoints:g}}}if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(c=i.parse(c,2,$e),!c)return null;let p=[],f=null;n==="interpolate-hcl"||n==="interpolate-lab"?f=ba:i.expectedType&&i.expectedType.kind!=="value"&&(f=i.expectedType);for(let g=0;g<u.length;g+=2){let v=u[g],b=u[g+1],M=g+3,T=g+4;if(typeof v!="number")return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(p.length&&p[p.length-1][0]>=v)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',M);let C=i.parse(b,T,f);if(!C)return null;f=f||C.type,p.push([v,C])}return f.kind==="number"||f.kind==="color"||f.kind==="array"&&f.itemType.kind==="number"&&typeof f.N=="number"?new Ro(f,n,s,c,p):i.error(`Type ${di(f)} is not interpolatable.`)}evaluate(e){let i=this.labels,n=this.outputs;if(i.length===1)return n[0].evaluate(e);let s=this.input.evaluate(e);if(s<=i[0])return n[0].evaluate(e);let c=i.length;if(s>=i[c-1])return n[c-1].evaluate(e);let u=Ps(i,s),p=Ro.interpolationFactor(this.interpolation,s,i[u],i[u+1]),f=n[u].evaluate(e),g=n[u+1].evaluate(e);return this.operator==="interpolate"?Do[this.type.kind.toLowerCase()](f,g,p):this.operator==="interpolate-hcl"?Rr.reverse(Rr.interpolate(Rr.forward(f),Rr.forward(g),p)):Oo.reverse(Oo.interpolate(Oo.forward(f),Oo.forward(g),p))}eachChild(e){e(this.input);for(let i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);let i=[this.operator,e,this.input.serialize()];for(let n=0;n<this.labels.length;n++)i.push(this.labels[n],this.outputs[n].serialize());return i}}function vc(t,e,i,n){let s=n-i,c=t-i;return s===0?0:e===1?c/s:(Math.pow(e,c)-1)/(Math.pow(e,s)-1)}var Xa=Ro;class Os{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expectected at least one argument.");let n=null,s=i.expectedType;s&&s.kind!=="value"&&(n=s);let c=[];for(let p of e.slice(1)){let f=i.parse(p,1+c.length,n,void 0,{typeAnnotation:"omit"});if(!f)return null;n=n||f.type,c.push(f)}let u=s&&c.some(p=>dn(s,p.type));return new Os(u?Lt:n,c)}evaluate(e){let i,n=null,s=0;for(let c of this.args){if(s++,n=c.evaluate(e),n&&n instanceof Ea&&!n.available&&(i||(i=n),n=null,s===this.args.length))return i;if(n!==null)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){let e=["coalesce"];return this.eachChild(i=>{e.push(i.serialize())}),e}}var xc=Os;class Rs{constructor(e,i){this.type=i.type,this.bindings=[].concat(e),this.result=i}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(let i of this.bindings)e(i[1]);e(this.result)}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);let n=[];for(let c=1;c<e.length-1;c+=2){let u=e[c];if(typeof u!="string")return i.error(`Expected string, but found ${typeof u} instead.`,c);if(/[^a-zA-Z0-9_]/.test(u))return i.error("Variable names must contain only alphanumeric characters or '_'.",c);let p=i.parse(e[c+1],c+1);if(!p)return null;n.push([u,p])}let s=i.parse(e[e.length-1],e.length-1,i.expectedType,n);return s?new Rs(n,s):null}outputDefined(){return this.result.outputDefined()}serialize(){let e=["let"];for(let[i,n]of this.bindings)e.push(i,n.serialize());return e.push(this.result.serialize()),e}}var H0=Rs;class bc{constructor(e,i,n){this.type=e,this.index=i,this.input=n}static parse(e,i){if(e.length!==3)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let n=i.parse(e[1],1,$e),s=i.parse(e[2],2,Ca(i.expectedType||Lt));return n&&s?new bc(s.type.itemType,n,s):null}evaluate(e){let i=this.index.evaluate(e),n=this.input.evaluate(e);if(i<0)throw new Ji(`Array index out of bounds: ${i} < 0.`);if(i>=n.length)throw new Ji(`Array index out of bounds: ${i} > ${n.length-1}.`);if(i!==Math.floor(i))throw new Ji(`Array index must be an integer, but found ${i} instead.`);return n[i]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Lh=bc;class wc{constructor(e,i){this.type=St,this.needle=e,this.haystack=i}static parse(e,i){if(e.length!==3)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let n=i.parse(e[1],1,Lt),s=i.parse(e[2],2,Lt);return n&&s?Ao(n.type,[St,kt,$e,Sr,Lt])?new wc(n,s):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${di(n.type)} instead`):null}evaluate(e){let i=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(n==null)return!1;if(!To(i,["boolean","string","number","null"]))throw new Ji(`Expected first argument to be of type boolean, string, number or null, but found ${di(yi(i))} instead.`);if(!To(n,["string","array"]))throw new Ji(`Expected second argument to be of type array or string, but found ${di(yi(n))} instead.`);return n.indexOf(i)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Bs=wc;class Bo{constructor(e,i,n){this.type=$e,this.needle=e,this.haystack=i,this.fromIndex=n}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let n=i.parse(e[1],1,Lt),s=i.parse(e[2],2,Lt);if(!n||!s)return null;if(!Ao(n.type,[St,kt,$e,Sr,Lt]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${di(n.type)} instead`);if(e.length===4){let c=i.parse(e[3],3,$e);return c?new Bo(n,s,c):null}return new Bo(n,s)}evaluate(e){let i=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!To(i,["boolean","string","number","null"]))throw new Ji(`Expected first argument to be of type boolean, string, number or null, but found ${di(yi(i))} instead.`);if(!To(n,["string","array"]))throw new Ji(`Expected second argument to be of type array or string, but found ${di(yi(n))} instead.`);if(this.fromIndex){let s=this.fromIndex.evaluate(e);return n.indexOf(i,s)}return n.indexOf(i)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){let e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var G0=Bo;class Mc{constructor(e,i,n,s,c,u){this.inputType=e,this.type=i,this.input=n,this.cases=s,this.outputs=c,this.otherwise=u}static parse(e,i){if(e.length<5)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return i.error("Expected an even number of arguments.");let n,s;i.expectedType&&i.expectedType.kind!=="value"&&(s=i.expectedType);let c={},u=[];for(let g=2;g<e.length-1;g+=2){let v=e[g],b=e[g+1];Array.isArray(v)||(v=[v]);let M=i.concat(g);if(v.length===0)return M.error("Expected at least one branch label.");for(let C of v){if(typeof C!="number"&&typeof C!="string")return M.error("Branch labels must be numbers or strings.");if(typeof C=="number"&&Math.abs(C)>Number.MAX_SAFE_INTEGER)return M.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof C=="number"&&Math.floor(C)!==C)return M.error("Numeric branch labels must be integer values.");if(n){if(M.checkSubtype(n,yi(C)))return null}else n=yi(C);if(c[String(C)]!==void 0)return M.error("Branch labels must be unique.");c[String(C)]=u.length}let T=i.parse(b,g,s);if(!T)return null;s=s||T.type,u.push(T)}let p=i.parse(e[1],1,Lt);if(!p)return null;let f=i.parse(e[e.length-1],e.length-1,s);return f?p.type.kind!=="value"&&i.concat(1).checkSubtype(n,p.type)?null:new Mc(n,s,p,c,u,f):null}evaluate(e){let i=this.input.evaluate(e);return(yi(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){let e=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),n=[],s={};for(let u of i){let p=s[this.cases[u]];p===void 0?(s[this.cases[u]]=n.length,n.push([this.cases[u],[u]])):n[p][1].push(u)}let c=u=>this.inputType.kind==="number"?Number(u):u;for(let[u,p]of n)e.push(p.length===1?c(p[0]):p.map(c)),e.push(this.outputs[u].serialize());return e.push(this.otherwise.serialize()),e}}var Ih=Mc;class zc{constructor(e,i,n){this.type=e,this.branches=i,this.otherwise=n}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return i.error("Expected an odd number of arguments.");let n;i.expectedType&&i.expectedType.kind!=="value"&&(n=i.expectedType);let s=[];for(let u=1;u<e.length-1;u+=2){let p=i.parse(e[u],u,St);if(!p)return null;let f=i.parse(e[u+1],u+1,n);if(!f)return null;s.push([p,f]),n=n||f.type}let c=i.parse(e[e.length-1],e.length-1,n);return c?new zc(n,s,c):null}evaluate(e){for(let[i,n]of this.branches)if(i.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(let[i,n]of this.branches)e(i),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){let e=["case"];return this.eachChild(i=>{e.push(i.serialize())}),e}}var Z0=zc;class Fo{constructor(e,i,n,s){this.type=e,this.input=i,this.beginIndex=n,this.endIndex=s}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let n=i.parse(e[1],1,Lt),s=i.parse(e[2],2,$e);if(!n||!s)return null;if(!Ao(n.type,[Ca(Lt),kt,Lt]))return i.error(`Expected first argument to be of type array or string, but found ${di(n.type)} instead`);if(e.length===4){let c=i.parse(e[3],3,$e);return c?new Fo(n.type,n,s,c):null}return new Fo(n.type,n,s)}evaluate(e){let i=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!To(i,["string","array"]))throw new Ji(`Expected first argument to be of type array or string, but found ${di(yi(i))} instead.`);if(this.endIndex){let s=this.endIndex.evaluate(e);return i.slice(n,s)}return i.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){let e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var $0=Fo;function Fs(t,e){return t==="=="||t==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function q0(t,e,i,n){return n.compare(e,i)===0}function Br(t,e,i){let n=t!=="=="&&t!=="!=";return class rg{constructor(c,u,p){this.type=St,this.lhs=c,this.rhs=u,this.collator=p,this.hasUntypedArgument=c.type.kind==="value"||u.type.kind==="value"}static parse(c,u){if(c.length!==3&&c.length!==4)return u.error("Expected two or three arguments.");let p=c[0],f=u.parse(c[1],1,Lt);if(!f)return null;if(!Fs(p,f.type))return u.concat(1).error(`"${p}" comparisons are not supported for type '${di(f.type)}'.`);let g=u.parse(c[2],2,Lt);if(!g)return null;if(!Fs(p,g.type))return u.concat(2).error(`"${p}" comparisons are not supported for type '${di(g.type)}'.`);if(f.type.kind!==g.type.kind&&f.type.kind!=="value"&&g.type.kind!=="value")return u.error(`Cannot compare types '${di(f.type)}' and '${di(g.type)}'.`);n&&(f.type.kind==="value"&&g.type.kind!=="value"?f=new pn(g.type,[f]):f.type.kind!=="value"&&g.type.kind==="value"&&(g=new pn(f.type,[g])));let v=null;if(c.length===4){if(f.type.kind!=="string"&&g.type.kind!=="string"&&f.type.kind!=="value"&&g.type.kind!=="value")return u.error("Cannot use collator to compare non-string types.");if(v=u.parse(c[3],3,wa),!v)return null}return new rg(f,g,v)}evaluate(c){let u=this.lhs.evaluate(c),p=this.rhs.evaluate(c);if(n&&this.hasUntypedArgument){let f=yi(u),g=yi(p);if(f.kind!==g.kind||f.kind!=="string"&&f.kind!=="number")throw new Ji(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${f.kind}, ${g.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){let f=yi(u),g=yi(p);if(f.kind!=="string"||g.kind!=="string")return e(c,u,p)}return this.collator?i(c,u,p,this.collator.evaluate(c)):e(c,u,p)}eachChild(c){c(this.lhs),c(this.rhs),this.collator&&c(this.collator)}outputDefined(){return!0}serialize(){let c=[t];return this.eachChild(u=>{c.push(u.serialize())}),c}}}let Ph=Br("==",function(t,e,i){return e===i},q0),kh=Br("!=",function(t,e,i){return e!==i},function(t,e,i,n){return!q0(0,e,i,n)}),Dh=Br("<",function(t,e,i){return e<i},function(t,e,i,n){return n.compare(e,i)<0}),Oh=Br(">",function(t,e,i){return e>i},function(t,e,i,n){return n.compare(e,i)>0}),Rh=Br("<=",function(t,e,i){return e<=i},function(t,e,i,n){return n.compare(e,i)<=0}),W0=Br(">=",function(t,e,i){return e>=i},function(t,e,i,n){return n.compare(e,i)>=0});class Vs{constructor(e,i,n,s,c,u){this.type=kt,this.number=e,this.locale=i,this.currency=n,this.unit=s,this.minFractionDigits=c,this.maxFractionDigits=u}static parse(e,i){if(e.length!==3)return i.error("Expected two arguments.");let n=i.parse(e[1],1,$e);if(!n)return null;let s=e[2];if(typeof s!="object"||Array.isArray(s))return i.error("NumberFormat options argument must be an object.");let c=null;if(s.locale&&(c=i.parse(s.locale,1,kt),!c))return null;let u=null;if(s.currency&&(u=i.parse(s.currency,1,kt),!u))return null;let p=null;if(s.unit&&(p=i.parse(s.unit,1,kt),!p))return null;let f=null;if(s["min-fraction-digits"]&&(f=i.parse(s["min-fraction-digits"],1,$e),!f))return null;let g=null;return s["max-fraction-digits"]&&(g=i.parse(s["max-fraction-digits"],1,$e),!g)?null:new Vs(n,c,u,p,f,g)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){let e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Fr{constructor(e){this.type=$e,this.input=e}static parse(e,i){if(e.length!==2)return i.error(`Expected 1 argument, but found ${e.length-1} instead.`);let n=i.parse(e[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?i.error(`Expected argument of type string or array, but found ${di(n.type)} instead.`):new Fr(n):null}evaluate(e){let i=this.input.evaluate(e);if(typeof i=="string"||Array.isArray(i))return i.length;throw new Ji(`Expected value to be of type string or array, but found ${di(yi(i))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){let e=["length"];return this.eachChild(i=>{e.push(i.serialize())}),e}}let X0={"==":Ph,"!=":kh,">":Oh,"<":Dh,">=":W0,"<=":Rh,array:pn,at:Lh,boolean:pn,case:Z0,coalesce:xc,collator:Io,format:Bn,image:Cs,in:Bs,"index-of":G0,interpolate:Xa,"interpolate-hcl":Xa,"interpolate-lab":Xa,length:Fr,let:H0,literal:ar,match:Ih,number:pn,"number-format":Vs,object:pn,slice:$0,step:dc,string:pn,"to-boolean":Ir,"to-color":Ir,"to-number":Ir,"to-string":Ir,var:F0,within:Ls};function K0(t,[e,i,n,s]){e=e.evaluate(t),i=i.evaluate(t),n=n.evaluate(t);let c=s?s.evaluate(t):1,u=D0(e,i,n,c);if(u)throw new Ji(u);return new bi(e/255*c,i/255*c,n/255*c,c)}function _n(t,e){return t in e}function Ns(t,e){let i=e[t];return i===void 0?null:i}function Sa(t){return{type:t}}mn.register(X0,{error:[{kind:"error"},[kt],(t,[e])=>{throw new Ji(e.evaluate(t))}],typeof:[kt,[Lt],(t,[e])=>di(yi(e.evaluate(t)))],"to-rgba":[Ca($e,4),[ba],(t,[e])=>e.evaluate(t).toArray()],rgb:[ba,[$e,$e,$e],K0],rgba:[ba,[$e,$e,$e,$e],K0],has:{type:St,overloads:[[[kt],(t,[e])=>_n(e.evaluate(t),t.properties())],[[kt,Va],(t,[e,i])=>_n(e.evaluate(t),i.evaluate(t))]]},get:{type:Lt,overloads:[[[kt],(t,[e])=>Ns(e.evaluate(t),t.properties())],[[kt,Va],(t,[e,i])=>Ns(e.evaluate(t),i.evaluate(t))]]},"feature-state":[Lt,[kt],(t,[e])=>Ns(e.evaluate(t),t.featureState||{})],properties:[Va,[],t=>t.properties()],"geometry-type":[kt,[],t=>t.geometryType()],id:[Lt,[],t=>t.id()],zoom:[$e,[],t=>t.globals.zoom],pitch:[$e,[],t=>t.globals.pitch||0],"distance-from-center":[$e,[],t=>t.distanceFromCenter()],"heatmap-density":[$e,[],t=>t.globals.heatmapDensity||0],"line-progress":[$e,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[$e,[],t=>t.globals.skyRadialProgress||0],accumulated:[Lt,[],t=>t.globals.accumulated===void 0?null:t.globals.accumulated],"+":[$e,Sa($e),(t,e)=>{let i=0;for(let n of e)i+=n.evaluate(t);return i}],"*":[$e,Sa($e),(t,e)=>{let i=1;for(let n of e)i*=n.evaluate(t);return i}],"-":{type:$e,overloads:[[[$e,$e],(t,[e,i])=>e.evaluate(t)-i.evaluate(t)],[[$e],(t,[e])=>-e.evaluate(t)]]},"/":[$e,[$e,$e],(t,[e,i])=>e.evaluate(t)/i.evaluate(t)],"%":[$e,[$e,$e],(t,[e,i])=>e.evaluate(t)%i.evaluate(t)],ln2:[$e,[],()=>Math.LN2],pi:[$e,[],()=>Math.PI],e:[$e,[],()=>Math.E],"^":[$e,[$e,$e],(t,[e,i])=>Math.pow(e.evaluate(t),i.evaluate(t))],sqrt:[$e,[$e],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[$e,[$e],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[$e,[$e],(t,[e])=>Math.log(e.evaluate(t))],log2:[$e,[$e],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[$e,[$e],(t,[e])=>Math.sin(e.evaluate(t))],cos:[$e,[$e],(t,[e])=>Math.cos(e.evaluate(t))],tan:[$e,[$e],(t,[e])=>Math.tan(e.evaluate(t))],asin:[$e,[$e],(t,[e])=>Math.asin(e.evaluate(t))],acos:[$e,[$e],(t,[e])=>Math.acos(e.evaluate(t))],atan:[$e,[$e],(t,[e])=>Math.atan(e.evaluate(t))],min:[$e,Sa($e),(t,e)=>Math.min(...e.map(i=>i.evaluate(t)))],max:[$e,Sa($e),(t,e)=>Math.max(...e.map(i=>i.evaluate(t)))],abs:[$e,[$e],(t,[e])=>Math.abs(e.evaluate(t))],round:[$e,[$e],(t,[e])=>{let i=e.evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[$e,[$e],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[$e,[$e],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[St,[kt,Lt],(t,[e,i])=>t.properties()[e.value]===i.value],"filter-id-==":[St,[Lt],(t,[e])=>t.id()===e.value],"filter-type-==":[St,[kt],(t,[e])=>t.geometryType()===e.value],"filter-<":[St,[kt,Lt],(t,[e,i])=>{let n=t.properties()[e.value],s=i.value;return typeof n==typeof s&&n<s}],"filter-id-<":[St,[Lt],(t,[e])=>{let i=t.id(),n=e.value;return typeof i==typeof n&&i<n}],"filter->":[St,[kt,Lt],(t,[e,i])=>{let n=t.properties()[e.value],s=i.value;return typeof n==typeof s&&n>s}],"filter-id->":[St,[Lt],(t,[e])=>{let i=t.id(),n=e.value;return typeof i==typeof n&&i>n}],"filter-<=":[St,[kt,Lt],(t,[e,i])=>{let n=t.properties()[e.value],s=i.value;return typeof n==typeof s&&n<=s}],"filter-id-<=":[St,[Lt],(t,[e])=>{let i=t.id(),n=e.value;return typeof i==typeof n&&i<=n}],"filter->=":[St,[kt,Lt],(t,[e,i])=>{let n=t.properties()[e.value],s=i.value;return typeof n==typeof s&&n>=s}],"filter-id->=":[St,[Lt],(t,[e])=>{let i=t.id(),n=e.value;return typeof i==typeof n&&i>=n}],"filter-has":[St,[Lt],(t,[e])=>e.value in t.properties()],"filter-has-id":[St,[],t=>t.id()!==null&&t.id()!==void 0],"filter-type-in":[St,[Ca(kt)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[St,[Ca(Lt)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[St,[kt,Ca(Lt)],(t,[e,i])=>i.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[St,[kt,Ca(Lt)],(t,[e,i])=>function(n,s,c,u){for(;c<=u;){let p=c+u>>1;if(s[p]===n)return!0;s[p]>n?u=p-1:c=p+1}return!1}(t.properties()[e.value],i.value,0,i.value.length-1)],all:{type:St,overloads:[[[St,St],(t,[e,i])=>e.evaluate(t)&&i.evaluate(t)],[Sa(St),(t,e)=>{for(let i of e)if(!i.evaluate(t))return!1;return!0}]]},any:{type:St,overloads:[[[St,St],(t,[e,i])=>e.evaluate(t)||i.evaluate(t)],[Sa(St),(t,e)=>{for(let i of e)if(i.evaluate(t))return!0;return!1}]]},"!":[St,[St],(t,[e])=>!e.evaluate(t)],"is-supported-script":[St,[kt],(t,[e])=>{let i=t.globals&&t.globals.isSupportedScript;return!i||i(e.evaluate(t))}],upcase:[kt,[kt],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[kt,[kt],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[kt,Sa(Lt),(t,e)=>e.map(i=>Lo(i.evaluate(t))).join("")],"resolved-locale":[kt,[wa],(t,[e])=>e.evaluate(t).resolvedLocale()]});var Vo=X0;function Y0(t){return{result:"success",value:t}}function sr(t){return{result:"error",value:t}}function Vr(t){return t["property-type"]==="data-driven"}function Us(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function js(t){return!!t.expression&&t.expression.interpolated}function Ft(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function No(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function J0(t){return t}function Hs(t,e){let i=e.type==="color",n=t.stops&&typeof t.stops[0][0]=="object",s=n||!(n||t.property!==void 0),c=t.type||(js(e)?"exponential":"interval");if(i&&((t=un({},t)).stops&&(t.stops=t.stops.map(g=>[g[0],bi.parse(g[1])])),t.default=bi.parse(t.default?t.default:e.default)),t.colorSpace&&t.colorSpace!=="rgb"&&!yc[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let u,p,f;if(c==="exponential")u=yn;else if(c==="interval")u=Gs;else if(c==="categorical"){u=Q0,p=Object.create(null);for(let g of t.stops)p[g[0]]=g[1];f=typeof t.stops[0][0]}else{if(c!=="identity")throw new Error(`Unknown function type "${c}"`);u=e1}if(n){let g={},v=[];for(let T=0;T<t.stops.length;T++){let C=t.stops[T],L=C[0].zoom;g[L]===void 0&&(g[L]={zoom:L,type:t.type,property:t.property,default:t.default,stops:[]},v.push(L)),g[L].stops.push([C[0].value,C[1]])}let b=[];for(let T of v)b.push([g[T].zoom,Hs(g[T],e)]);let M={name:"linear"};return{kind:"composite",interpolationType:M,interpolationFactor:Xa.interpolationFactor.bind(void 0,M),zoomStops:b.map(T=>T[0]),evaluate:({zoom:T},C)=>yn({stops:b,base:t.base},e,T).evaluate(T,C)}}if(s){let g=c==="exponential"?{name:"exponential",base:t.base!==void 0?t.base:1}:null;return{kind:"camera",interpolationType:g,interpolationFactor:Xa.interpolationFactor.bind(void 0,g),zoomStops:t.stops.map(v=>v[0]),evaluate:({zoom:v})=>u(t,e,v,p,f)}}return{kind:"source",evaluate(g,v){let b=v&&v.properties?v.properties[t.property]:void 0;return b===void 0?Nr(t.default,e.default):u(t,e,b,p,f)}}}function Nr(t,e,i){return t!==void 0?t:e!==void 0?e:i!==void 0?i:void 0}function Q0(t,e,i,n,s){return Nr(typeof i===s?n[i]:void 0,t.default,e.default)}function Gs(t,e,i){if(Ft(i)!=="number")return Nr(t.default,e.default);let n=t.stops.length;if(n===1||i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];let s=Ps(t.stops.map(c=>c[0]),i);return t.stops[s][1]}function yn(t,e,i){let n=t.base!==void 0?t.base:1;if(Ft(i)!=="number")return Nr(t.default,e.default);let s=t.stops.length;if(s===1||i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[s-1][0])return t.stops[s-1][1];let c=Ps(t.stops.map(v=>v[0]),i),u=function(v,b,M,T){let C=T-M,L=v-M;return C===0?0:b===1?L/C:(Math.pow(b,L)-1)/(Math.pow(b,C)-1)}(i,n,t.stops[c][0],t.stops[c+1][0]),p=t.stops[c][1],f=t.stops[c+1][1],g=Do[e.type]||J0;if(t.colorSpace&&t.colorSpace!=="rgb"){let v=yc[t.colorSpace];g=(b,M)=>v.reverse(v.interpolate(v.forward(b),v.forward(M),u))}return typeof p.evaluate=="function"?{evaluate(...v){let b=p.evaluate.apply(void 0,v),M=f.evaluate.apply(void 0,v);if(b!==void 0&&M!==void 0)return g(b,M,u)}}:g(p,f,u)}function e1(t,e,i){return e.type==="color"?i=bi.parse(i):e.type==="formatted"?i=da.fromString(i.toString()):e.type==="resolvedImage"?i=Ea.fromString(i.toString()):Ft(i)===e.type||e.type==="enum"&&e.values[i]||(i=void 0),Nr(i,t.default,e.default)}class Zs{constructor(e,i){this.expression=e,this._warningHistory={},this._evaluator=new nc,this._defaultValue=i?function(n){return n.type==="color"&&(No(n.default)||Array.isArray(n.default))?new bi(0,0,0,0):n.type==="color"?bi.parse(n.default)||null:n.default===void 0?null:n.default}(i):null,this._enumValues=i&&i.type==="enum"?i.values:null}evaluateWithoutErrorHandling(e,i,n,s,c,u,p,f){return this._evaluator.globals=e,this._evaluator.feature=i,this._evaluator.featureState=n,this._evaluator.canonical=s||null,this._evaluator.availableImages=c||null,this._evaluator.formattedSection=u,this._evaluator.featureTileCoord=p||null,this._evaluator.featureDistanceData=f||null,this.expression.evaluate(this._evaluator)}evaluate(e,i,n,s,c,u,p,f){this._evaluator.globals=e,this._evaluator.feature=i||null,this._evaluator.featureState=n||null,this._evaluator.canonical=s||null,this._evaluator.availableImages=c||null,this._evaluator.formattedSection=u||null,this._evaluator.featureTileCoord=p||null,this._evaluator.featureDistanceData=f||null;try{let g=this.expression.evaluate(this._evaluator);if(g==null||typeof g=="number"&&g!=g)return this._defaultValue;if(this._enumValues&&!(g in this._enumValues))throw new Ji(`Expected value to be one of ${Object.keys(this._enumValues).map(v=>JSON.stringify(v)).join(", ")}, but found ${JSON.stringify(g)} instead.`);return g}catch(g){return this._warningHistory[g.message]||(this._warningHistory[g.message]=!0,typeof console<"u"&&console.warn(g.message)),this._defaultValue}}}function Ur(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in Vo}function jr(t,e){let i=new hc(Vo,[],e?function(s){let c={color:ba,string:kt,number:$e,enum:kt,boolean:St,formatted:zo,resolvedImage:ir};return s.type==="array"?Ca(c[s.value]||Lt,s.length):c[s.type]}(e):void 0),n=i.parse(t,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?Y0(new Zs(n,e)):sr(i.errors)}class Ac{constructor(e,i){this.kind=e,this._styleExpression=i,this.isStateDependent=e!=="constant"&&!gn(i.expression)}evaluateWithoutErrorHandling(e,i,n,s,c,u){return this._styleExpression.evaluateWithoutErrorHandling(e,i,n,s,c,u)}evaluate(e,i,n,s,c,u){return this._styleExpression.evaluate(e,i,n,s,c,u)}}class Uo{constructor(e,i,n,s){this.kind=e,this.zoomStops=n,this._styleExpression=i,this.isStateDependent=e!=="camera"&&!gn(i.expression),this.interpolationType=s}evaluateWithoutErrorHandling(e,i,n,s,c,u){return this._styleExpression.evaluateWithoutErrorHandling(e,i,n,s,c,u)}evaluate(e,i,n,s,c,u){return this._styleExpression.evaluate(e,i,n,s,c,u)}interpolationFactor(e,i,n){return this.interpolationType?Xa.interpolationFactor(this.interpolationType,e,i,n):0}}function jo(t,e){if((t=jr(t,e)).result==="error")return t;let i=t.value.expression,n=Or(i);if(!n&&!Vr(e))return sr([new qa("","data expressions not supported")]);let s=rr(i,["zoom","pitch","distance-from-center"]);if(!s&&!Us(e))return sr([new qa("","zoom expressions not supported")]);let c=qs(i);return c||s?c instanceof qa?sr([c]):c instanceof Xa&&!js(e)?sr([new qa("",'"interpolate" expressions cannot be used with this property')]):Y0(c?new Uo(n?"camera":"composite",t.value,c.labels,c instanceof Xa?c.interpolation:void 0):new Ac(n?"constant":"source",t.value)):sr([new qa("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class $s{constructor(e,i){this._parameters=e,this._specification=i,un(this,Hs(this._parameters,this._specification))}static deserialize(e){return new $s(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function qs(t){let e=null;if(t instanceof H0)e=qs(t.result);else if(t instanceof xc){for(let i of t.args)if(e=qs(i),e)break}else(t instanceof dc||t instanceof Xa)&&t.input instanceof mn&&t.input.name==="zoom"&&(e=t);return e instanceof qa||t.eachChild(i=>{let n=qs(i);n instanceof qa?e=n:!e&&n?e=new qa("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new qa("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}class qe{constructor(e,i,n,s){this.message=(e?`${e}: `:"")+n,s&&(this.identifier=s),i!=null&&i.__line__&&(this.line=i.__line__)}}function Na(t){let e=t.key,i=t.value,n=t.valueSpec||{},s=t.objectElementValidators||{},c=t.style,u=t.styleSpec,p=[],f=Ft(i);if(f!=="object")return[new qe(e,i,`object expected, ${f} found`)];for(let g in i){let v=g.split(".")[0],b;s[v]?b=s[v]:n[v]?b=na:s["*"]?b=s["*"]:n["*"]&&(b=na),b?p=p.concat(b({key:(e&&`${e}.`)+g,value:i[g],valueSpec:n[v]||n["*"],style:c,styleSpec:u,object:i,objectKey:g},i)):p.push(new qe(e,i[g],`unknown property "${g}"`))}for(let g in n)s[g]||n[g].required&&n[g].default===void 0&&i[g]===void 0&&p.push(new qe(e,i,`missing required property "${g}"`));return p}function t1(t){let e=t.value,i=t.valueSpec,n=t.style,s=t.styleSpec,c=t.key,u=t.arrayElementValidator||na;if(Ft(e)!=="array")return[new qe(c,e,`array expected, ${Ft(e)} found`)];if(i.length&&e.length!==i.length)return[new qe(c,e,`array length ${i.length} expected, length ${e.length} found`)];if(i["min-length"]&&e.length<i["min-length"])return[new qe(c,e,`array length at least ${i["min-length"]} expected, length ${e.length} found`)];let p={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum,function:void 0};s.$version<7&&(p.function=i.function),Ft(i.value)==="object"&&(p=i.value);let f=[];for(let g=0;g<e.length;g++)f=f.concat(u({array:e,arrayIndex:g,value:e[g],valueSpec:p,style:n,styleSpec:s,key:`${c}[${g}]`}));return f}function Ho(t){let e=t.key,i=t.value,n=t.valueSpec,s=Ft(i);if(s==="number"&&i!=i&&(s="NaN"),s!=="number")return[new qe(e,i,`number expected, ${s} found`)];if("minimum"in n){let c=n.minimum;if(Ft(n.minimum)==="array"&&(c=n.minimum[t.arrayIndex]),i<c)return[new qe(e,i,`${i} is less than the minimum value ${c}`)]}if("maximum"in n){let c=n.maximum;if(Ft(n.maximum)==="array"&&(c=n.maximum[t.arrayIndex]),i>c)return[new qe(e,i,`${i} is greater than the maximum value ${c}`)]}return[]}function Go(t){let e=t.valueSpec,i=Ai(t.value.type),n,s,c,u={},p=i!=="categorical"&&t.value.property===void 0,f=!p,g=Ft(t.value.stops)==="array"&&Ft(t.value.stops[0])==="array"&&Ft(t.value.stops[0][0])==="object",v=Na({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(T){if(i==="identity")return[new qe(T.key,T.value,'identity function may not have a "stops" property')];let C=[],L=T.value;return C=C.concat(t1({key:T.key,value:L,valueSpec:T.valueSpec,style:T.style,styleSpec:T.styleSpec,arrayElementValidator:b})),Ft(L)==="array"&&L.length===0&&C.push(new qe(T.key,L,"array must have at least one stop")),C},default:function(T){return na({key:T.key,value:T.value,valueSpec:e,style:T.style,styleSpec:T.styleSpec})}}});return i==="identity"&&p&&v.push(new qe(t.key,t.value,'missing required property "property"')),i==="identity"||t.value.stops||v.push(new qe(t.key,t.value,'missing required property "stops"')),i==="exponential"&&t.valueSpec.expression&&!js(t.valueSpec)&&v.push(new qe(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(f&&!Vr(t.valueSpec)?v.push(new qe(t.key,t.value,"property functions not supported")):p&&!Us(t.valueSpec)&&v.push(new qe(t.key,t.value,"zoom functions not supported"))),i!=="categorical"&&!g||t.value.property!==void 0||v.push(new qe(t.key,t.value,'"property" property is required')),v;function b(T){let C=[],L=T.value,D=T.key;if(Ft(L)!=="array")return[new qe(D,L,`array expected, ${Ft(L)} found`)];if(L.length!==2)return[new qe(D,L,`array length 2 expected, length ${L.length} found`)];if(g){if(Ft(L[0])!=="object")return[new qe(D,L,`object expected, ${Ft(L[0])} found`)];if(L[0].zoom===void 0)return[new qe(D,L,"object stop key must have zoom")];if(L[0].value===void 0)return[new qe(D,L,"object stop key must have value")];let U=Ai(L[0].zoom);if(typeof U!="number")return[new qe(D,L[0].zoom,"stop zoom values must be numbers")];if(c&&c>U)return[new qe(D,L[0].zoom,"stop zoom values must appear in ascending order")];U!==c&&(c=U,s=void 0,u={}),C=C.concat(Na({key:`${D}[0]`,value:L[0],valueSpec:{zoom:{}},style:T.style,styleSpec:T.styleSpec,objectElementValidators:{zoom:Ho,value:M}}))}else C=C.concat(M({key:`${D}[0]`,value:L[0],valueSpec:{},style:T.style,styleSpec:T.styleSpec},L));return Ur(Ni(L[1]))?C.concat([new qe(`${D}[1]`,L[1],"expressions are not allowed in function stops.")]):C.concat(na({key:`${D}[1]`,value:L[1],valueSpec:e,style:T.style,styleSpec:T.styleSpec}))}function M(T,C){let L=Ft(T.value),D=Ai(T.value),U=T.value!==null?T.value:C;if(n){if(L!==n)return[new qe(T.key,U,`${L} stop domain type must match previous stop domain type ${n}`)]}else n=L;if(L!=="number"&&L!=="string"&&L!=="boolean"&&typeof D!="number"&&typeof D!="string"&&typeof D!="boolean")return[new qe(T.key,U,"stop domain value must be a number, string, or boolean")];if(L!=="number"&&i!=="categorical"){let W=`number expected, ${L} found`;return Vr(e)&&i===void 0&&(W+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qe(T.key,U,W)]}return i!=="categorical"||L!=="number"||typeof D=="number"&&isFinite(D)&&Math.floor(D)===D?i!=="categorical"&&L==="number"&&typeof D=="number"&&typeof s=="number"&&s!==void 0&&D<s?[new qe(T.key,U,"stop domain values must appear in ascending order")]:(s=D,i==="categorical"&&D in u?[new qe(T.key,U,"stop domain values must be unique")]:(u[D]=!0,[])):[new qe(T.key,U,`integer expected, found ${String(D)}`)]}}function Ui(t){let e=(t.expressionContext==="property"?jo:jr)(Ni(t.value),t.valueSpec);if(e.result==="error")return e.value.map(n=>new qe(`${t.key}${n.key}`,t.value,n.message));let i=e.value.expression||e.value._styleExpression.expression;if(t.expressionContext==="property"&&t.propertyKey==="text-font"&&!i.outputDefined())return[new qe(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if(t.expressionContext==="property"&&t.propertyType==="layout"&&!gn(i))return[new qe(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if(t.expressionContext==="filter")return Zo(i,t);if(t.expressionContext&&t.expressionContext.indexOf("cluster")===0){if(!rr(i,["zoom","feature-state"]))return[new qe(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t.expressionContext==="cluster-initial"&&!Or(i))return[new qe(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Zo(t,e){let i=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(e.valueSpec&&e.valueSpec.expression)for(let s of e.valueSpec.expression.parameters)i.delete(s);if(i.size===0)return[];let n=[];return t instanceof mn&&i.has(t.name)?[new qe(e.key,e.value,`["${t.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(t.eachChild(s=>{n.push(...Zo(s,e))}),n)}function Ws(t){let e=t.key,i=t.value,n=t.valueSpec,s=[];return Array.isArray(n.values)?n.values.indexOf(Ai(i))===-1&&s.push(new qe(e,i,`expected one of [${n.values.join(", ")}], ${JSON.stringify(i)} found`)):Object.keys(n.values).indexOf(Ai(i))===-1&&s.push(new qe(e,i,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(i)} found`)),s}function Tc(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&(typeof t[1]!="string"||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(let e of t.slice(1))if(!Tc(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function Xs(t,e="fill"){if(t==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Tc(t)||(t=Gr(t));let i=t,n=!0;try{n=function(g){if(!Hr(g))return g;let v=Ni(g);return Ks(v),v=i1(v),v}(i)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(i,null,2)}
        `)}let s=ve[`filter_${e}`],c=jr(n,s),u=null;if(c.result==="error")throw new Error(c.value.map(g=>`${g.key}: ${g.message}`).join(", "));u=(g,v,b)=>c.value.evaluate(g,v,{},b);let p=null,f=null;if(n!==i){let g=jr(i,s);if(g.result==="error")throw new Error(g.value.map(v=>`${v.key}: ${v.message}`).join(", "));p=(v,b,M,T,C)=>g.value.evaluate(v,b,{},M,void 0,void 0,T,C),f=!Or(g.value.expression)}return{filter:u,dynamicFilter:p||void 0,needGeometry:a1(n),needFeature:!!f}}function i1(t){if(!Array.isArray(t))return t;let e=function(i){if(Cc.has(i[0])){for(let n=1;n<i.length;n++)if(Hr(i[n]))return!0}return i}(t);return e===!0?e:e.map(i=>i1(i))}function Ks(t){let e=!1,i=[];if(t[0]==="case"){for(let n=1;n<t.length-1;n+=2)e=e||Hr(t[n]),i.push(t[n+1]);i.push(t[t.length-1])}else if(t[0]==="match"){e=e||Hr(t[1]);for(let n=2;n<t.length-1;n+=2)i.push(t[n+1]);i.push(t[t.length-1])}else if(t[0]==="step"){e=e||Hr(t[1]);for(let n=1;n<t.length-1;n+=2)i.push(t[n+1])}e&&(t.length=0,t.push("any",...i));for(let n=1;n<t.length;n++)Ks(t[n])}function Hr(t){if(!Array.isArray(t))return!1;if((e=t[0])==="pitch"||e==="distance-from-center")return!0;var e;for(let i=1;i<t.length;i++)if(Hr(t[i]))return!0;return!1}let Cc=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Bh(t,e){return t<e?-1:t>e?1:0}function a1(t){if(!Array.isArray(t))return!1;if(t[0]==="within")return!0;for(let e=1;e<t.length;e++)if(a1(t[e]))return!0;return!1}function Gr(t){if(!t)return!0;let e=t[0];return t.length<=1?e!=="any":e==="=="?Ec(t[1],t[2],"=="):e==="!="?Ys(Ec(t[1],t[2],"==")):e==="<"||e===">"||e==="<="||e===">="?Ec(t[1],t[2],e):e==="any"?(i=t.slice(1),["any"].concat(i.map(Gr))):e==="all"?["all"].concat(t.slice(1).map(Gr)):e==="none"?["all"].concat(t.slice(1).map(Gr).map(Ys)):e==="in"?Sc(t[1],t.slice(2)):e==="!in"?Ys(Sc(t[1],t.slice(2))):e==="has"?Lc(t[1]):e==="!has"?Ys(Lc(t[1])):e!=="within"||t;var i}function Ec(t,e,i){switch(t){case"$type":return[`filter-type-${i}`,e];case"$id":return[`filter-id-${i}`,e];default:return[`filter-${i}`,t,e]}}function Sc(t,e){if(e.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(i=>typeof i!=typeof e[0])?["filter-in-large",t,["literal",e.sort(Bh)]]:["filter-in-small",t,["literal",e]]}}function Lc(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Ys(t){return["!",t]}function $o(t){return Tc(Ni(t.value))?Ui(un({},t,{expressionContext:"filter",valueSpec:t.styleSpec[`filter_${t.layerType||"fill"}`]})):qo(t)}function qo(t){let e=t.value,i=t.key;if(Ft(e)!=="array")return[new qe(i,e,`array expected, ${Ft(e)} found`)];let n=t.styleSpec,s,c=[];if(e.length<1)return[new qe(i,e,"filter array must have at least 1 element")];switch(c=c.concat(Ws({key:`${i}[0]`,value:e[0],valueSpec:n.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ai(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&Ai(e[1])==="$type"&&c.push(new qe(i,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&c.push(new qe(i,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(s=Ft(e[1]),s!=="string"&&c.push(new qe(`${i}[1]`,e[1],`string expected, ${s} found`)));for(let u=2;u<e.length;u++)s=Ft(e[u]),Ai(e[1])==="$type"?c=c.concat(Ws({key:`${i}[${u}]`,value:e[u],valueSpec:n.geometry_type,style:t.style,styleSpec:t.styleSpec})):s!=="string"&&s!=="number"&&s!=="boolean"&&c.push(new qe(`${i}[${u}]`,e[u],`string, number, or boolean expected, ${s} found`));break;case"any":case"all":case"none":for(let u=1;u<e.length;u++)c=c.concat(qo({key:`${i}[${u}]`,value:e[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":s=Ft(e[1]),e.length!==2?c.push(new qe(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):s!=="string"&&c.push(new qe(`${i}[1]`,e[1],`string expected, ${s} found`));break;case"within":s=Ft(e[1]),e.length!==2?c.push(new qe(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):s!=="object"&&c.push(new qe(`${i}[1]`,e[1],`object expected, ${s} found`))}return c}function Ic(t,e){let i=t.key,n=t.style,s=t.styleSpec,c=t.value,u=t.objectKey,p=s[`${e}_${t.layerType}`];if(!p)return[];let f=u.match(/^(.*)-transition$/);if(e==="paint"&&f&&p[f[1]]&&p[f[1]].transition)return na({key:i,value:c,valueSpec:s.transition,style:n,styleSpec:s});let g=t.valueSpec||p[u];if(!g)return[new qe(i,c,`unknown property "${u}"`)];let v;if(Ft(c)==="string"&&Vr(g)&&!g.tokens&&(v=/^{([^}]+)}$/.exec(c))){let M=`\`{ "type": "identity", "property": ${v?JSON.stringify(v[1]):'"_"'} }\``;return[new qe(i,c,`"${u}" does not support interpolation syntax
Use an identity property function instead: ${M}.`)]}let b=[];return t.layerType==="symbol"&&(u==="text-field"&&n&&!n.glyphs&&b.push(new qe(i,c,'use of "text-field" requires a style "glyphs" property')),u==="text-font"&&No(Ni(c))&&Ai(c.type)==="identity"&&b.push(new qe(i,c,'"text-font" does not support identity functions'))),b.concat(na({key:t.key,value:c,valueSpec:g,style:n,styleSpec:s,expressionContext:"property",propertyType:e,propertyKey:u}))}function n1(t){return Ic(t,"paint")}function Pc(t){return Ic(t,"layout")}function r1(t){let e=[],i=t.value,n=t.key,s=t.style,c=t.styleSpec;i.type||i.ref||e.push(new qe(n,i,'either "type" or "ref" is required'));let u=Ai(i.type),p=Ai(i.ref);if(i.id){let f=Ai(i.id);for(let g=0;g<t.arrayIndex;g++){let v=s.layers[g];Ai(v.id)===f&&e.push(new qe(n,i.id,`duplicate layer id "${i.id}", previously used at line ${v.id.__line__}`))}}if("ref"in i){let f;["type","source","source-layer","filter","layout"].forEach(g=>{g in i&&e.push(new qe(n,i[g],`"${g}" is prohibited for ref layers`))}),s.layers.forEach(g=>{Ai(g.id)===p&&(f=g)}),f?f.ref?e.push(new qe(n,i.ref,"ref cannot reference another ref layer")):u=Ai(f.type):typeof p=="string"&&e.push(new qe(n,i.ref,`ref layer "${p}" not found`))}else if(u!=="background"&&u!=="sky")if(i.source){let f=s.sources&&s.sources[i.source],g=f&&Ai(f.type);f?g==="vector"&&u==="raster"?e.push(new qe(n,i.source,`layer "${i.id}" requires a raster source`)):g==="raster"&&u!=="raster"?e.push(new qe(n,i.source,`layer "${i.id}" requires a vector source`)):g!=="vector"||i["source-layer"]?g==="raster-dem"&&u!=="hillshade"?e.push(new qe(n,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):u!=="line"||!i.paint||!i.paint["line-gradient"]&&!i.paint["line-trim-offset"]||g==="geojson"&&f.lineMetrics||e.push(new qe(n,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new qe(n,i,`layer "${i.id}" must specify a "source-layer"`)):e.push(new qe(n,i.source,`source "${i.source}" not found`))}else e.push(new qe(n,i,'missing required property "source"'));return e=e.concat(Na({key:n,value:i,valueSpec:c.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":()=>[],type:()=>na({key:`${n}.type`,value:i.type,valueSpec:c.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"}),filter:f=>$o(un({layerType:u},f)),layout:f=>Na({layer:i,key:f.key,value:f.value,valueSpec:{},style:f.style,styleSpec:f.styleSpec,objectElementValidators:{"*":g=>Pc(un({layerType:u},g))}}),paint:f=>Na({layer:i,key:f.key,value:f.value,valueSpec:{},style:f.style,styleSpec:f.styleSpec,objectElementValidators:{"*":g=>n1(un({layerType:u},g))}})}})),e}function Fn(t){let e=t.value,i=t.key,n=Ft(e);return n!=="string"?[new qe(i,e,`string expected, ${n} found`)]:[]}let o1={promoteId:function({key:t,value:e}){if(Ft(e)==="string")return Fn({key:t,value:e});{let i=[];for(let n in e)i.push(...Fn({key:`${t}.${n}`,value:e[n]}));return i}}};function s1(t){let e=t.value,i=t.key,n=t.styleSpec,s=t.style;if(!e.type)return[new qe(i,e,'"type" is required')];let c=Ai(e.type),u;switch(c){case"vector":case"raster":case"raster-dem":return u=Na({key:i,value:e,valueSpec:n[`source_${c.replace("-","_")}`],style:t.style,styleSpec:n,objectElementValidators:o1}),u;case"geojson":if(u=Na({key:i,value:e,valueSpec:n.source_geojson,style:s,styleSpec:n,objectElementValidators:o1}),e.cluster)for(let p in e.clusterProperties){let[f,g]=e.clusterProperties[p],v=typeof f=="string"?[f,["accumulated"],["get",p]]:f;u.push(...Ui({key:`${i}.${p}.map`,value:g,expressionContext:"cluster-map"})),u.push(...Ui({key:`${i}.${p}.reduce`,value:v,expressionContext:"cluster-reduce"}))}return u;case"video":return Na({key:i,value:e,valueSpec:n.source_video,style:s,styleSpec:n});case"image":return Na({key:i,value:e,valueSpec:n.source_image,style:s,styleSpec:n});case"canvas":return[new qe(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ws({key:`${i}.type`,value:e.type,valueSpec:{values:Fh(n)},style:s,styleSpec:n})}}function Fh(t){return t.source.reduce((e,i)=>{let n=t[i];return n.type.type==="enum"&&(e=e.concat(Object.keys(n.type.values))),e},[])}function l1(t){let e=t.value,i=t.styleSpec,n=i.light,s=t.style,c=[],u=Ft(e);if(e===void 0)return c;if(u!=="object")return c=c.concat([new qe("light",e,`object expected, ${u} found`)]),c;for(let p in e){let f=p.match(/^(.*)-transition$/);c=c.concat(f&&n[f[1]]&&n[f[1]].transition?na({key:p,value:e[p],valueSpec:i.transition,style:s,styleSpec:i}):n[p]?na({key:p,value:e[p],valueSpec:n[p],style:s,styleSpec:i}):[new qe(p,e[p],`unknown property "${p}"`)])}return c}function kc(t){let e=t.value,i=t.key,n=t.style,s=t.styleSpec,c=s.terrain,u=[],p=Ft(e);if(e===void 0)return u;if(p!=="object")return u=u.concat([new qe("terrain",e,`object expected, ${p} found`)]),u;for(let f in e){let g=f.match(/^(.*)-transition$/);u=u.concat(g&&c[g[1]]&&c[g[1]].transition?na({key:f,value:e[f],valueSpec:s.transition,style:n,styleSpec:s}):c[f]?na({key:f,value:e[f],valueSpec:c[f],style:n,styleSpec:s}):[new qe(f,e[f],`unknown property "${f}"`)])}if(e.source){let f=n.sources&&n.sources[e.source],g=f&&Ai(f.type);f?g!=="raster-dem"&&u.push(new qe(i,e.source,`terrain cannot be used with a source of type ${String(g)}, it only be used with a "raster-dem" source type`)):u.push(new qe(i,e.source,`source "${e.source}" not found`))}else u.push(new qe(i,e,'terrain is missing required property "source"'));return u}function c1(t){let e=t.value,i=t.style,n=t.styleSpec,s=n.fog,c=[],u=Ft(e);if(e===void 0)return c;if(u!=="object")return c=c.concat([new qe("fog",e,`object expected, ${u} found`)]),c;for(let p in e){let f=p.match(/^(.*)-transition$/);c=c.concat(f&&s[f[1]]&&s[f[1]].transition?na({key:p,value:e[p],valueSpec:n.transition,style:i,styleSpec:n}):s[p]?na({key:p,value:e[p],valueSpec:s[p],style:i,styleSpec:n}):[new qe(p,e[p],`unknown property "${p}"`)])}return c}let h1={"*":()=>[],array:t1,boolean:function(t){let e=t.value,i=t.key,n=Ft(e);return n!=="boolean"?[new qe(i,e,`boolean expected, ${n} found`)]:[]},number:Ho,color:function(t){let e=t.key,i=t.value,n=Ft(i);return n!=="string"?[new qe(e,i,`color expected, ${n} found`)]:Yl(i)===null?[new qe(e,i,`color expected, "${i}" found`)]:[]},enum:Ws,filter:$o,function:Go,layer:r1,object:Na,source:s1,light:l1,terrain:kc,fog:c1,string:Fn,formatted:function(t){return Fn(t).length===0?[]:Ui(t)},resolvedImage:function(t){return Fn(t).length===0?[]:Ui(t)},projection:function(t){let e=t.value,i=t.styleSpec,n=i.projection,s=t.style,c=[],u=Ft(e);if(u==="object")for(let p in e)c=c.concat(na({key:p,value:e[p],valueSpec:n[p],style:s,styleSpec:i}));else u!=="string"&&(c=c.concat([new qe("projection",e,`object or string expected, ${u} found`)]));return c}};function na(t){let e=t.value,i=t.valueSpec,n=t.styleSpec;return i.expression&&No(Ai(e))?Go(t):i.expression&&Ur(Ni(e))?Ui(t):i.type&&h1[i.type]?h1[i.type](t):Na(un({},t,{valueSpec:i.type?n[i.type]:i}))}function Vh(t){let e=t.value,i=t.key,n=Fn(t);return n.length||(e.indexOf("{fontstack}")===-1&&n.push(new qe(i,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&n.push(new qe(i,e,'"glyphs" url must include a "{range}" token'))),n}function u1(t,e=ve){return La(na({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Vh,"*":()=>[]}}))}let Nh=t=>La(n1(t)),Uh=t=>La(Pc(t));function La(t){return t.slice().sort((e,i)=>e.line&&i.line?e.line-i.line:0)}function d1(t,e){let i=!1;if(e&&e.length)for(let n of e)t.fire(new hn(new Error(n.message))),i=!0;return i}var jh=Ka,Ua=3;function Ka(t,e,i){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var s=new Int32Array(this.arrayBuffer);t=s[0],this.d=(e=s[1])+2*(i=s[2]);for(var c=0;c<this.d*this.d;c++){var u=s[Ua+c],p=s[Ua+c+1];n.push(u===p?null:s.subarray(u,p))}var f=s[Ua+n.length+1];this.keys=s.subarray(s[Ua+n.length],f),this.bboxes=s.subarray(f),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var g=0;g<this.d*this.d;g++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var v=i/e*t;this.min=-v,this.max=t+v}Ka.prototype.insert=function(t,e,i,n,s){this._forEachCell(e,i,n,s,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(s)},Ka.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ka.prototype._insertCell=function(t,e,i,n,s,c){this.cells[s].push(c)},Ka.prototype.query=function(t,e,i,n,s){var c=this.min,u=this.max;if(t<=c&&e<=c&&u<=i&&u<=n&&!s)return Array.prototype.slice.call(this.keys);var p=[];return this._forEachCell(t,e,i,n,this._queryCell,p,{},s),p},Ka.prototype._queryCell=function(t,e,i,n,s,c,u,p){var f=this.cells[s];if(f!==null)for(var g=this.keys,v=this.bboxes,b=0;b<f.length;b++){var M=f[b];if(u[M]===void 0){var T=4*M;(p?p(v[T+0],v[T+1],v[T+2],v[T+3]):t<=v[T+2]&&e<=v[T+3]&&i>=v[T+0]&&n>=v[T+1])?(u[M]=!0,c.push(g[M])):u[M]=!1}}},Ka.prototype._forEachCell=function(t,e,i,n,s,c,u,p){for(var f=this._convertToCellCoord(t),g=this._convertToCellCoord(e),v=this._convertToCellCoord(i),b=this._convertToCellCoord(n),M=f;M<=v;M++)for(var T=g;T<=b;T++){var C=this.d*T+M;if((!p||p(this._convertFromCellCoord(M),this._convertFromCellCoord(T),this._convertFromCellCoord(M+1),this._convertFromCellCoord(T+1)))&&s.call(this,t,e,i,n,C,c,u,p))return}},Ka.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Ka.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Ka.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=Ua+this.cells.length+1+1,i=0,n=0;n<this.cells.length;n++)i+=this.cells[n].length;var s=new Int32Array(e+i+this.keys.length+this.bboxes.length);s[0]=this.extent,s[1]=this.n,s[2]=this.padding;for(var c=e,u=0;u<t.length;u++){var p=t[u];s[Ua+u]=c,s.set(p,c),c+=p.length}return s[Ua+t.length]=c,s.set(this.keys,c),s[Ua+t.length+1]=c+=this.keys.length,s.set(this.bboxes,c),c+=this.bboxes.length,s.buffer};var lr=et(jh);let Js={};function Xe(t,e,i={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Js[e]={klass:t,omit:i.omit||[]}}Xe(Object,"Object"),lr.serialize=function(t,e){let i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}},lr.deserialize=function(t){return new lr(t.buffer)},Object.defineProperty(lr,"name",{value:"Grid"}),Xe(lr,"Grid"),Xe(bi,"Color"),Xe(Error,"Error"),Xe(Rn,"AJAXError"),Xe(Ea,"ResolvedImage"),Xe($s,"StylePropertyFunction"),Xe(Zs,"StyleExpression",{omit:["_evaluator"]}),Xe(Uo,"ZoomDependentExpression"),Xe(Ac,"ZoomConstantExpression"),Xe(mn,"CompoundExpression",{omit:["_evaluate"]});for(let t in Vo)Js[Vo[t]._classRegistryKey]||Xe(Vo[t],`Expression${t}`);function Dc(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}function Oc(t){return ae.ImageBitmap&&t instanceof ae.ImageBitmap}function Zr(t,e){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Dc(t)||Oc(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){let i=t;return e&&e.push(i.buffer),i}if(t instanceof ae.ImageData)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){let i=[];for(let n of t)i.push(Zr(n,e));return i}if(typeof t=="object"){let i=t.constructor,n=i._classRegistryKey;if(!n)throw new Error(`can't serialize object of unregistered class ${n}`);let s=i.serialize?i.serialize(t,e):{};if(!i.serialize){for(let c in t)t.hasOwnProperty(c)&&(Js[n].omit.indexOf(c)>=0||(s[c]=Zr(t[c],e)));t instanceof Error&&(s.message=t.message)}if(s.$name)throw new Error("$name property is reserved for worker serialization logic.");return n!=="Object"&&(s.$name=n),s}throw new Error("can't serialize object of type "+typeof t)}function cr(t){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Dc(t)||Oc(t)||ArrayBuffer.isView(t)||t instanceof ae.ImageData)return t;if(Array.isArray(t))return t.map(cr);if(typeof t=="object"){let e=t.$name||"Object",{klass:i}=Js[e];if(!i)throw new Error(`can't deserialize unregistered class ${e}`);if(i.deserialize)return i.deserialize(t);let n=Object.create(i.prototype);for(let s of Object.keys(t))s!=="$name"&&(n[s]=cr(t[s]));return n}throw new Error("can't deserialize object of type "+typeof t)}let Ze={"Latin-1 Supplement":t=>t>=128&&t<=255,Arabic:t=>t>=1536&&t<=1791,"Arabic Supplement":t=>t>=1872&&t<=1919,"Arabic Extended-A":t=>t>=2208&&t<=2303,"Hangul Jamo":t=>t>=4352&&t<=4607,"Unified Canadian Aboriginal Syllabics":t=>t>=5120&&t<=5759,Khmer:t=>t>=6016&&t<=6143,"Unified Canadian Aboriginal Syllabics Extended":t=>t>=6320&&t<=6399,"General Punctuation":t=>t>=8192&&t<=8303,"Letterlike Symbols":t=>t>=8448&&t<=8527,"Number Forms":t=>t>=8528&&t<=8591,"Miscellaneous Technical":t=>t>=8960&&t<=9215,"Control Pictures":t=>t>=9216&&t<=9279,"Optical Character Recognition":t=>t>=9280&&t<=9311,"Enclosed Alphanumerics":t=>t>=9312&&t<=9471,"Geometric Shapes":t=>t>=9632&&t<=9727,"Miscellaneous Symbols":t=>t>=9728&&t<=9983,"Miscellaneous Symbols and Arrows":t=>t>=11008&&t<=11263,"CJK Radicals Supplement":t=>t>=11904&&t<=12031,"Kangxi Radicals":t=>t>=12032&&t<=12255,"Ideographic Description Characters":t=>t>=12272&&t<=12287,"CJK Symbols and Punctuation":t=>t>=12288&&t<=12351,Hiragana:t=>t>=12352&&t<=12447,Katakana:t=>t>=12448&&t<=12543,Bopomofo:t=>t>=12544&&t<=12591,"Hangul Compatibility Jamo":t=>t>=12592&&t<=12687,Kanbun:t=>t>=12688&&t<=12703,"Bopomofo Extended":t=>t>=12704&&t<=12735,"CJK Strokes":t=>t>=12736&&t<=12783,"Katakana Phonetic Extensions":t=>t>=12784&&t<=12799,"Enclosed CJK Letters and Months":t=>t>=12800&&t<=13055,"CJK Compatibility":t=>t>=13056&&t<=13311,"CJK Unified Ideographs Extension A":t=>t>=13312&&t<=19903,"Yijing Hexagram Symbols":t=>t>=19904&&t<=19967,"CJK Unified Ideographs":t=>t>=19968&&t<=40959,"Yi Syllables":t=>t>=40960&&t<=42127,"Yi Radicals":t=>t>=42128&&t<=42191,"Hangul Jamo Extended-A":t=>t>=43360&&t<=43391,"Hangul Syllables":t=>t>=44032&&t<=55215,"Hangul Jamo Extended-B":t=>t>=55216&&t<=55295,"Private Use Area":t=>t>=57344&&t<=63743,"CJK Compatibility Ideographs":t=>t>=63744&&t<=64255,"Arabic Presentation Forms-A":t=>t>=64336&&t<=65023,"Vertical Forms":t=>t>=65040&&t<=65055,"CJK Compatibility Forms":t=>t>=65072&&t<=65103,"Small Form Variants":t=>t>=65104&&t<=65135,"Arabic Presentation Forms-B":t=>t>=65136&&t<=65279,"Halfwidth and Fullwidth Forms":t=>t>=65280&&t<=65519};function Rc(t){for(let e of t)if(Bc(e.charCodeAt(0)))return!0;return!1}function Hh(t){for(let e of t)if(!p1(e.charCodeAt(0)))return!1;return!0}function p1(t){return!(Ze.Arabic(t)||Ze["Arabic Supplement"](t)||Ze["Arabic Extended-A"](t)||Ze["Arabic Presentation Forms-A"](t)||Ze["Arabic Presentation Forms-B"](t))}function Bc(t){return!(t!==746&&t!==747&&(t<4352||!(Ze["Bopomofo Extended"](t)||Ze.Bopomofo(t)||Ze["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Ze["CJK Compatibility Ideographs"](t)||Ze["CJK Compatibility"](t)||Ze["CJK Radicals Supplement"](t)||Ze["CJK Strokes"](t)||!(!Ze["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||t===12336)||Ze["CJK Unified Ideographs Extension A"](t)||Ze["CJK Unified Ideographs"](t)||Ze["Enclosed CJK Letters and Months"](t)||Ze["Hangul Compatibility Jamo"](t)||Ze["Hangul Jamo Extended-A"](t)||Ze["Hangul Jamo Extended-B"](t)||Ze["Hangul Jamo"](t)||Ze["Hangul Syllables"](t)||Ze.Hiragana(t)||Ze["Ideographic Description Characters"](t)||Ze.Kanbun(t)||Ze["Kangxi Radicals"](t)||Ze["Katakana Phonetic Extensions"](t)||Ze.Katakana(t)&&t!==12540||!(!Ze["Halfwidth and Fullwidth Forms"](t)||t===65288||t===65289||t===65293||t>=65306&&t<=65310||t===65339||t===65341||t===65343||t>=65371&&t<=65503||t===65507||t>=65512&&t<=65519)||!(!Ze["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Ze["Unified Canadian Aboriginal Syllabics"](t)||Ze["Unified Canadian Aboriginal Syllabics Extended"](t)||Ze["Vertical Forms"](t)||Ze["Yijing Hexagram Symbols"](t)||Ze["Yi Syllables"](t)||Ze["Yi Radicals"](t))))}function m1(t){return!(Bc(t)||function(e){return!!(Ze["Latin-1 Supplement"](e)&&(e===167||e===169||e===174||e===177||e===188||e===189||e===190||e===215||e===247)||Ze["General Punctuation"](e)&&(e===8214||e===8224||e===8225||e===8240||e===8241||e===8251||e===8252||e===8258||e===8263||e===8264||e===8265||e===8273)||Ze["Letterlike Symbols"](e)||Ze["Number Forms"](e)||Ze["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||e===9003||e>=9085&&e<=9114||e>=9150&&e<=9165||e===9167||e>=9169&&e<=9179||e>=9186&&e<=9215)||Ze["Control Pictures"](e)&&e!==9251||Ze["Optical Character Recognition"](e)||Ze["Enclosed Alphanumerics"](e)||Ze["Geometric Shapes"](e)||Ze["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Ze["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Ze["CJK Symbols and Punctuation"](e)||Ze.Katakana(e)||Ze["Private Use Area"](e)||Ze["CJK Compatibility Forms"](e)||Ze["Small Form Variants"](e)||Ze["Halfwidth and Fullwidth Forms"](e)||e===8734||e===8756||e===8757||e>=9984&&e<=10087||e>=10102&&e<=10131||e===65532||e===65533)}(t))}function f1(t){return t>=1424&&t<=2303||Ze["Arabic Presentation Forms-A"](t)||Ze["Arabic Presentation Forms-B"](t)}function Gh(t,e){return!(!e&&f1(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Ze.Khmer(t))}function Zh(t){for(let e of t)if(f1(e.charCodeAt(0)))return!0;return!1}let Fc="deferred",Vc="loading",Nc="loaded",$r=null,l="unavailable",a=null,r=function(t){t&&typeof t=="string"&&t.indexOf("NetworkError")>-1&&(l="error"),$r&&$r(t)};function h(){d.fire(new tr("pluginStateChange",{pluginStatus:l,pluginURL:a}))}let d=new Mo,m=function(){return l},_=function(){if(l!==Fc||!a)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");l=Vc,h(),a&&Cr({url:a},t=>{t?r(t):(l=Nc,h())})},y={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>l===Nc||y.applyArabicShaping!=null,isLoading:()=>l===Vc,setState(t){l=t.pluginStatus,a=t.pluginURL},isParsed:()=>y.applyArabicShaping!=null&&y.processBidirectionalText!=null&&y.processStyledBidirectionalText!=null,getPluginURL:()=>a};class x{constructor(e,i){this.zoom=e,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.transition=i.transition,this.pitch=i.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(i,n){for(let s of i)if(!Gh(s.charCodeAt(0),n))return!1;return!0}(e,y.isLoaded())}}class A{constructor(e,i){this.property=e,this.value=i,this.expression=function(n,s){if(No(n))return new $s(n,s);if(Ur(n)){let c=jo(n,s);if(c.result==="error")throw new Error(c.value.map(u=>`${u.key}: ${u.message}`).join(", "));return c.value}{let c=n;return typeof n=="string"&&s.type==="color"&&(c=bi.parse(n)),{kind:"constant",evaluate:()=>c}}}(i===void 0?e.specification.default:i,e.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(e,i,n){return this.property.possiblyEvaluate(this,e,i,n)}}class z{constructor(e){this.property=e,this.value=new A(e,void 0)}transitioned(e,i){return new k(this.property,this.value,i,Mi({},e.transition,this.transition),e.now)}untransitioned(){return new k(this.property,this.value,null,{},0)}}class E{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return va(this._values[e].value.value)}setValue(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new z(this._values[e].property)),this._values[e].value=new A(this._values[e].property,i===null?void 0:va(i))}getTransition(e){return va(this._values[e].transition)}setTransition(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new z(this._values[e].property)),this._values[e].transition=va(i)||void 0}serialize(){let e={};for(let i of Object.keys(this._values)){let n=this.getValue(i);n!==void 0&&(e[i]=n);let s=this.getTransition(i);s!==void 0&&(e[`${i}-transition`]=s)}return e}transitioned(e,i){let n=new R(this._properties);for(let s of Object.keys(this._values))n._values[s]=this._values[s].transitioned(e,i._values[s]);return n}untransitioned(){let e=new R(this._properties);for(let i of Object.keys(this._values))e._values[i]=this._values[i].untransitioned();return e}}class k{constructor(e,i,n,s,c){let u=s.delay||0,p=s.duration||0;c=c||0,this.property=e,this.value=i,this.begin=c+u,this.end=this.begin+p,e.specification.transition&&(s.delay||s.duration)&&(this.prior=n)}possiblyEvaluate(e,i,n){let s=e.now||0,c=this.value.possiblyEvaluate(e,i,n),u=this.prior;if(u){if(s>this.end)return this.prior=null,c;if(this.value.isDataDriven())return this.prior=null,c;if(s<this.begin)return u.possiblyEvaluate(e,i,n);{let p=(s-this.begin)/(this.end-this.begin);return this.property.interpolate(u.possiblyEvaluate(e,i,n),c,ys(p))}}return c}}class R{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,i,n){let s=new N(this._properties);for(let c of Object.keys(this._values))s._values[c]=this._values[c].possiblyEvaluate(e,i,n);return s}hasTransition(){for(let e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class F{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return va(this._values[e].value)}setValue(e,i){this._values[e]=new A(this._values[e].property,i===null?void 0:va(i))}serialize(){let e={};for(let i of Object.keys(this._values)){let n=this.getValue(i);n!==void 0&&(e[i]=n)}return e}possiblyEvaluate(e,i,n){let s=new N(this._properties);for(let c of Object.keys(this._values))s._values[c]=this._values[c].possiblyEvaluate(e,i,n);return s}}class B{constructor(e,i,n){this.property=e,this.value=i,this.parameters=n}isConstant(){return this.value.kind==="constant"}constantOr(e){return this.value.kind==="constant"?this.value.value:e}evaluate(e,i,n,s){return this.property.evaluate(this.value,this.parameters,e,i,n,s)}}class N{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class S{constructor(e){this.specification=e}possiblyEvaluate(e,i){return e.expression.evaluate(i)}interpolate(e,i,n){let s=Do[this.specification.type];return s?s(e,i,n):e}}class O{constructor(e,i){this.specification=e,this.overrides=i}possiblyEvaluate(e,i,n,s){return new B(this,e.expression.kind==="constant"||e.expression.kind==="camera"?{kind:"constant",value:e.expression.evaluate(i,null,{},n,s)}:e.expression,i)}interpolate(e,i,n){if(e.value.kind!=="constant"||i.value.kind!=="constant")return e;if(e.value.value===void 0||i.value.value===void 0)return new B(this,{kind:"constant",value:void 0},e.parameters);let s=Do[this.specification.type];return s?new B(this,{kind:"constant",value:s(e.value.value,i.value.value,n)},e.parameters):e}evaluate(e,i,n,s,c,u){return e.kind==="constant"?e.value:e.evaluate(i,n,s,c,u)}}class H{constructor(e){this.specification=e}possiblyEvaluate(e,i,n,s){return!!e.expression.evaluate(i,null,{},n,s)}interpolate(){return!1}}class G{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];let i=new x(0,{});for(let n in e){let s=e[n];s.specification.overridable&&this.overridableProperties.push(n);let c=this.defaultPropertyValues[n]=new A(s,void 0),u=this.defaultTransitionablePropertyValues[n]=new z(s);this.defaultTransitioningPropertyValues[n]=u.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=c.possiblyEvaluate(i)}}}function J(t,e){return 256*(t=Pt(Math.floor(t),0,255))+Pt(Math.floor(e),0,255)}Xe(O,"DataDrivenProperty"),Xe(S,"DataConstantProperty"),Xe(H,"ColorRampProperty");let ee={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Q{constructor(e,i){this._structArray=e,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class se{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,i){return e._trim(),i&&(e.isTransferred=!0,i.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){let i=Object.create(this.prototype);return i.arrayBuffer=e.arrayBuffer,i.length=e.length,i.capacity=e.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function oe(t,e=1){let i=0,n=0;return{members:t.map(s=>{let c=ee[s.type].BYTES_PER_ELEMENT,u=i=pe(i,Math.max(e,c)),p=s.components||1;return n=Math.max(n,c),i+=c*p,{name:s.name,type:s.type,components:p,offset:u}}),size:pe(i,Math.max(n,e)),alignment:e}}function pe(t,e){return Math.ceil(t/e)*e}class Pe extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i){let n=this.length;return this.resize(n+1),this.emplace(n,e,i)}emplace(e,i,n){let s=2*e;return this.int16[s+0]=i,this.int16[s+1]=n,e}}Pe.prototype.bytesPerElement=4,Xe(Pe,"StructArrayLayout2i4");class he extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,n){let s=this.length;return this.resize(s+1),this.emplace(s,e,i,n)}emplace(e,i,n,s){let c=3*e;return this.int16[c+0]=i,this.int16[c+1]=n,this.int16[c+2]=s,e}}he.prototype.bytesPerElement=6,Xe(he,"StructArrayLayout3i6");class we extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,n,s){let c=this.length;return this.resize(c+1),this.emplace(c,e,i,n,s)}emplace(e,i,n,s,c){let u=4*e;return this.int16[u+0]=i,this.int16[u+1]=n,this.int16[u+2]=s,this.int16[u+3]=c,e}}we.prototype.bytesPerElement=8,Xe(we,"StructArrayLayout4i8");class fe extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u,p){let f=this.length;return this.resize(f+1),this.emplace(f,e,i,n,s,c,u,p)}emplace(e,i,n,s,c,u,p,f){let g=6*e,v=12*e,b=3*e;return this.int16[g+0]=i,this.int16[g+1]=n,this.uint8[v+4]=s,this.uint8[v+5]=c,this.uint8[v+6]=u,this.uint8[v+7]=p,this.float32[b+2]=f,e}}fe.prototype.bytesPerElement=12,Xe(fe,"StructArrayLayout2i4ub1f12");class Ie extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,n,s){let c=this.length;return this.resize(c+1),this.emplace(c,e,i,n,s)}emplace(e,i,n,s,c){let u=4*e;return this.float32[u+0]=i,this.float32[u+1]=n,this.float32[u+2]=s,this.float32[u+3]=c,e}}Ie.prototype.bytesPerElement=16,Xe(Ie,"StructArrayLayout4f16");class de extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c){let u=this.length;return this.resize(u+1),this.emplace(u,e,i,n,s,c)}emplace(e,i,n,s,c,u){let p=6*e,f=3*e;return this.uint16[p+0]=i,this.uint16[p+1]=n,this.uint16[p+2]=s,this.uint16[p+3]=c,this.float32[f+2]=u,e}}de.prototype.bytesPerElement=12,Xe(de,"StructArrayLayout4ui1f12");class be extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,n,s){let c=this.length;return this.resize(c+1),this.emplace(c,e,i,n,s)}emplace(e,i,n,s,c){let u=4*e;return this.uint16[u+0]=i,this.uint16[u+1]=n,this.uint16[u+2]=s,this.uint16[u+3]=c,e}}be.prototype.bytesPerElement=8,Xe(be,"StructArrayLayout4ui8");class De extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u){let p=this.length;return this.resize(p+1),this.emplace(p,e,i,n,s,c,u)}emplace(e,i,n,s,c,u,p){let f=6*e;return this.int16[f+0]=i,this.int16[f+1]=n,this.int16[f+2]=s,this.int16[f+3]=c,this.int16[f+4]=u,this.int16[f+5]=p,e}}De.prototype.bytesPerElement=12,Xe(De,"StructArrayLayout6i12");class Te extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u,p,f,g,v,b,M){let T=this.length;return this.resize(T+1),this.emplace(T,e,i,n,s,c,u,p,f,g,v,b,M)}emplace(e,i,n,s,c,u,p,f,g,v,b,M,T){let C=12*e;return this.int16[C+0]=i,this.int16[C+1]=n,this.int16[C+2]=s,this.int16[C+3]=c,this.uint16[C+4]=u,this.uint16[C+5]=p,this.uint16[C+6]=f,this.uint16[C+7]=g,this.int16[C+8]=v,this.int16[C+9]=b,this.int16[C+10]=M,this.int16[C+11]=T,e}}Te.prototype.bytesPerElement=24,Xe(Te,"StructArrayLayout4i4ui4i24");class Re extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u){let p=this.length;return this.resize(p+1),this.emplace(p,e,i,n,s,c,u)}emplace(e,i,n,s,c,u,p){let f=10*e,g=5*e;return this.int16[f+0]=i,this.int16[f+1]=n,this.int16[f+2]=s,this.float32[g+2]=c,this.float32[g+3]=u,this.float32[g+4]=p,e}}Re.prototype.bytesPerElement=20,Xe(Re,"StructArrayLayout3i3f20");class nt extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){let i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint32[1*e+0]=i,e}}nt.prototype.bytesPerElement=4,Xe(nt,"StructArrayLayout1ul4");class dt extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u,p,f,g,v,b,M,T){let C=this.length;return this.resize(C+1),this.emplace(C,e,i,n,s,c,u,p,f,g,v,b,M,T)}emplace(e,i,n,s,c,u,p,f,g,v,b,M,T,C){let L=20*e,D=10*e;return this.int16[L+0]=i,this.int16[L+1]=n,this.int16[L+2]=s,this.int16[L+3]=c,this.int16[L+4]=u,this.float32[D+3]=p,this.float32[D+4]=f,this.float32[D+5]=g,this.float32[D+6]=v,this.int16[L+14]=b,this.uint32[D+8]=M,this.uint16[L+18]=T,this.uint16[L+19]=C,e}}dt.prototype.bytesPerElement=40,Xe(dt,"StructArrayLayout5i4f1i1ul2ui40");class Ke extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u,p){let f=this.length;return this.resize(f+1),this.emplace(f,e,i,n,s,c,u,p)}emplace(e,i,n,s,c,u,p,f){let g=8*e;return this.int16[g+0]=i,this.int16[g+1]=n,this.int16[g+2]=s,this.int16[g+4]=c,this.int16[g+5]=u,this.int16[g+6]=p,this.int16[g+7]=f,e}}Ke.prototype.bytesPerElement=16,Xe(Ke,"StructArrayLayout3i2i2i16");class st extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c){let u=this.length;return this.resize(u+1),this.emplace(u,e,i,n,s,c)}emplace(e,i,n,s,c,u){let p=4*e,f=8*e;return this.float32[p+0]=i,this.float32[p+1]=n,this.float32[p+2]=s,this.int16[f+6]=c,this.int16[f+7]=u,e}}st.prototype.bytesPerElement=16,Xe(st,"StructArrayLayout2f1f2i16");class It extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,n,s){let c=this.length;return this.resize(c+1),this.emplace(c,e,i,n,s)}emplace(e,i,n,s,c){let u=12*e,p=3*e;return this.uint8[u+0]=i,this.uint8[u+1]=n,this.float32[p+1]=s,this.float32[p+2]=c,e}}It.prototype.bytesPerElement=12,Xe(It,"StructArrayLayout2ub2f12");class Et extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,n){let s=this.length;return this.resize(s+1),this.emplace(s,e,i,n)}emplace(e,i,n,s){let c=3*e;return this.float32[c+0]=i,this.float32[c+1]=n,this.float32[c+2]=s,e}}Et.prototype.bytesPerElement=12,Xe(Et,"StructArrayLayout3f12");class tt extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,n){let s=this.length;return this.resize(s+1),this.emplace(s,e,i,n)}emplace(e,i,n,s){let c=3*e;return this.uint16[c+0]=i,this.uint16[c+1]=n,this.uint16[c+2]=s,e}}tt.prototype.bytesPerElement=6,Xe(tt,"StructArrayLayout3ui6");class qt extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u,p,f,g,v,b,M,T,C,L,D,U,W,j,$,K){let X=this.length;return this.resize(X+1),this.emplace(X,e,i,n,s,c,u,p,f,g,v,b,M,T,C,L,D,U,W,j,$,K)}emplace(e,i,n,s,c,u,p,f,g,v,b,M,T,C,L,D,U,W,j,$,K,X){let me=30*e,ue=15*e,xe=60*e;return this.int16[me+0]=i,this.int16[me+1]=n,this.int16[me+2]=s,this.float32[ue+2]=c,this.float32[ue+3]=u,this.uint16[me+8]=p,this.uint16[me+9]=f,this.uint32[ue+5]=g,this.uint32[ue+6]=v,this.uint32[ue+7]=b,this.uint16[me+16]=M,this.uint16[me+17]=T,this.uint16[me+18]=C,this.float32[ue+10]=L,this.float32[ue+11]=D,this.uint8[xe+48]=U,this.uint8[xe+49]=W,this.uint8[xe+50]=j,this.uint32[ue+13]=$,this.int16[me+28]=K,this.uint8[xe+58]=X,e}}qt.prototype.bytesPerElement=60,Xe(qt,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Wt extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c,u,p,f,g,v,b,M,T,C,L,D,U,W,j,$,K,X,me,ue,xe,ke,ge,ze,Ae,Ee){let Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,e,i,n,s,c,u,p,f,g,v,b,M,T,C,L,D,U,W,j,$,K,X,me,ue,xe,ke,ge,ze,Ae,Ee)}emplace(e,i,n,s,c,u,p,f,g,v,b,M,T,C,L,D,U,W,j,$,K,X,me,ue,xe,ke,ge,ze,Ae,Ee,Fe){let ye=38*e,je=19*e;return this.int16[ye+0]=i,this.int16[ye+1]=n,this.int16[ye+2]=s,this.float32[je+2]=c,this.float32[je+3]=u,this.int16[ye+8]=p,this.int16[ye+9]=f,this.int16[ye+10]=g,this.int16[ye+11]=v,this.int16[ye+12]=b,this.int16[ye+13]=M,this.uint16[ye+14]=T,this.uint16[ye+15]=C,this.uint16[ye+16]=L,this.uint16[ye+17]=D,this.uint16[ye+18]=U,this.uint16[ye+19]=W,this.uint16[ye+20]=j,this.uint16[ye+21]=$,this.uint16[ye+22]=K,this.uint16[ye+23]=X,this.uint16[ye+24]=me,this.uint16[ye+25]=ue,this.uint16[ye+26]=xe,this.uint16[ye+27]=ke,this.uint16[ye+28]=ge,this.uint32[je+15]=ze,this.float32[je+16]=Ae,this.float32[je+17]=Ee,this.float32[je+18]=Fe,e}}Wt.prototype.bytesPerElement=76,Xe(Wt,"StructArrayLayout3i2f6i15ui1ul3f76");class Xt extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){let i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.float32[1*e+0]=i,e}}Xt.prototype.bytesPerElement=4,Xe(Xt,"StructArrayLayout1f4");class Kt extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,n,s,c){let u=this.length;return this.resize(u+1),this.emplace(u,e,i,n,s,c)}emplace(e,i,n,s,c,u){let p=5*e;return this.float32[p+0]=i,this.float32[p+1]=n,this.float32[p+2]=s,this.float32[p+3]=c,this.float32[p+4]=u,e}}Kt.prototype.bytesPerElement=20,Xe(Kt,"StructArrayLayout5f20");class ra extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,n,s){let c=this.length;return this.resize(c+1),this.emplace(c,e,i,n,s)}emplace(e,i,n,s,c){let u=6*e;return this.uint32[3*e+0]=i,this.uint16[u+2]=n,this.uint16[u+3]=s,this.uint16[u+4]=c,e}}ra.prototype.bytesPerElement=12,Xe(ra,"StructArrayLayout1ul3ui12");class ji extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i){let n=this.length;return this.resize(n+1),this.emplace(n,e,i)}emplace(e,i,n){let s=2*e;return this.uint16[s+0]=i,this.uint16[s+1]=n,e}}ji.prototype.bytesPerElement=4,Xe(ji,"StructArrayLayout2ui4");class Ia extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){let i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint16[1*e+0]=i,e}}Ia.prototype.bytesPerElement=2,Xe(Ia,"StructArrayLayout1ui2");class Ya extends se{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i){let n=this.length;return this.resize(n+1),this.emplace(n,e,i)}emplace(e,i,n){let s=2*e;return this.float32[s+0]=i,this.float32[s+1]=n,e}}Ya.prototype.bytesPerElement=8,Xe(Ya,"StructArrayLayout2f8");class pi extends Q{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}pi.prototype.size=40;class Yt extends dt{get(e){return new pi(this,e)}}Xe(Yt,"CollisionBoxArray");class Ut extends Q{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Ut.prototype.size=60;class Ti extends qt{get(e){return new Ut(this,e)}}Xe(Ti,"PlacedSymbolArray");class ha extends Q{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ha.prototype.size=76;class hi extends Wt{get(e){return new ha(this,e)}}Xe(hi,"SymbolInstanceArray");class pa extends Xt{getoffsetX(e){return this.float32[1*e+0]}}Xe(pa,"GlyphOffsetArray");class Qs extends Pe{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Xe(Qs,"SymbolLineVertexArray");class hr extends Q{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}hr.prototype.size=12;class Wo extends ra{get(e){return new hr(this,e)}}Xe(Wo,"FeatureIndexArray");class vn extends ji{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Xe(vn,"FillExtrusionCentroidArray");let Vn=oe([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),ur=oe([{name:"a_dash",components:4,type:"Uint16"}]);var el={exports:{}},Xo={exports:{}};Xo.exports=function(t,e){var i,n,s,c,u,p,f,g;for(n=t.length-(i=3&t.length),s=e,u=3432918353,p=461845907,g=0;g<n;)f=255&t.charCodeAt(g)|(255&t.charCodeAt(++g))<<8|(255&t.charCodeAt(++g))<<16|(255&t.charCodeAt(++g))<<24,++g,s=27492+(65535&(c=5*(65535&(s=(s^=f=(65535&(f=(f=(65535&f)*u+(((f>>>16)*u&65535)<<16)&4294967295)<<15|f>>>17))*p+(((f>>>16)*p&65535)<<16)&4294967295)<<13|s>>>19))+((5*(s>>>16)&65535)<<16)&4294967295))+((58964+(c>>>16)&65535)<<16);switch(f=0,i){case 3:f^=(255&t.charCodeAt(g+2))<<16;case 2:f^=(255&t.charCodeAt(g+1))<<8;case 1:s^=f=(65535&(f=(f=(65535&(f^=255&t.charCodeAt(g)))*u+(((f>>>16)*u&65535)<<16)&4294967295)<<15|f>>>17))*p+(((f>>>16)*p&65535)<<16)&4294967295}return s^=t.length,s=2246822507*(65535&(s^=s>>>16))+((2246822507*(s>>>16)&65535)<<16)&4294967295,s=3266489909*(65535&(s^=s>>>13))+((3266489909*(s>>>16)&65535)<<16)&4294967295,(s^=s>>>16)>>>0};var Uc=Xo.exports,Md={exports:{}};Md.exports=function(t,e){for(var i,n=t.length,s=e^n,c=0;n>=4;)i=1540483477*(65535&(i=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24))+((1540483477*(i>>>16)&65535)<<16),s=1540483477*(65535&s)+((1540483477*(s>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),n-=4,++c;switch(n){case 3:s^=(255&t.charCodeAt(c+2))<<16;case 2:s^=(255&t.charCodeAt(c+1))<<8;case 1:s=1540483477*(65535&(s^=255&t.charCodeAt(c)))+((1540483477*(s>>>16)&65535)<<16)}return s=1540483477*(65535&(s^=s>>>13))+((1540483477*(s>>>16)&65535)<<16),(s^=s>>>15)>>>0};var zd=Uc,bg=Md.exports;el.exports=zd,el.exports.murmur3=zd,el.exports.murmur2=bg;var $h=et(el.exports);class g1{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,i,n,s){this.ids.push(Ad(e)),this.positions.push(i,n,s)}getPositions(e){let i=Ad(e),n=0,s=this.ids.length-1;for(;n<s;){let u=n+s>>1;this.ids[u]>=i?s=u:n=u+1}let c=[];for(;this.ids[n]===i;)c.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return c}static serialize(e,i){let n=new Float64Array(e.ids),s=new Uint32Array(e.positions);return qh(n,s,0,n.length-1),i&&i.push(n.buffer,s.buffer),{ids:n,positions:s}}static deserialize(e){let i=new g1;return i.ids=e.ids,i.positions=e.positions,i.indexed=!0,i}}function Ad(t){let e=+t;return!isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:$h(String(t))}function qh(t,e,i,n){for(;i<n;){let s=t[i+n>>1],c=i-1,u=n+1;for(;;){do c++;while(t[c]<s);do u--;while(t[u]>s);if(c>=u)break;_1(t,c,u),_1(e,3*c,3*u),_1(e,3*c+1,3*u+1),_1(e,3*c+2,3*u+2)}u-i<n-u?(qh(t,e,i,u),i=u+1):(qh(t,e,u+1,n),n=u)}}function _1(t,e,i){let n=t[e];t[e]=t[i],t[i]=n}Xe(g1,"FeaturePositionMap");class dr{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,i){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,i),this.initialized=!0),!!this.location}}class y1 extends dr{constructor(e){super(e),this.current=0}set(e,i,n){this.fetchUniformLocation(e,i)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Td extends dr{constructor(e){super(e),this.current=[0,0,0,0]}set(e,i,n){this.fetchUniformLocation(e,i)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}class Cd extends dr{constructor(e){super(e),this.current=bi.transparent}set(e,i,n){this.fetchUniformLocation(e,i)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}let wg=new Float32Array(16),Mg=new Float32Array(9),zg=new Float32Array(4);function Wh(t){return[J(255*t.r,255*t.g),J(255*t.b,255*t.a)]}class jc{constructor(e,i,n){this.value=e,this.uniformNames=i.map(s=>`u_${s}`),this.type=n}setUniform(e,i,n,s,c){i.set(e,c,s.constantOr(this.value))}getBinding(e,i){return this.type==="color"?new Cd(e):new y1(e)}}class tl{constructor(e,i){this.uniformNames=i.map(n=>`u_${n}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,i,n,s,c){let u=c==="u_pattern"||c==="u_dash"?this.pattern:c==="u_pixel_ratio"?this.pixelRatio:null;u&&i.set(e,c,u)}getBinding(e,i){return i==="u_pattern"||i==="u_dash"?new Td(e):new y1(e)}}class pr{constructor(e,i,n,s){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=i.map(c=>({name:`a_${c}`,type:"Float32",components:n==="color"?2:1,offset:0})),this.paintVertexArray=new s}populatePaintArray(e,i,n,s,c,u){let p=this.paintVertexArray.length,f=this.expression.evaluate(new x(0),i,{},c,s,u);this.paintVertexArray.resize(e),this._setPaintValue(p,e,f)}updatePaintArray(e,i,n,s,c){let u=this.expression.evaluate({zoom:0},n,s,void 0,c);this._setPaintValue(e,i,u)}_setPaintValue(e,i,n){if(this.type==="color"){let s=Wh(n);for(let c=e;c<i;c++)this.paintVertexArray.emplace(c,s[0],s[1])}else{for(let s=e;s<i;s++)this.paintVertexArray.emplace(s,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class xn{constructor(e,i,n,s,c,u){this.expression=e,this.uniformNames=i.map(p=>`u_${p}_t`),this.type=n,this.useIntegerZoom=s,this.zoom=c,this.maxValue=0,this.paintVertexAttributes=i.map(p=>({name:`a_${p}`,type:"Float32",components:n==="color"?4:2,offset:0})),this.paintVertexArray=new u}populatePaintArray(e,i,n,s,c,u){let p=this.expression.evaluate(new x(this.zoom),i,{},c,s,u),f=this.expression.evaluate(new x(this.zoom+1),i,{},c,s,u),g=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(g,e,p,f)}updatePaintArray(e,i,n,s,c){let u=this.expression.evaluate({zoom:this.zoom},n,s,void 0,c),p=this.expression.evaluate({zoom:this.zoom+1},n,s,void 0,c);this._setPaintValue(e,i,u,p)}_setPaintValue(e,i,n,s){if(this.type==="color"){let c=Wh(n),u=Wh(s);for(let p=e;p<i;p++)this.paintVertexArray.emplace(p,c[0],c[1],u[0],u[1])}else{for(let c=e;c<i;c++)this.paintVertexArray.emplace(c,n,s);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(s))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,i,n,s,c){let u=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,p=Pt(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);i.set(e,c,p)}getBinding(e,i){return new y1(e)}}class qr{constructor(e,i,n,s,c){this.expression=e,this.layerId=c,this.paintVertexAttributes=(n==="array"?ur:Vn).members;for(let u=0;u<i.length;++u);this.paintVertexArray=new s}populatePaintArray(e,i,n){let s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(s,e,i.patterns&&i.patterns[this.layerId],n)}updatePaintArray(e,i,n,s,c,u){this._setPaintValues(e,i,n.patterns&&n.patterns[this.layerId],u)}_setPaintValues(e,i,n,s){if(!s||!n)return;let c=s[n];if(!c)return;let{tl:u,br:p,pixelRatio:f}=c;for(let g=e;g<i;g++)this.paintVertexArray.emplace(g,u[0],u[1],p[0],p[1],f)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Wr{constructor(e,i,n=()=>!0){this.binders={},this._buffers=[];let s=[];for(let c in e.paint._values){if(!n(c))continue;let u=e.paint.get(c);if(!(u instanceof B&&Vr(u.property.specification)))continue;let p=Tg(c,e.type),f=u.value,g=u.property.specification.type,v=!!u.property.useIntegerZoom,b=c==="line-dasharray"||c.endsWith("pattern"),M=c==="line-dasharray"&&e.layout.get("line-cap").value.kind!=="constant";if(f.kind!=="constant"||M)if(f.kind==="source"||M||b){let T=Ed(c,g,"source");this.binders[c]=b?new qr(f,p,g,T,e.id):new pr(f,p,g,T),s.push(`/a_${c}`)}else{let T=Ed(c,g,"composite");this.binders[c]=new xn(f,p,g,v,i,T),s.push(`/z_${c}`)}else this.binders[c]=b?new tl(f.value,p):new jc(f.value,p,g),s.push(`/u_${c}`)}this.cacheKey=s.sort().join("")}getMaxValue(e){let i=this.binders[e];return i instanceof pr||i instanceof xn?i.maxValue:0}populatePaintArrays(e,i,n,s,c,u){for(let p in this.binders){let f=this.binders[p];(f instanceof pr||f instanceof xn||f instanceof qr)&&f.populatePaintArray(e,i,n,s,c,u)}}setConstantPatternPositions(e){for(let i in this.binders){let n=this.binders[i];n instanceof tl&&n.setConstantPatternPositions(e)}}updatePaintArrays(e,i,n,s,c,u){let p=!1;for(let f in e){let g=i.getPositions(f);for(let v of g){let b=n.feature(v.index);for(let M in this.binders){let T=this.binders[M];if((T instanceof pr||T instanceof xn||T instanceof qr)&&T.expression.isStateDependent===!0){let C=s.paint.get(M);T.expression=C.value,T.updatePaintArray(v.start,v.end,b,e[f],c,u),p=!0}}}}return p}defines(){let e=[];for(let i in this.binders){let n=this.binders[i];(n instanceof jc||n instanceof tl)&&e.push(...n.uniformNames.map(s=>`#define HAS_UNIFORM_${s}`))}return e}getBinderAttributes(){let e=[];for(let i in this.binders){let n=this.binders[i];if(n instanceof pr||n instanceof xn||n instanceof qr)for(let s=0;s<n.paintVertexAttributes.length;s++)e.push(n.paintVertexAttributes[s].name)}return e}getBinderUniforms(){let e=[];for(let i in this.binders){let n=this.binders[i];if(n instanceof jc||n instanceof tl||n instanceof xn)for(let s of n.uniformNames)e.push(s)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){let i=[];for(let n in this.binders){let s=this.binders[n];if(s instanceof jc||s instanceof tl||s instanceof xn)for(let c of s.uniformNames)i.push({name:c,property:n,binding:s.getBinding(e,c)})}return i}setUniforms(e,i,n,s,c){for(let{name:u,property:p,binding:f}of n)this.binders[p].setUniform(e,f,c,s.get(p),u)}updatePaintBuffers(){this._buffers=[];for(let e in this.binders){let i=this.binders[e];(i instanceof pr||i instanceof xn||i instanceof qr)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(e){for(let i in this.binders){let n=this.binders[i];(n instanceof pr||n instanceof xn||n instanceof qr)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(let e in this.binders){let i=this.binders[e];(i instanceof pr||i instanceof xn||i instanceof qr)&&i.destroy()}}}class Ko{constructor(e,i,n=()=>!0){this.programConfigurations={};for(let s of e)this.programConfigurations[s.id]=new Wr(s,i,n);this.needsUpload=!1,this._featureMap=new g1,this._bufferOffset=0}populatePaintArrays(e,i,n,s,c,u,p){for(let f in this.programConfigurations)this.programConfigurations[f].populatePaintArrays(e,i,s,c,u,p);i.id!==void 0&&this._featureMap.add(i.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,i,n,s,c){for(let u of n)this.needsUpload=this.programConfigurations[u.id].updatePaintArrays(e,this._featureMap,i,u,s,c)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(let i in this.programConfigurations)this.programConfigurations[i].upload(e);this.needsUpload=!1}}destroy(){for(let e in this.programConfigurations)this.programConfigurations[e].destroy()}}let Ag={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Tg(t,e){return Ag[t]||[t.replace(`${e}-`,"").replace(/-/g,"_")]}let Cg={"line-pattern":{source:de,composite:de},"fill-pattern":{source:de,composite:de},"fill-extrusion-pattern":{source:de,composite:de},"line-dasharray":{source:be,composite:be}},Eg={color:{source:Ya,composite:Ie},number:{source:Xt,composite:Ya}};function Ed(t,e,i){let n=Cg[t];return n&&n[i]||Eg[e][i]}Xe(jc,"ConstantBinder"),Xe(tl,"PatternConstantBinder"),Xe(pr,"SourceExpressionBinder"),Xe(qr,"PatternCompositeBinder"),Xe(xn,"CompositeExpressionBinder"),Xe(Wr,"ProgramConfiguration",{omit:["_buffers"]}),Xe(Ko,"ProgramConfigurationSet");let Sd="-transition";class bn extends Mo{constructor(e,i){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,e.type!=="custom"&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,e.type!=="background"&&e.type!=="sky"&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),i.layout&&(this._unevaluatedLayout=new F(i.layout)),i.paint)){this._transitionablePaint=new E(i.paint);for(let n in e.paint)this.setPaintProperty(n,e.paint[n],{validate:!1});for(let n in e.layout)this.setLayoutProperty(n,e.layout[n],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new N(i.paint)}}getLayoutProperty(e){return e==="visibility"?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,i,n={}){i!=null&&this._validate(Uh,`layers.${this.id}.layout.${e}`,e,i,n)||(e!=="visibility"?this._unevaluatedLayout.setValue(e,i):this.visibility=i)}getPaintProperty(e){return wr(e,Sd)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,i,n={}){if(i!=null&&this._validate(Nh,`layers.${this.id}.paint.${e}`,e,i,n))return!1;if(wr(e,Sd))return this._transitionablePaint.setTransition(e.slice(0,-11),i||void 0),!1;{let s=this._transitionablePaint._values[e],c=s.value.isDataDriven(),u=s.value;this._transitionablePaint.setValue(e,i),this._handleSpecialPaintPropertyUpdate(e);let p=this._transitionablePaint._values[e].value,f=p.isDataDriven(),g=wr(e,"pattern")||e==="line-dasharray";return f||c||g||this._handleOverridablePaintPropertyUpdate(e,u,p)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,i,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||this.visibility==="none"}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,i){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,i)}serialize(){let e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),Mr(e,(i,n)=>!(i===void 0||n==="layout"&&!Object.keys(i).length||n==="paint"&&!Object.keys(i).length))}_validate(e,i,n,s,c={}){return(!c||c.validate!==!1)&&d1(this,e.call(u1,{key:i,layerType:this.type,objectKey:n,value:s,styleSpec:ve,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let e in this.paint._values){let i=this.paint.get(e);if(i instanceof B&&Vr(i.property.specification)&&(i.value.kind==="source"||i.value.kind==="composite")&&i.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Xs(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}let Sg=oe([{name:"a_pos",components:2,type:"Int16"}],4),Lg=oe([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Ci{constructor(e=[]){this.segments=e}prepareSegment(e,i,n,s){let c=this.segments[this.segments.length-1];return e>Ci.MAX_VERTEX_ARRAY_LENGTH&&mi(`Max vertices per segment is ${Ci.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!c||c.vertexLength+e>Ci.MAX_VERTEX_ARRAY_LENGTH||c.sortKey!==s)&&(c={vertexOffset:i.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},s!==void 0&&(c.sortKey=s),this.segments.push(c)),c}get(){return this.segments}destroy(){for(let e of this.segments)for(let i in e.vaos)e.vaos[i].destroy()}static simpleSegment(e,i,n,s){return new Ci([{vertexOffset:e,primitiveOffset:i,vertexLength:n,primitiveLength:s,vaos:{},sortKey:0}])}}Ci.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Xe(Ci,"SegmentVector");var ot=8192;class Xr{constructor(e,i){e&&(i?this.setSouthWest(e).setNorthEast(i):e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Jt?new Jt(e.lng,e.lat):Jt.convert(e),this}setSouthWest(e){return this._sw=e instanceof Jt?new Jt(e.lng,e.lat):Jt.convert(e),this}extend(e){let i=this._sw,n=this._ne,s,c;if(e instanceof Jt)s=e,c=e;else{if(!(e instanceof Xr))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(Xr.convert(e)):this.extend(Jt.convert(e)):typeof e=="object"&&e!==null&&e.hasOwnProperty("lat")&&(e.hasOwnProperty("lon")||e.hasOwnProperty("lng"))?this.extend(Jt.convert(e)):this;if(s=e._sw,c=e._ne,!s||!c)return this}return i||n?(i.lng=Math.min(s.lng,i.lng),i.lat=Math.min(s.lat,i.lat),n.lng=Math.max(c.lng,n.lng),n.lat=Math.max(c.lat,n.lat)):(this._sw=new Jt(s.lng,s.lat),this._ne=new Jt(c.lng,c.lat)),this}getCenter(){return new Jt((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Jt(this.getWest(),this.getNorth())}getSouthEast(){return new Jt(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){let{lng:i,lat:n}=Jt.convert(e),s=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(s=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&s}static convert(e){return!e||e instanceof Xr?e:new Xr(e)}}var v1=1e-6,Pa=typeof Float32Array<"u"?Float32Array:Array;function Ld(){var t=new Pa(9);return Pa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Id(t,e,i){var n=e[0],s=e[1],c=e[2],u=e[3],p=e[4],f=e[5],g=e[6],v=e[7],b=e[8],M=i[0],T=i[1],C=i[2],L=i[3],D=i[4],U=i[5],W=i[6],j=i[7],$=i[8];return t[0]=M*n+T*u+C*g,t[1]=M*s+T*p+C*v,t[2]=M*c+T*f+C*b,t[3]=L*n+D*u+U*g,t[4]=L*s+D*p+U*v,t[5]=L*c+D*f+U*b,t[6]=W*n+j*u+$*g,t[7]=W*s+j*p+$*v,t[8]=W*c+j*f+$*b,t}function wn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Xh(t,e){var i=e[0],n=e[1],s=e[2],c=e[3],u=e[4],p=e[5],f=e[6],g=e[7],v=e[8],b=e[9],M=e[10],T=e[11],C=e[12],L=e[13],D=e[14],U=e[15],W=i*p-n*u,j=i*f-s*u,$=i*g-c*u,K=n*f-s*p,X=n*g-c*p,me=s*g-c*f,ue=v*L-b*C,xe=v*D-M*C,ke=v*U-T*C,ge=b*D-M*L,ze=b*U-T*L,Ae=M*U-T*D,Ee=W*Ae-j*ze+$*ge+K*ke-X*xe+me*ue;return Ee?(t[0]=(p*Ae-f*ze+g*ge)*(Ee=1/Ee),t[1]=(s*ze-n*Ae-c*ge)*Ee,t[2]=(L*me-D*X+U*K)*Ee,t[3]=(M*X-b*me-T*K)*Ee,t[4]=(f*ke-u*Ae-g*xe)*Ee,t[5]=(i*Ae-s*ke+c*xe)*Ee,t[6]=(D*$-C*me-U*j)*Ee,t[7]=(v*me-M*$+T*j)*Ee,t[8]=(u*ze-p*ke+g*ue)*Ee,t[9]=(n*ke-i*ze-c*ue)*Ee,t[10]=(C*X-L*$+U*W)*Ee,t[11]=(b*$-v*X-T*W)*Ee,t[12]=(p*xe-u*ge-f*ue)*Ee,t[13]=(i*ge-n*xe+s*ue)*Ee,t[14]=(L*j-C*K-D*W)*Ee,t[15]=(v*K-b*j+M*W)*Ee,t):null}function Yo(t,e,i){var n=e[0],s=e[1],c=e[2],u=e[3],p=e[4],f=e[5],g=e[6],v=e[7],b=e[8],M=e[9],T=e[10],C=e[11],L=e[12],D=e[13],U=e[14],W=e[15],j=i[0],$=i[1],K=i[2],X=i[3];return t[0]=j*n+$*p+K*b+X*L,t[1]=j*s+$*f+K*M+X*D,t[2]=j*c+$*g+K*T+X*U,t[3]=j*u+$*v+K*C+X*W,t[4]=(j=i[4])*n+($=i[5])*p+(K=i[6])*b+(X=i[7])*L,t[5]=j*s+$*f+K*M+X*D,t[6]=j*c+$*g+K*T+X*U,t[7]=j*u+$*v+K*C+X*W,t[8]=(j=i[8])*n+($=i[9])*p+(K=i[10])*b+(X=i[11])*L,t[9]=j*s+$*f+K*M+X*D,t[10]=j*c+$*g+K*T+X*U,t[11]=j*u+$*v+K*C+X*W,t[12]=(j=i[12])*n+($=i[13])*p+(K=i[14])*b+(X=i[15])*L,t[13]=j*s+$*f+K*M+X*D,t[14]=j*c+$*g+K*T+X*U,t[15]=j*u+$*v+K*C+X*W,t}function Hc(t,e,i){var n,s,c,u,p,f,g,v,b,M,T,C,L=i[0],D=i[1],U=i[2];return e===t?(t[12]=e[0]*L+e[4]*D+e[8]*U+e[12],t[13]=e[1]*L+e[5]*D+e[9]*U+e[13],t[14]=e[2]*L+e[6]*D+e[10]*U+e[14],t[15]=e[3]*L+e[7]*D+e[11]*U+e[15]):(s=e[1],c=e[2],u=e[3],p=e[4],f=e[5],g=e[6],v=e[7],b=e[8],M=e[9],T=e[10],C=e[11],t[0]=n=e[0],t[1]=s,t[2]=c,t[3]=u,t[4]=p,t[5]=f,t[6]=g,t[7]=v,t[8]=b,t[9]=M,t[10]=T,t[11]=C,t[12]=n*L+p*D+b*U+e[12],t[13]=s*L+f*D+M*U+e[13],t[14]=c*L+g*D+T*U+e[14],t[15]=u*L+v*D+C*U+e[15]),t}function Jo(t,e,i){var n=i[0],s=i[1],c=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*c,t[9]=e[9]*c,t[10]=e[10]*c,t[11]=e[11]*c,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Kh(t,e,i){var n=Math.sin(i),s=Math.cos(i),c=e[4],u=e[5],p=e[6],f=e[7],g=e[8],v=e[9],b=e[10],M=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=c*s+g*n,t[5]=u*s+v*n,t[6]=p*s+b*n,t[7]=f*s+M*n,t[8]=g*s-c*n,t[9]=v*s-u*n,t[10]=b*s-p*n,t[11]=M*s-f*n,t}function x1(t,e,i){var n=Math.sin(i),s=Math.cos(i),c=e[0],u=e[1],p=e[2],f=e[3],g=e[8],v=e[9],b=e[10],M=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*s-g*n,t[1]=u*s-v*n,t[2]=p*s-b*n,t[3]=f*s-M*n,t[8]=c*n+g*s,t[9]=u*n+v*s,t[10]=p*n+b*s,t[11]=f*n+M*s,t}function Pd(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function kd(t,e,i){var n,s,c,u=i[0],p=i[1],f=i[2],g=Math.hypot(u,p,f);return g<v1?null:(u*=g=1/g,p*=g,f*=g,n=Math.sin(e),s=Math.cos(e),t[0]=u*u*(c=1-s)+s,t[1]=p*u*c+f*n,t[2]=f*u*c-p*n,t[3]=0,t[4]=u*p*c-f*n,t[5]=p*p*c+s,t[6]=f*p*c+u*n,t[7]=0,t[8]=u*f*c+p*n,t[9]=p*f*c-u*n,t[10]=f*f*c+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Ig=Yo;function Yh(){var t=new Pa(3);return Pa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Dd(t){var e=new Pa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Gc(t){return Math.hypot(t[0],t[1],t[2])}function il(t,e,i){var n=new Pa(3);return n[0]=t,n[1]=e,n[2]=i,n}function mr(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function Jh(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function Od(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function Zc(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function $c(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function ja(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function qc(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function ma(t,e){var i=e[0],n=e[1],s=e[2],c=i*i+n*n+s*s;return c>0&&(c=1/Math.sqrt(c)),t[0]=e[0]*c,t[1]=e[1]*c,t[2]=e[2]*c,t}function Ja(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Qh(t,e,i){var n=e[0],s=e[1],c=e[2],u=i[0],p=i[1],f=i[2];return t[0]=s*f-c*p,t[1]=c*u-n*f,t[2]=n*p-s*u,t}function wi(t,e,i){var n=e[0],s=e[1],c=e[2],u=i[3]*n+i[7]*s+i[11]*c+i[15];return t[0]=(i[0]*n+i[4]*s+i[8]*c+i[12])/(u=u||1),t[1]=(i[1]*n+i[5]*s+i[9]*c+i[13])/u,t[2]=(i[2]*n+i[6]*s+i[10]*c+i[14])/u,t}function Rd(t,e,i){var n=i[0],s=i[1],c=i[2],u=e[0],p=e[1],f=e[2],g=s*f-c*p,v=c*u-n*f,b=n*p-s*u,M=s*b-c*v,T=c*g-n*b,C=n*v-s*g,L=2*i[3];return v*=L,b*=L,T*=2,C*=2,t[0]=u+(g*=L)+(M*=2),t[1]=p+v+T,t[2]=f+b+C,t}var Wc,Mn=Jh,Pg=Od,kg=Gc;function Bd(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function Fd(t,e){var i=e[0],n=e[1],s=e[2],c=e[3],u=i*i+n*n+s*s+c*c;return u>0&&(u=1/Math.sqrt(u)),t[0]=i*u,t[1]=n*u,t[2]=s*u,t[3]=c*u,t}function Qo(t,e,i){var n=e[0],s=e[1],c=e[2],u=e[3];return t[0]=i[0]*n+i[4]*s+i[8]*c+i[12]*u,t[1]=i[1]*n+i[5]*s+i[9]*c+i[13]*u,t[2]=i[2]*n+i[6]*s+i[10]*c+i[14]*u,t[3]=i[3]*n+i[7]*s+i[11]*c+i[15]*u,t}function Vd(){var t=new Pa(4);return Pa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Nd(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ud(t,e,i){i*=.5;var n=e[0],s=e[1],c=e[2],u=e[3],p=Math.sin(i),f=Math.cos(i);return t[0]=n*f+u*p,t[1]=s*f+c*p,t[2]=c*f-s*p,t[3]=u*f-n*p,t}function jd(t,e,i){i*=.5;var n=e[0],s=e[1],c=e[2],u=e[3],p=Math.sin(i),f=Math.cos(i);return t[0]=n*f-c*p,t[1]=s*f+u*p,t[2]=c*f+n*p,t[3]=u*f-s*p,t}Yh(),Wc=new Pa(4),Pa!=Float32Array&&(Wc[0]=0,Wc[1]=0,Wc[2]=0,Wc[3]=0);var Dg=Fd;Yh(),il(1,0,0),il(0,1,0),Vd(),Vd(),Ld();let Og=oe([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Hd}=Og,Gd=oe([{name:"a_pos_3",components:3,type:"Int16"}]);var Xc=oe([{name:"a_pos",type:"Int16",components:2}]);class eu{constructor(e,i){this.pos=e,this.dir=i}intersectsPlane(e,i,n){let s=Ja(i,this.dir);if(Math.abs(s)<1e-6)return!1;let c=((e[0]-this.pos[0])*i[0]+(e[1]-this.pos[1])*i[1]+(e[2]-this.pos[2])*i[2])/s;return n[0]=this.pos[0]+this.dir[0]*c,n[1]=this.pos[1]+this.dir[1]*c,n[2]=this.pos[2]+this.dir[2]*c,!0}closestPointOnSphere(e,i,n){if(function(T,C){var L=T[0],D=T[1],U=T[2],W=C[0],j=C[1],$=C[2];return Math.abs(L-W)<=v1*Math.max(1,Math.abs(L),Math.abs(W))&&Math.abs(D-j)<=v1*Math.max(1,Math.abs(D),Math.abs(j))&&Math.abs(U-$)<=v1*Math.max(1,Math.abs(U),Math.abs($))}(this.pos,e)||i===0)return n[0]=n[1]=n[2]=0,!1;let[s,c,u]=this.dir,p=this.pos[0]-e[0],f=this.pos[1]-e[1],g=this.pos[2]-e[2],v=s*s+c*c+u*u,b=2*(p*s+f*c+g*u),M=b*b-4*v*(p*p+f*f+g*g-i*i);if(M<0){let T=Math.max(-b/2,0),C=p+s*T,L=f+c*T,D=g+u*T,U=Math.hypot(C,L,D);return n[0]=C*i/U,n[1]=L*i/U,n[2]=D*i/U,!1}{let T=(-b-Math.sqrt(M))/(2*v);if(T<0){let C=Math.hypot(p,f,g);return n[0]=p*i/C,n[1]=f*i/C,n[2]=g*i/C,!1}return n[0]=p+s*T,n[1]=f+c*T,n[2]=g+u*T,!0}}}class tu{constructor(e,i,n,s,c){this.TL=e,this.TR=i,this.BR=n,this.BL=s,this.horizon=c}static fromInvProjectionMatrix(e,i,n){let s=[-1,1,1],c=[1,1,1],u=[1,-1,1],p=[-1,-1,1],f=wi(s,s,e),g=wi(c,c,e),v=wi(u,u,e),b=wi(p,p,e);return new tu(f,g,v,b,i/n)}}class iu{constructor(e,i){this.points=e,this.planes=i}static fromInvProjectionMatrix(e,i,n,s){let c=Math.pow(2,n),u=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(f=>{let g=Qo([],f,e),v=1/g[3]/i*c;return function(b,M,T){return b[0]=M[0]*T[0],b[1]=M[1]*T[1],b[2]=M[2]*T[2],b[3]=M[3]*T[3],b}(g,g,[v,v,s?1/g[3]:v,v])}),p=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(f=>{let g=ma([],Qh([],Mn([],u[f[0]],u[f[1]]),Mn([],u[f[2]],u[f[1]]))),v=-Ja(g,u[f[1]]);return g.concat(v)});return new iu(u,p)}}class fa{static fromPoints(e){let i=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(let s of e)Zc(i,i,s),$c(n,n,s);return new fa(i,n)}static applyTransform(e,i){let n=e.getCorners();for(let s=0;s<n.length;++s)wi(n[s],n[s],i);return fa.fromPoints(n)}constructor(e,i){this.min=e,this.max=i,this.center=ja([],mr([],this.min,this.max),.5)}quadrant(e){let i=[e%2==0,e<2],n=Dd(this.min),s=Dd(this.max);for(let c=0;c<i.length;c++)n[c]=i[c]?this.min[c]:this.center[c],s[c]=i[c]?this.center[c]:this.max[c];return s[2]=this.max[2],new fa(n,s)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){let e=this.min,i=this.max;return[[e[0],e[1],e[2]],[i[0],e[1],e[2]],[i[0],i[1],e[2]],[e[0],i[1],e[2]],[e[0],e[1],i[2]],[i[0],e[1],i[2]],[i[0],i[1],i[2]],[e[0],i[1],i[2]]]}intersects(e){let i=this.getCorners(),n=!0;for(let s=0;s<e.planes.length;s++){let c=e.planes[s],u=0;for(let p=0;p<i.length;p++)u+=Ja(c,i[p])+c[3]>=0;if(u===0)return 0;u!==i.length&&(n=!1)}if(n)return 2;for(let s=0;s<3;s++){let c=Number.MAX_VALUE,u=-Number.MAX_VALUE;for(let p=0;p<e.points.length;p++){let f=e.points[p][s]-this.min[s];c=Math.min(c,f),u=Math.max(u,f)}if(u<0||c>this.max[s]-this.min[s])return 0}return 1}}let au=5,Zd=6,Nn=ot/Math.PI/2,Rg=16383,es=64,Kc=[es,32,16],Qa=-Nn,en=Nn,Bg=[new fa([Qa,Qa,Qa],[en,en,en]),new fa([Qa,Qa,Qa],[0,0,en]),new fa([0,Qa,Qa],[en,0,en]),new fa([Qa,0,Qa],[0,en,en]),new fa([0,0,Qa],[en,en,en])];function b1(t){return t*Nn/Qc}function $d(t,e,i,n=!0){let s=ja([],t._camera.position,t.worldSize),c=[e,i,1,1];Qo(c,c,t.pixelMatrixInverse),Bd(c,c,1/c[3]);let u=ma([],Mn([],c,s)),p=t.globeMatrix,f=[p[12],p[13],p[14]],g=Mn([],f,s),v=Gc(g),b=ma([],g),M=t.worldSize/(2*Math.PI),T=Ja(b,u),C=Math.asin(M/v);if(C<Math.acos(T)){if(!n)return null;let ke=[],ge=[];ja(ke,u,v/T),ma(ge,Mn(ge,ke,g)),ma(u,mr(u,g,ja(u,ge,Math.tan(C)*v)))}let L=[];new eu(s,u).closestPointOnSphere(f,M,L);let D=ma([],Dn(p,0)),U=ma([],Dn(p,1)),W=ma([],Dn(p,2)),j=Ja(D,L),$=Ja(U,L),K=Ja(W,L),X=xi(Math.asin(-$/M)),me=xi(Math.atan2(j,K));me=t.center.lng+function(ke,ge){let ze=(ge-ke+180)%360-180;return ze<-180?ze+360:ze}(t.center.lng,me);let ue=jn(me),xe=Pt(Hn(X),0,1);return new ol(ue,xe)}class Fg{constructor(e,i,n){this.a=Mn([],e,n),this.b=Mn([],i,n),this.center=n;let s=ma([],this.a),c=ma([],this.b);this.angle=Math.acos(Ja(s,c))}}function nu(t,e){if(t.angle===0)return null;let i;return i=t.a[e]===0?1/t.angle*.5*Math.PI:1/t.angle*Math.atan(t.b[e]/t.a[e]/Math.sin(t.angle)-1/Math.tan(t.angle)),i<0||i>1?null:function(n,s,c,u){let p=Math.sin(c);return n*(Math.sin((1-u)*c)/p)+s*(Math.sin(u*c)/p)}(t.a[e],t.b[e],t.angle,Pt(i,0,1))+t.center[e]}function Un(t){if(t.z<=1)return Bg[t.z+2*t.y+t.x];let e=ru(w1(t));return fa.fromPoints(e)}function ts(t,e,i){return ja(t,t,1-i),qc(t,t,e,i)}function qd(t,e){let i=rl(e.zoom);if(i===0)return Un(t);let n=w1(t),s=ru(n),c=jn(n.getWest())*e.worldSize,u=jn(n.getEast())*e.worldSize,p=Hn(n.getNorth())*e.worldSize,f=Hn(n.getSouth())*e.worldSize,g=[c,p,0],v=[u,p,0],b=[c,f,0],M=[u,f,0],T=Xh([],e.globeMatrix);return wi(g,g,T),wi(v,v,T),wi(b,b,T),wi(M,M,T),s[0]=ts(s[0],b,i),s[1]=ts(s[1],M,i),s[2]=ts(s[2],v,i),s[3]=ts(s[3],g,i),fa.fromPoints(s)}function Wd(t,e,i){for(let n of t)wi(n,n,e),ja(n,n,i)}function Vg(t,e,i){let n=e/t.worldSize,s=t.globeMatrix;if(i.z<=1){let ue=Un(i).getCorners();return Wd(ue,s,n),fa.fromPoints(ue)}let c=w1(i),u=ru(c);Wd(u,s,n);let p=Number.MAX_VALUE,f=[-p,-p,-p],g=[p,p,p];if(c.contains(t.center)){for(let ke of u)Zc(g,g,ke),$c(f,f,ke);f[2]=0;let ue=t.point,xe=[ue.x*n,ue.y*n,0];return Zc(g,g,xe),$c(f,f,xe),new fa(g,f)}let v=[s[12]*n,s[13]*n,s[14]*n],b=c.getCenter(),M=Pt(t.center.lat,-sa,sa),T=Pt(b.lat,-sa,sa),C=jn(t.center.lng),L=Hn(M),D=C-jn(b.lng),U=L-Hn(T);D>.5?D-=1:D<-.5&&(D+=1);let W=0;Math.abs(D)>Math.abs(U)?W=D>=0?1:3:(W=U>=0?0:2,qc(v,v,[s[4]*n,s[5]*n,s[6]*n],-Math.sin(Mt(U>=0?c.getSouth():c.getNorth()))*Nn));let j=u[W],$=u[(W+1)%4],K=new Fg(j,$,v),X=[nu(K,0)||j[0],nu(K,1)||j[1],nu(K,2)||j[2]],me=rl(t.zoom);if(me>0){let ue=function({x:ke,y:ge,z:ze},Ae,Ee,Fe,ye){let je=1/(1<<ze),Ye=ke*je,Ge=Ye+je,mt=ge*je,Ve=mt+je,rt=0,ft=(Ye+Ge)/2-Fe;return ft>.5?rt=-1:ft<-.5&&(rt=1),Ye=((Ye+rt)*Ae-(Fe*=Ae))*Ee+Fe,Ge=((Ge+rt)*Ae-Fe)*Ee+Fe,mt=(mt*Ae-(ye*=Ae))*Ee+ye,Ve=(Ve*Ae-ye)*Ee+ye,[[Ye,Ve,0],[Ge,Ve,0],[Ge,mt,0],[Ye,mt,0]]}(i,e,t._pixelsPerMercatorPixel,C,L);for(let ke=0;ke<u.length;ke++)ts(u[ke],ue[ke],me);let xe=mr([],ue[W],ue[(W+1)%4]);ja(xe,xe,.5),ts(X,xe,me)}for(let ue of u)Zc(g,g,ue),$c(f,f,ue);return g[2]=Math.min(j[2],$[2]),Zc(g,g,X),$c(f,f,X),new fa(g,f)}function w1({x:t,y:e,z:i}){let n=1/(1<<i),s=new Jt(Ha(t*n),oa((e+1)*n)),c=new Jt(Ha((t+1)*n),oa(e*n));return new Xr(s,c)}function ru(t){let e=Mt(t.getNorth()),i=Mt(t.getSouth()),n=Math.cos(e),s=Math.cos(i),c=Math.sin(e),u=Math.sin(i),p=t.getWest(),f=t.getEast();return[al(s,u,p),al(s,u,f),al(n,c,f),al(n,c,p)]}function al(t,e,i,n=Nn){return i=Mt(i),[t*Math.sin(i)*n,-e*n,t*Math.cos(i)*n]}function nl(t,e,i){return al(Math.cos(Mt(t)),Math.sin(Mt(t)),e,i)}function Yc(t,e,i,n){let s=1<<i.z,c=(t/ot+i.x)/s;return nl(oa((e/ot+i.y)/s),Ha(c),n)}function M1({min:t,max:e}){return Rg/Math.max(e[0]-t[0],e[1]-t[1],e[2]-t[2])}let Xd=new Float64Array(16);function Jc(t){let e=M1(t),i=Pd(Xd,[e,e,e]);return Hc(i,i,((n=[])[0]=-(s=t.min)[0],n[1]=-s[1],n[2]=-s[2],n));var n,s}function ou(t){let e=(n=t.min,(i=Xd)[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i);var i,n;let s=1/M1(t);return Jo(e,e,[s,s,s])}function Kd(t,e,i,n,s){let c=function(f){let g=ot/(2*Math.PI);return f/(2*Math.PI)/g}(i),u=[t,e,-i/(2*Math.PI)],p=wn(new Float64Array(16));return Hc(p,p,u),Jo(p,p,[c,c,c]),Kh(p,p,Mt(-s)),x1(p,p,Mt(-n)),p}function rl(t){return xr(au,Zd,t)}function Yd(t,e){let i=nl(e.lat,e.lng),n=function(C){let L=nl(C._center.lat,C._center.lng),D=Qh([],il(0,1,0),L),U=kd([],-C.angle,L);D=wi(D,D,U),kd(U,-C._pitch,D);let W=ma([],L);return ja(W,W,b1(C.cameraToCenterDistance/C.pixelsPerMeter)),wi(W,W,U),mr([],L,W)}(t);return u=(s=Jh([],n,i))[0],p=s[1],f=s[2],g=(c=i)[0],v=c[1],b=c[2],T=(M=Math.sqrt(u*u+p*p+f*f)*Math.sqrt(g*g+v*v+b*b))&&Ja(s,c)/M,Math.acos(Math.min(Math.max(T,-1),1));var s,c,u,p,f,g,v,b,M,T}function su(t,e){return Yd(t,e)>Math.PI/2*1.01}let Jd=Mt(85),Ng=Math.cos(Jd),Ug=Math.sin(Jd),Qc=63710088e-1,Qd=2*Math.PI*Qc;class Kr{constructor(e,i){if(isNaN(e)||isNaN(i))throw new Error(`Invalid LngLat object: (${e}, ${i})`);if(this.lng=+e,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Kr(Oi(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){let i=Math.PI/180,n=this.lat*i,s=e.lat*i,c=Math.sin(n)*Math.sin(s)+Math.cos(n)*Math.cos(s)*Math.cos((e.lng-this.lng)*i);return Qc*Math.acos(Math.min(c,1))}toBounds(e=0){let i=360*e/40075017,n=i/Math.cos(Math.PI/180*this.lat);return new Xr(new Kr(this.lng-n,this.lat-i),new Kr(this.lng+n,this.lat+i))}toEcef(e){let i=b1(e);return nl(this.lat,this.lng,Nn+i)}static convert(e){if(e instanceof Kr)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new Kr(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new Kr(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Jt=Kr;function lu(t){return Qd*Math.cos(t*Math.PI/180)}function jn(t){return(180+t)/360}function Hn(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function zn(t,e){return t/lu(e)}function Ha(t){return 360*t-180}function oa(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function ep(t,e){return t*lu(oa(e))}let sa=85.051129;function tp(t){return 1/Math.cos(t*Math.PI/180)}class ol{constructor(e,i,n=0){this.x=+e,this.y=+i,this.z=+n}static fromLngLat(e,i=0){let n=Jt.convert(e);return new ol(jn(n.lng),Hn(n.lat),zn(i,n.lat))}toLngLat(){return new Jt(Ha(this.x),oa(this.y))}toAltitude(){return ep(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Qd*tp(oa(this.y))}}function cu(t,e,i,n,s,c,u,p,f){let g=(e+n)/2,v=(i+s)/2,b=new Se(g,v);p(b),function(M,T,C,L,D,U){let W=C-D,j=L-U;return Math.abs((L-T)*W-(C-M)*j)/Math.hypot(W,j)}(b.x,b.y,c.x,c.y,u.x,u.y)>=f?(cu(t,e,i,g,v,c,b,p,f),cu(t,g,v,n,s,b,u,p,f)):t.push(u)}function ip(t,e,i){let n=t[0],s=n.x,c=n.y;e(n);let u=[n];for(let p=1;p<t.length;p++){let f=t[p],{x:g,y:v}=f;e(f),cu(u,s,c,g,v,n,f,e,i),s=g,c=v,n=f}return u}function hu(t,e,i,n){if(n(e,i)){let s=e.add(i)._mult(.5);hu(t,e,s,n),hu(t,s,i,n)}else t.push(i)}function jg(t,e){let i=t[0],n=[i];for(let s=1;s<t.length;s++){let c=t[s];hu(n,i,c,e),i=c}return n}let uu=Math.pow(2,14)-1,ap=-uu-1;function Hg(t,e){let i=Math.round(t.x*e),n=Math.round(t.y*e);return t.x=Pt(i,ap,uu),t.y=Pt(n,ap,uu),(i<t.x||i>t.x+1||n<t.y||n>t.y+1)&&mi("Geometry exceeds allowed extent, reduce your vector tile buffer size"),t}function fr(t,e,i){let n=t.loadGeometry(),s=t.extent,c=ot/s;if(e&&i&&i.projection.isReprojectedInTileSpace){let u=1<<e.z,{scale:p,x:f,y:g,projection:v}=i,b=M=>{let T=Ha((e.x+M.x/s)/u),C=oa((e.y+M.y/s)/u),L=v.project(T,C);M.x=(L.x*p-f)*s,M.y=(L.y*p-g)*s};for(let M=0;M<n.length;M++)if(t.type!==1)n[M]=ip(n[M],b,1);else{let T=[];for(let C of n[M])C.x<0||C.x>=s||C.y<0||C.y>=s||(b(C),T.push(C));n[M]=T}}for(let u of n)for(let p of u)Hg(p,c);return n}function is(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?fr(t):[]}}function z1(t,e,i,n,s){t.emplaceBack(2*e+(n+1)/2,2*i+(s+1)/2)}function A1(t,e,i){t.emplaceBack(e.x,e.y,e.z,i[0]*16384,i[1]*16384,i[2]*16384)}class du{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Pe,this.indexArray=new tt,this.segments=new Ci,this.programConfigurations=new Ko(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,n,s){let c=this.layers[0],u=[],p=null;c.type==="circle"&&(p=c.layout.get("circle-sort-key"));for(let{feature:g,id:v,index:b,sourceLayerIndex:M}of e){let T=this.layers[0]._featureFilter.needGeometry,C=is(g,T);if(!this.layers[0]._featureFilter.filter(new x(this.zoom),C,n))continue;let L=p?p.evaluate(C,{},n):void 0,D={id:v,properties:g.properties,type:g.type,sourceLayerIndex:M,index:b,geometry:T?C.geometry:fr(g,n,s),patterns:{},sortKey:L};u.push(D)}p&&u.sort((g,v)=>g.sortKey-v.sortKey);let f=null;s.projection.name==="globe"&&(this.globeExtVertexArray=new De,f=s.projection);for(let g of u){let{geometry:v,index:b,sourceLayerIndex:M}=g,T=e[b].feature;this.addFeature(g,v,b,i.availableImages,n,f),i.featureIndex.insert(T,v,b,M,this.index)}}update(e,i,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,n,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Sg.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Lg.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,i,n,s,c,u){for(let p of i)for(let f of p){let g=f.x,v=f.y;if(g<0||g>=ot||v<0||v>=ot)continue;if(u){let T=u.projectTilePoint(g,v,c),C=u.upVector(c,g,v),L=this.globeExtVertexArray;A1(L,T,C),A1(L,T,C),A1(L,T,C),A1(L,T,C)}let b=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),M=b.vertexLength;z1(this.layoutVertexArray,g,v,-1,-1),z1(this.layoutVertexArray,g,v,1,-1),z1(this.layoutVertexArray,g,v,1,1),z1(this.layoutVertexArray,g,v,-1,1),this.indexArray.emplaceBack(M,M+1,M+2),this.indexArray.emplaceBack(M,M+2,M+3),b.vertexLength+=4,b.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},s,c)}}function np(t,e){for(let i=0;i<t.length;i++)if(as(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(as(t,e[i]))return!0;return!!pu(t,e)}function Gg(t,e,i){return!!as(t,e)||!!mu(e,t,i)}function rp(t,e){if(t.length===1)return sp(e,t[0]);for(let i=0;i<e.length;i++){let n=e[i];for(let s=0;s<n.length;s++)if(as(t,n[s]))return!0}for(let i=0;i<t.length;i++)if(sp(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(pu(t,e[i]))return!0;return!1}function Zg(t,e,i){if(t.length>1){if(pu(t,e))return!0;for(let n=0;n<e.length;n++)if(mu(e[n],t,i))return!0}for(let n=0;n<t.length;n++)if(mu(t[n],e,i))return!0;return!1}function pu(t,e){if(t.length===0||e.length===0)return!1;for(let i=0;i<t.length-1;i++){let n=t[i],s=t[i+1];for(let c=0;c<e.length-1;c++)if($g(n,s,e[c],e[c+1]))return!0}return!1}function $g(t,e,i,n){return Aa(t,i,n)!==Aa(e,i,n)&&Aa(t,e,i)!==Aa(t,e,n)}function mu(t,e,i){let n=i*i;if(e.length===1)return t.distSqr(e[0])<n;for(let s=1;s<e.length;s++)if(op(t,e[s-1],e[s])<n)return!0;return!1}function op(t,e,i){let n=e.distSqr(i);if(n===0)return t.distSqr(e);let s=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return t.distSqr(s<0?e:s>1?i:i.sub(e)._mult(s)._add(e))}function sp(t,e){let i,n,s,c=!1;for(let u=0;u<t.length;u++){i=t[u];for(let p=0,f=i.length-1;p<i.length;f=p++)n=i[p],s=i[f],n.y>e.y!=s.y>e.y&&e.x<(s.x-n.x)*(e.y-n.y)/(s.y-n.y)+n.x&&(c=!c)}return c}function as(t,e){let i=!1;for(let n=0,s=t.length-1;n<t.length;s=n++){let c=t[n],u=t[s];c.y>e.y!=u.y>e.y&&e.x<(u.x-c.x)*(e.y-c.y)/(u.y-c.y)+c.x&&(i=!i)}return i}function lp(t,e,i,n,s){for(let u of t)if(e<=u.x&&i<=u.y&&n>=u.x&&s>=u.y)return!0;let c=[new Se(e,i),new Se(e,s),new Se(n,s),new Se(n,i)];if(t.length>2){for(let u of c)if(as(t,u))return!0}for(let u=0;u<t.length-1;u++)if(qg(t[u],t[u+1],c))return!0;return!1}function qg(t,e,i){let n=i[0],s=i[2];if(t.x<n.x&&e.x<n.x||t.x>s.x&&e.x>s.x||t.y<n.y&&e.y<n.y||t.y>s.y&&e.y>s.y)return!1;let c=Aa(t,e,i[0]);return c!==Aa(t,e,i[1])||c!==Aa(t,e,i[2])||c!==Aa(t,e,i[3])}function sl(t,e,i){let n=e.paint.get(t).value;return n.kind==="constant"?n.value:i.programConfigurations.get(e.id).getMaxValue(t)}function T1(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function cp(t,e,i,n,s){if(!e[0]&&!e[1])return t;let c=Se.convert(e)._mult(s);i==="viewport"&&c._rotate(-n);let u=[];for(let p=0;p<t.length;p++)u.push(t[p].sub(c));return u}function hp(t,e,i,n){let s=Se.convert(t)._mult(n);return e==="viewport"&&s._rotate(-i),s}Xe(du,"CircleBucket",{omit:["layers"]});let Wg=new G({"circle-sort-key":new O(ve.layout_circle["circle-sort-key"])});var Xg={paint:new G({"circle-radius":new O(ve.paint_circle["circle-radius"]),"circle-color":new O(ve.paint_circle["circle-color"]),"circle-blur":new O(ve.paint_circle["circle-blur"]),"circle-opacity":new O(ve.paint_circle["circle-opacity"]),"circle-translate":new S(ve.paint_circle["circle-translate"]),"circle-translate-anchor":new S(ve.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new S(ve.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new S(ve.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new O(ve.paint_circle["circle-stroke-width"]),"circle-stroke-color":new O(ve.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new O(ve.paint_circle["circle-stroke-opacity"])}),layout:Wg};function up(t,e,i,n,s,c,u,p,f){if(c&&t.queryGeometry.isAboveHorizon)return!1;c&&(f*=t.pixelToTileUnitsFactor);let g=t.tileID.canonical,v=i.projection.upVectorScale(g,i.center.lat,i.worldSize).metersToTile;for(let b of e)for(let M of b){let T=M.add(p),C=s&&i.elevation?i.elevation.exaggeration()*s.getElevationAt(T.x,T.y,!0):0,L=i.projection.projectTilePoint(T.x,T.y,g);if(C>0){let j=i.projection.upVector(g,T.x,T.y);L.x+=j[0]*v*C,L.y+=j[1]*v*C,L.z+=j[2]*v*C}let D=c?T:Kg(L.x,L.y,L.z,n),U=c?t.tilespaceRays.map(j=>Jg(j,C)):t.queryGeometry.screenGeometry,W=Qo([],[L.x,L.y,L.z,1],n);if(!u&&c?f*=W[3]/i.cameraToCenterDistance:u&&!c&&(f*=i.cameraToCenterDistance/W[3]),c){let j=oa((M.y/ot+g.y)/(1<<g.z));f/=i.projection.pixelsPerMeter(j,1)/zn(1,j)}if(Gg(U,D,f))return!0}return!1}function Kg(t,e,i,n){let s=Qo([],[t,e,i,1],n);return new Se(s[0]/s[3],s[1]/s[3])}let dp=il(0,0,0),Yg=il(0,0,1);function Jg(t,e){let i=Yh();return dp[2]=e,t.intersectsPlane(dp,Yg,i),new Se(i[0],i[1])}class pp extends du{}function mp(t,{width:e,height:i},n,s){if(s){if(s instanceof Uint8ClampedArray)s=new Uint8Array(s.buffer);else if(s.length!==e*i*n)throw new RangeError("mismatched image size")}else s=new Uint8Array(e*i*n);return t.width=e,t.height=i,t.data=s,t}function fp(t,e,i){let{width:n,height:s}=e;n===t.width&&s===t.height||(fu(t,e,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,s)},i),t.width=n,t.height=s,t.data=e.data)}function fu(t,e,i,n,s,c){if(s.width===0||s.height===0)return e;if(s.width>t.width||s.height>t.height||i.x>t.width-s.width||i.y>t.height-s.height)throw new RangeError("out of range source coordinates for image copy");if(s.width>e.width||s.height>e.height||n.x>e.width-s.width||n.y>e.height-s.height)throw new RangeError("out of range destination coordinates for image copy");let u=t.data,p=e.data;for(let f=0;f<s.height;f++){let g=((i.y+f)*t.width+i.x)*c,v=((n.y+f)*e.width+n.x)*c;for(let b=0;b<s.width*c;b++)p[v+b]=u[g+b]}return e}Xe(pp,"HeatmapBucket",{omit:["layers"]});class gr{constructor(e,i){mp(this,e,1,i)}resize(e){fp(this,new gr(e),1)}clone(){return new gr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,n,s,c){fu(e,i,n,s,c,1)}}class ka{constructor(e,i){mp(this,e,4,i)}resize(e){fp(this,new ka(e),4)}replace(e,i){i?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new ka({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,n,s,c){fu(e,i,n,s,c,4)}}Xe(gr,"AlphaImage"),Xe(ka,"RGBAImage");var Qg={paint:new G({"heatmap-radius":new O(ve.paint_heatmap["heatmap-radius"]),"heatmap-weight":new O(ve.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new S(ve.paint_heatmap["heatmap-intensity"]),"heatmap-color":new H(ve.paint_heatmap["heatmap-color"]),"heatmap-opacity":new S(ve.paint_heatmap["heatmap-opacity"])})};function gu(t){let e={},i=t.resolution||256,n=t.clips?t.clips.length:1,s=t.image||new ka({width:i,height:n}),c=(u,p,f)=>{e[t.evaluationKey]=f;let g=t.expression.evaluate(e);s.data[u+p+0]=Math.floor(255*g.r/g.a),s.data[u+p+1]=Math.floor(255*g.g/g.a),s.data[u+p+2]=Math.floor(255*g.b/g.a),s.data[u+p+3]=Math.floor(255*g.a)};if(t.clips)for(let u=0,p=0;u<n;++u,p+=4*i)for(let f=0,g=0;f<i;f++,g+=4){let v=f/(i-1),{start:b,end:M}=t.clips[u];c(p,g,b*(1-v)+M*v)}else for(let u=0,p=0;u<i;u++,p+=4)c(0,p,u/(i-1));return s}var e2={paint:new G({"hillshade-illumination-direction":new S(ve.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new S(ve.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new S(ve.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new S(ve.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new S(ve.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new S(ve.paint_hillshade["hillshade-accent-color"])})};let t2=oe([{name:"a_pos",components:2,type:"Int16"}],4),{members:i2}=t2;var _u={exports:{}};function C1(t,e,i){i=i||2;var n,s,c,u,p,f,g,v=e&&e.length,b=v?e[0]*i:t.length,M=gp(t,0,b,i,!0),T=[];if(!M||M.next===M.prev)return T;if(v&&(M=function(L,D,U,W){var j,$,K,X=[];for(j=0,$=D.length;j<$;j++)(K=gp(L,D[j]*W,j<$-1?D[j+1]*W:L.length,W,!1))===K.next&&(K.steiner=!0),X.push(h2(K));for(X.sort(s2),j=0;j<X.length;j++)U=l2(X[j],U);return U}(t,e,M,i)),t.length>80*i){n=c=t[0],s=u=t[1];for(var C=i;C<b;C+=i)(p=t[C])<n&&(n=p),(f=t[C+1])<s&&(s=f),p>c&&(c=p),f>u&&(u=f);g=(g=Math.max(c-n,u-s))!==0?32767/g:0}return e0(M,T,i,n,s,g,0),T}function gp(t,e,i,n,s){var c,u;if(s===xu(t,e,i,n)>0)for(c=e;c<i;c+=n)u=vp(c,t[c],t[c+1],u);else for(c=i-n;c>=e;c-=n)u=vp(c,t[c],t[c+1],u);return u&&E1(u,u.next)&&(i0(u),u=u.next),u}function ns(t,e){if(!t)return t;e||(e=t);var i,n=t;do if(i=!1,n.steiner||!E1(n,n.next)&&Ei(n.prev,n,n.next)!==0)n=n.next;else{if(i0(n),(n=e=n.prev)===n.next)break;i=!0}while(i||n!==e);return e}function e0(t,e,i,n,s,c,u){if(t){!u&&c&&function(v,b,M,T){var C=v;do C.z===0&&(C.z=yu(C.x,C.y,b,M,T)),C.prevZ=C.prev,C.nextZ=C.next,C=C.next;while(C!==v);C.prevZ.nextZ=null,C.prevZ=null,function(L){var D,U,W,j,$,K,X,me,ue=1;do{for(U=L,L=null,$=null,K=0;U;){for(K++,W=U,X=0,D=0;D<ue&&(X++,W=W.nextZ);D++);for(me=ue;X>0||me>0&&W;)X!==0&&(me===0||!W||U.z<=W.z)?(j=U,U=U.nextZ,X--):(j=W,W=W.nextZ,me--),$?$.nextZ=j:L=j,j.prevZ=$,$=j;U=W}$.nextZ=null,ue*=2}while(K>1)}(C)}(t,n,s,c);for(var p,f,g=t;t.prev!==t.next;)if(p=t.prev,f=t.next,c?n2(t,n,s,c):a2(t))e.push(p.i/i|0),e.push(t.i/i|0),e.push(f.i/i|0),i0(t),t=f.next,g=f.next;else if((t=f)===g){u?u===1?e0(t=r2(ns(t),e,i),e,i,n,s,c,2):u===2&&o2(t,e,i,n,s,c):e0(ns(t),e,i,n,s,c,1);break}}}function a2(t){var e=t.prev,i=t,n=t.next;if(Ei(e,i,n)>=0)return!1;for(var s=e.x,c=i.x,u=n.x,p=e.y,f=i.y,g=n.y,v=s<c?s<u?s:u:c<u?c:u,b=p<f?p<g?p:g:f<g?f:g,M=s>c?s>u?s:u:c>u?c:u,T=p>f?p>g?p:g:f>g?f:g,C=n.next;C!==e;){if(C.x>=v&&C.x<=M&&C.y>=b&&C.y<=T&&ll(s,p,c,f,u,g,C.x,C.y)&&Ei(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function n2(t,e,i,n){var s=t.prev,c=t,u=t.next;if(Ei(s,c,u)>=0)return!1;for(var p=s.x,f=c.x,g=u.x,v=s.y,b=c.y,M=u.y,T=p<f?p<g?p:g:f<g?f:g,C=v<b?v<M?v:M:b<M?b:M,L=p>f?p>g?p:g:f>g?f:g,D=v>b?v>M?v:M:b>M?b:M,U=yu(T,C,e,i,n),W=yu(L,D,e,i,n),j=t.prevZ,$=t.nextZ;j&&j.z>=U&&$&&$.z<=W;){if(j.x>=T&&j.x<=L&&j.y>=C&&j.y<=D&&j!==s&&j!==u&&ll(p,v,f,b,g,M,j.x,j.y)&&Ei(j.prev,j,j.next)>=0||(j=j.prevZ,$.x>=T&&$.x<=L&&$.y>=C&&$.y<=D&&$!==s&&$!==u&&ll(p,v,f,b,g,M,$.x,$.y)&&Ei($.prev,$,$.next)>=0))return!1;$=$.nextZ}for(;j&&j.z>=U;){if(j.x>=T&&j.x<=L&&j.y>=C&&j.y<=D&&j!==s&&j!==u&&ll(p,v,f,b,g,M,j.x,j.y)&&Ei(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;$&&$.z<=W;){if($.x>=T&&$.x<=L&&$.y>=C&&$.y<=D&&$!==s&&$!==u&&ll(p,v,f,b,g,M,$.x,$.y)&&Ei($.prev,$,$.next)>=0)return!1;$=$.nextZ}return!0}function r2(t,e,i){var n=t;do{var s=n.prev,c=n.next.next;!E1(s,c)&&_p(s,n,n.next,c)&&t0(s,c)&&t0(c,s)&&(e.push(s.i/i|0),e.push(n.i/i|0),e.push(c.i/i|0),i0(n),i0(n.next),n=t=c),n=n.next}while(n!==t);return ns(n)}function o2(t,e,i,n,s,c){var u=t;do{for(var p=u.next.next;p!==u.prev;){if(u.i!==p.i&&u2(u,p)){var f=yp(u,p);return u=ns(u,u.next),f=ns(f,f.next),e0(u,e,i,n,s,c,0),void e0(f,e,i,n,s,c,0)}p=p.next}u=u.next}while(u!==t)}function s2(t,e){return t.x-e.x}function l2(t,e){var i=function(s,c){var u,p=c,f=s.x,g=s.y,v=-1/0;do{if(g<=p.y&&g>=p.next.y&&p.next.y!==p.y){var b=p.x+(g-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(b<=f&&b>v&&(v=b,u=p.x<p.next.x?p:p.next,b===f))return u}p=p.next}while(p!==c);if(!u)return null;var M,T=u,C=u.x,L=u.y,D=1/0;p=u;do f>=p.x&&p.x>=C&&f!==p.x&&ll(g<L?f:v,g,C,L,g<L?v:f,g,p.x,p.y)&&(M=Math.abs(g-p.y)/(f-p.x),t0(p,s)&&(M<D||M===D&&(p.x>u.x||p.x===u.x&&c2(u,p)))&&(u=p,D=M)),p=p.next;while(p!==T);return u}(t,e);if(!i)return e;var n=yp(i,t);return ns(n,n.next),ns(i,i.next)}function c2(t,e){return Ei(t.prev,t,e.prev)<0&&Ei(e.next,t,t.next)<0}function yu(t,e,i,n,s){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*s|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*s|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function h2(t){var e=t,i=t;do(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next;while(e!==t);return i}function ll(t,e,i,n,s,c,u,p){return(s-u)*(e-p)>=(t-u)*(c-p)&&(t-u)*(n-p)>=(i-u)*(e-p)&&(i-u)*(c-p)>=(s-u)*(n-p)}function u2(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(i,n){var s=i;do{if(s.i!==i.i&&s.next.i!==i.i&&s.i!==n.i&&s.next.i!==n.i&&_p(s,s.next,i,n))return!0;s=s.next}while(s!==i);return!1}(t,e)&&(t0(t,e)&&t0(e,t)&&function(i,n){var s=i,c=!1,u=(i.x+n.x)/2,p=(i.y+n.y)/2;do s.y>p!=s.next.y>p&&s.next.y!==s.y&&u<(s.next.x-s.x)*(p-s.y)/(s.next.y-s.y)+s.x&&(c=!c),s=s.next;while(s!==i);return c}(t,e)&&(Ei(t.prev,t,e.prev)||Ei(t,e.prev,e))||E1(t,e)&&Ei(t.prev,t,t.next)>0&&Ei(e.prev,e,e.next)>0)}function Ei(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function E1(t,e){return t.x===e.x&&t.y===e.y}function _p(t,e,i,n){var s=L1(Ei(t,e,i)),c=L1(Ei(t,e,n)),u=L1(Ei(i,n,t)),p=L1(Ei(i,n,e));return s!==c&&u!==p||!(s!==0||!S1(t,i,e))||!(c!==0||!S1(t,n,e))||!(u!==0||!S1(i,t,n))||!(p!==0||!S1(i,e,n))}function S1(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function L1(t){return t>0?1:t<0?-1:0}function t0(t,e){return Ei(t.prev,t,t.next)<0?Ei(t,e,t.next)>=0&&Ei(t,t.prev,e)>=0:Ei(t,e,t.prev)<0||Ei(t,t.next,e)<0}function yp(t,e){var i=new vu(t.i,t.x,t.y),n=new vu(e.i,e.x,e.y),s=t.next,c=e.prev;return t.next=e,e.prev=t,i.next=s,s.prev=i,n.next=i,i.prev=n,c.next=n,n.prev=c,n}function vp(t,e,i,n){var s=new vu(t,e,i);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function i0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function vu(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xu(t,e,i,n){for(var s=0,c=e,u=i-n;c<i;c+=n)s+=(t[u]-t[c])*(t[c+1]+t[u+1]),u=c;return s}_u.exports=C1,_u.exports.default=C1,C1.deviation=function(t,e,i,n){var s=e&&e.length,c=Math.abs(xu(t,0,s?e[0]*i:t.length,i));if(s)for(var u=0,p=e.length;u<p;u++)c-=Math.abs(xu(t,e[u]*i,u<p-1?e[u+1]*i:t.length,i));var f=0;for(u=0;u<n.length;u+=3){var g=n[u]*i,v=n[u+1]*i,b=n[u+2]*i;f+=Math.abs((t[g]-t[b])*(t[v+1]-t[g+1])-(t[g]-t[v])*(t[b+1]-t[g+1]))}return c===0&&f===0?0:Math.abs((f-c)/c)},C1.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,s=0;s<t.length;s++){for(var c=0;c<t[s].length;c++)for(var u=0;u<e;u++)i.vertices.push(t[s][c][u]);s>0&&i.holes.push(n+=t[s-1].length)}return i};var bu=et(_u.exports);function d2(t,e,i,n,s){xp(t,e,i||0,n||t.length-1,s||p2)}function xp(t,e,i,n,s){for(;n>i;){if(n-i>600){var c=n-i+1,u=e-i+1,p=Math.log(c),f=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*f*(c-f)/c)*(u-c/2<0?-1:1);xp(t,e,Math.max(i,Math.floor(e-u*f/c+g)),Math.min(n,Math.floor(e+(c-u)*f/c+g)),s)}var v=t[e],b=i,M=n;for(a0(t,i,e),s(t[n],v)>0&&a0(t,i,n);b<M;){for(a0(t,b,M),b++,M--;s(t[b],v)<0;)b++;for(;s(t[M],v)>0;)M--}s(t[i],v)===0?a0(t,i,M):a0(t,++M,n),M<=e&&(i=M+1),e<=M&&(n=M-1)}}function a0(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function p2(t,e){return t<e?-1:t>e?1:0}function wu(t,e){let i=t.length;if(i<=1)return[t];let n=[],s,c;for(let u=0;u<i;u++){let p=bs(t[u]);p!==0&&(t[u].area=Math.abs(p),c===void 0&&(c=p<0),c===p<0?(s&&n.push(s),s=[t[u]]):s.push(t[u]))}if(s&&n.push(s),e>1)for(let u=0;u<n.length;u++)n[u].length<=e||(d2(n[u],e,1,n[u].length-1,m2),n[u]=n[u].slice(0,e));return n}function m2(t,e){return e.area-t.area}function Mu(t,e,i){let n=i.patternDependencies,s=!1;for(let c of e){let u=c.paint.get(`${t}-pattern`);u.isConstant()||(s=!0);let p=u.constantOr(null);p&&(s=!0,n[p]=!0)}return s}function zu(t,e,i,n,s){let c=s.patternDependencies;for(let u of e){let p=u.paint.get(`${t}-pattern`).value;if(p.kind!=="constant"){let f=p.evaluate({zoom:n},i,{},s.availableImages);f=f&&f.name?f.name:f,c[f]=!0,i.patterns[u.id]=f}}return i}class I1{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pe,this.indexArray=new tt,this.indexArray2=new ji,this.programConfigurations=new Ko(e.layers,e.zoom),this.segments=new Ci,this.segments2=new Ci,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.projection=e.projection}populate(e,i,n,s){this.hasPattern=Mu("fill",this.layers,i);let c=this.layers[0].layout.get("fill-sort-key"),u=[];for(let{feature:p,id:f,index:g,sourceLayerIndex:v}of e){let b=this.layers[0]._featureFilter.needGeometry,M=is(p,b);if(!this.layers[0]._featureFilter.filter(new x(this.zoom),M,n))continue;let T=c?c.evaluate(M,{},n,i.availableImages):void 0,C={id:f,properties:p.properties,type:p.type,sourceLayerIndex:v,index:g,geometry:b?M.geometry:fr(p,n,s),patterns:{},sortKey:T};u.push(C)}c&&u.sort((p,f)=>p.sortKey-f.sortKey);for(let p of u){let{geometry:f,index:g,sourceLayerIndex:v}=p;if(this.hasPattern){let b=zu("fill",this.layers,p,this.zoom,i);this.patternFeatures.push(b)}else this.addFeature(p,f,g,n,{},i.availableImages);i.featureIndex.insert(e[g].feature,f,g,v,this.index)}}update(e,i,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,n,s)}addFeatures(e,i,n,s,c){for(let u of this.patternFeatures)this.addFeature(u,u.geometry,u.index,i,n,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,i2),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,i,n,s,c,u=[]){for(let p of wu(i,500)){let f=0;for(let C of p)f+=C.length;let g=this.segments.prepareSegment(f,this.layoutVertexArray,this.indexArray),v=g.vertexLength,b=[],M=[];for(let C of p){if(C.length===0)continue;C!==p[0]&&M.push(b.length/2);let L=this.segments2.prepareSegment(C.length,this.layoutVertexArray,this.indexArray2),D=L.vertexLength;this.layoutVertexArray.emplaceBack(C[0].x,C[0].y),this.indexArray2.emplaceBack(D+C.length-1,D),b.push(C[0].x),b.push(C[0].y);for(let U=1;U<C.length;U++)this.layoutVertexArray.emplaceBack(C[U].x,C[U].y),this.indexArray2.emplaceBack(D+U-1,D+U),b.push(C[U].x),b.push(C[U].y);L.vertexLength+=C.length,L.primitiveLength+=C.length}let T=bu(b,M);for(let C=0;C<T.length;C+=3)this.indexArray.emplaceBack(v+T[C],v+T[C+1],v+T[C+2]);g.vertexLength+=f,g.primitiveLength+=T.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,c,u,s)}}Xe(I1,"FillBucket",{omit:["layers","patternFeatures"]});let f2=new G({"fill-sort-key":new O(ve.layout_fill["fill-sort-key"])});var g2={paint:new G({"fill-antialias":new S(ve.paint_fill["fill-antialias"]),"fill-opacity":new O(ve.paint_fill["fill-opacity"]),"fill-color":new O(ve.paint_fill["fill-color"]),"fill-outline-color":new O(ve.paint_fill["fill-outline-color"]),"fill-translate":new S(ve.paint_fill["fill-translate"]),"fill-translate-anchor":new S(ve.paint_fill["fill-translate-anchor"]),"fill-pattern":new O(ve.paint_fill["fill-pattern"])}),layout:f2};let _2=oe([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),y2=oe([{name:"a_centroid_pos",components:2,type:"Uint16"}]),v2=oe([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:x2}=_2;var P1={},b2=ct,bp=cl;function cl(t,e,i,n,s){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=s,t.readFields(w2,this,e)}function w2(t,e,i){t==1?e.id=i.readVarint():t==2?function(n,s){for(var c=n.readVarint()+n.pos;n.pos<c;){var u=s._keys[n.readVarint()],p=s._values[n.readVarint()];s.properties[u]=p}}(i,e):t==3?e.type=i.readVarint():t==4&&(e._geometry=i.pos)}function M2(t){for(var e,i,n=0,s=0,c=t.length,u=c-1;s<c;u=s++)n+=((i=t[u]).x-(e=t[s]).x)*(e.y+i.y);return n}cl.types=["Unknown","Point","LineString","Polygon"],cl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,s=0,c=0,u=0,p=[];t.pos<i;){if(s<=0){var f=t.readVarint();n=7&f,s=f>>3}if(s--,n===1||n===2)c+=t.readSVarint(),u+=t.readSVarint(),n===1&&(e&&p.push(e),e=[]),e.push(new b2(c,u));else{if(n!==7)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&p.push(e),p},cl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,s=0,c=0,u=1/0,p=-1/0,f=1/0,g=-1/0;t.pos<e;){if(n<=0){var v=t.readVarint();i=7&v,n=v>>3}if(n--,i===1||i===2)(s+=t.readSVarint())<u&&(u=s),s>p&&(p=s),(c+=t.readSVarint())<f&&(f=c),c>g&&(g=c);else if(i!==7)throw new Error("unknown command "+i)}return[u,f,p,g]},cl.prototype.toGeoJSON=function(t,e,i){var n,s,c=this.extent*Math.pow(2,i),u=this.extent*t,p=this.extent*e,f=this.loadGeometry(),g=cl.types[this.type];function v(T){for(var C=0;C<T.length;C++){var L=T[C];T[C]=[360*(L.x+u)/c-180,360/Math.PI*Math.atan(Math.exp((180-360*(L.y+p)/c)*Math.PI/180))-90]}}switch(this.type){case 1:var b=[];for(n=0;n<f.length;n++)b[n]=f[n][0];v(f=b);break;case 2:for(n=0;n<f.length;n++)v(f[n]);break;case 3:for(f=function(T){var C=T.length;if(C<=1)return[T];for(var L,D,U=[],W=0;W<C;W++){var j=M2(T[W]);j!==0&&(D===void 0&&(D=j<0),D===j<0?(L&&U.push(L),L=[T[W]]):L.push(T[W]))}return L&&U.push(L),U}(f),n=0;n<f.length;n++)for(s=0;s<f[n].length;s++)v(f[n][s])}f.length===1?f=f[0]:g="Multi"+g;var M={type:"Feature",geometry:{type:g,coordinates:f},properties:this.properties};return"id"in this&&(M.id=this.id),M};var z2=bp,wp=Mp;function Mp(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(A2,this,e),this.length=this._features.length}function A2(t,e,i){t===15?e.version=i.readVarint():t===1?e.name=i.readString():t===5?e.extent=i.readVarint():t===2?e._features.push(i.pos):t===3?e._keys.push(i.readString()):t===4&&e._values.push(function(n){for(var s=null,c=n.readVarint()+n.pos;n.pos<c;){var u=n.readVarint()>>3;s=u===1?n.readString():u===2?n.readFloat():u===3?n.readDouble():u===4?n.readVarint64():u===5?n.readVarint():u===6?n.readSVarint():u===7?n.readBoolean():null}return s}(i))}Mp.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new z2(this._pbf,e,this.extent,this._keys,this._values)};var T2=wp;function C2(t,e,i){if(t===3){var n=new T2(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}var Au=P1.VectorTile=function(t,e){this.layers=t.readFields(C2,{},e)},k1=P1.VectorTileFeature=bp;function D1(t,e,i,n){let s=[],c=n===0?(u,p,f,g,v,b)=>{u.push(new Se(b,f+(b-p)/(g-p)*(v-f)))}:(u,p,f,g,v,b)=>{u.push(new Se(p+(b-f)/(v-f)*(g-p),b))};for(let u of t){let p=[];for(let f of u){if(f.length<=2)continue;let g=[];for(let M=0;M<f.length-1;M++){let T=f[M].x,C=f[M].y,L=f[M+1].x,D=f[M+1].y,U=n===0?T:C,W=n===0?L:D;U<e?W>e&&c(g,T,C,L,D,e):U>i?W<i&&c(g,T,C,L,D,i):g.push(f[M]),W<e&&U>=e&&c(g,T,C,L,D,e),W>i&&U<=i&&c(g,T,C,L,D,i)}let v=f[f.length-1],b=n===0?v.x:v.y;b>=e&&b<=i&&g.push(v),g.length&&(v=g[g.length-1],g[0].x===v.x&&g[0].y===v.y||g.push(g[0]),p.push(g))}p.length&&s.push(p)}return s}P1.VectorTileLayer=wp;let E2=k1.types,S2=Math.pow(2,13);function n0(t,e,i,n,s,c,u,p){t.emplaceBack((e<<1)+u,(i<<1)+c,(Math.floor(n*S2)<<1)+s,Math.round(p))}function r0(t,e,i){t.emplaceBack(e.x,e.y,e.z,i[0]*16384,i[1]*16384,i[2]*16384)}class zp{constructor(){this.acc=new Se(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Se(e.x,e.y),this.max=new Se(e.x,e.y))}append(e,i){this.currentPolyCount.edges++,this.acc._add(e);let n=this.min,s=this.max;e.x<n.x?n.x=e.x:e.x>s.x&&(s.x=e.x),e.y<n.y?n.y=e.y:e.y>s.y&&(s.y=e.y),((e.x===0||e.x===ot)&&e.x===i.x)!=((e.y===0||e.y===ot)&&e.y===i.y)&&this.processBorderOverlap(e,i),i.x<0!=e.x<0&&this.addBorderIntersection(0,Bt(i.y,e.y,(0-i.x)/(e.x-i.x))),i.x>ot!=e.x>ot&&this.addBorderIntersection(1,Bt(i.y,e.y,(ot-i.x)/(e.x-i.x))),i.y<0!=e.y<0&&this.addBorderIntersection(2,Bt(i.x,e.x,(0-i.y)/(e.y-i.y))),i.y>ot!=e.y>ot&&this.addBorderIntersection(3,Bt(i.x,e.x,(ot-i.y)/(e.y-i.y)))}addBorderIntersection(e,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);let n=this.borders[e];i<n[0]&&(n[0]=i),i>n[1]&&(n[1]=i)}processBorderOverlap(e,i){if(e.x===i.x){if(e.y===i.y)return;let n=e.x===0?0:1;this.addBorderIntersection(n,i.y),this.addBorderIntersection(n,e.y)}else{let n=e.y===0?2:3;this.addBorderIntersection(n,i.x),this.addBorderIntersection(n,e.x)}}centroid(){let e=this.polyCount.reduce((i,n)=>i+n.edges,0);return e!==0?this.acc.div(e)._round():new Se(0,0)}span(){return new Se(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,i)=>e+ +(i[0]!==Number.MAX_VALUE),0)}}class o0{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new we,this.centroidVertexArray=new vn,this.indexArray=new tt,this.programConfigurations=new Ko(e.layers,e.zoom),this.segments=new Ci,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.enableTerrain=e.enableTerrain}populate(e,i,n,s){this.features=[],this.hasPattern=Mu("fill-extrusion",this.layers,i),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(c){let u=Math.exp(Math.PI*(1-c.y/(1<<c.z)*2));return 80150034*u/(u*u+1)/ot/(1<<c.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(let{feature:c,id:u,index:p,sourceLayerIndex:f}of e){let g=this.layers[0]._featureFilter.needGeometry,v=is(c,g);if(!this.layers[0]._featureFilter.filter(new x(this.zoom),v,n))continue;let b={id:u,sourceLayerIndex:f,index:p,geometry:g?v.geometry:fr(c,n,s),properties:c.properties,type:c.type,patterns:{}},M=this.layoutVertexArray.length;this.hasPattern?this.features.push(zu("fill-extrusion",this.layers,b,this.zoom,i)):this.addFeature(b,b.geometry,p,n,{},i.availableImages,s),i.featureIndex.insert(c,b.geometry,p,f,this.index,M)}this.sortBorders()}addFeatures(e,i,n,s,c){for(let u of this.features){let{geometry:p}=u;this.addFeature(u,p,u.index,i,n,s,c)}this.sortBorders()}update(e,i,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,n,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,x2),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,v2.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,y2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,i,n,s,c,u,p){let f=[new Se(0,0),new Se(ot,ot)],g=p.projection,v=g.name==="globe",b=this.enableTerrain&&!v?new zp:null,M=E2[e.type]==="Polygon";v&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new De);let T=wu(i,500);for(let U=T.length-1;U>=0;U--){let W=T[U];(W.length===0||(C=W[0]).every(j=>j.x<=0)||C.every(j=>j.x>=ot)||C.every(j=>j.y<=0)||C.every(j=>j.y>=ot))&&T.splice(U,1)}var C;let L;if(v)L=Ip(T,f,s);else{L=[];for(let U of T)L.push({polygon:U,bounds:f})}let D=M?this.edgeRadius:0;for(let{polygon:U,bounds:W}of L){let j=0,$=0;for(let X of U)M&&!X[0].equals(X[X.length-1])&&X.push(X[0]),$+=M?X.length-1:X.length;let K=this.segments.prepareSegment((M?5:4)*$,this.layoutVertexArray,this.indexArray);if(M){let X=[],me=[];j=K.vertexLength;for(let xe of U){let ke,ge;xe.length&&xe!==U[0]&&me.push(X.length/2),ke=xe[1].sub(xe[0])._perp()._unit();for(let ze=1;ze<xe.length;ze++){let Ae=xe[ze],Ee=xe[ze===xe.length-1?1:ze+1],{x:Fe,y:ye}=Ae;if(D){ge=Ee.sub(Ae)._perp()._unit();let je=ke.add(ge)._unit(),Ye=D*Math.min(4,1/(ke.x*je.x+ke.y*je.y));Fe+=Ye*je.x,ye+=Ye*je.y,ke=ge}n0(this.layoutVertexArray,Fe,ye,0,0,1,1,0),K.vertexLength++,X.push(Ae.x,Ae.y),v&&r0(this.layoutVertexExtArray,g.projectTilePoint(Fe,ye,s),g.upVector(s,Fe,ye))}}let ue=bu(X,me);for(let xe=0;xe<ue.length;xe+=3)this.indexArray.emplaceBack(j+ue[xe],j+ue[xe+2],j+ue[xe+1]),K.primitiveLength++}for(let X of U){b&&X.length&&b.startRing(X[0]);let me,ue,xe,ke=X.length>4&&Ep(X[X.length-2],X[0],X[1]),ge=D?L2(X[X.length-2],X[0],X[1],D):0;ue=X[1].sub(X[0])._perp()._unit();let ze=!0;for(let Ae=1,Ee=0;Ae<X.length;Ae++){let Fe=X[Ae-1],ye=X[Ae],je=X[Ae===X.length-1?1:Ae+1];if(b&&M&&b.currentPolyCount.top++,Cp(ye,Fe,W)){D&&(ue=je.sub(ye)._perp()._unit(),ze=!ze);continue}b&&b.append(ye,Fe);let Ye=ye.sub(Fe)._perp(),Ge=Ye.x/(Math.abs(Ye.x)+Math.abs(Ye.y)),mt=Ye.y>0?1:0,Ve=Fe.dist(ye);if(Ee+Ve>32768&&(Ee=0),D){xe=je.sub(ye)._perp()._unit();let gt=Tp(Fe,ye,je,Ap(ue,xe),D);isNaN(gt)&&(gt=0);let lt=ye.sub(Fe)._unit();Fe=Fe.add(lt.mult(ge))._round(),ye=ye.add(lt.mult(-gt))._round(),ge=gt,ue=xe}let rt=K.vertexLength,ft=X.length>4&&Ep(Fe,ye,je),Vt=Sp(Ee,ke,ze);if(n0(this.layoutVertexArray,Fe.x,Fe.y,Ge,mt,0,0,Vt),n0(this.layoutVertexArray,Fe.x,Fe.y,Ge,mt,0,1,Vt),Ee+=Ve,Vt=Sp(Ee,ft,!ze),ke=ft,n0(this.layoutVertexArray,ye.x,ye.y,Ge,mt,0,0,Vt),n0(this.layoutVertexArray,ye.x,ye.y,Ge,mt,0,1,Vt),K.vertexLength+=4,this.indexArray.emplaceBack(rt+0,rt+1,rt+2),this.indexArray.emplaceBack(rt+1,rt+3,rt+2),K.primitiveLength+=2,D){let gt=j+(Ae===1?X.length-2:Ae-2),lt=Ae===1?j:gt+1;if(this.indexArray.emplaceBack(rt+1,gt,rt+3),this.indexArray.emplaceBack(gt,lt,rt+3),K.primitiveLength+=2,me===void 0&&(me=rt),!Cp(je,X[Ae],W)){let ci=Ae===X.length-1?me:K.vertexLength;this.indexArray.emplaceBack(rt+2,rt+3,ci),this.indexArray.emplaceBack(rt+3,ci+1,ci),this.indexArray.emplaceBack(rt+3,lt,ci+1),K.primitiveLength+=3}ze=!ze}if(v){let gt=this.layoutVertexExtArray,lt=g.projectTilePoint(Fe.x,Fe.y,s),ci=g.projectTilePoint(ye.x,ye.y,s),bt=g.upVector(s,Fe.x,Fe.y),wt=g.upVector(s,ye.x,ye.y);r0(gt,lt,bt),r0(gt,lt,bt),r0(gt,ci,wt),r0(gt,ci,wt)}}M&&(j+=X.length-1)}}if(b&&b.polyCount.length>0){if(b.borders){b.vertexArrayOffset=this.centroidVertexArray.length;let U=b.borders,W=this.featuresOnBorder.push(b)-1;for(let j=0;j<4;j++)U[j][0]!==Number.MAX_VALUE&&this.borders[j].push(W)}this.encodeCentroid(b.borders?void 0:b.centroid(),b)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,c,u,s)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((i,n)=>this.featuresOnBorder[i].borders[e][0]-this.featuresOnBorder[n].borders[e][0])}encodeCentroid(e,i,n=!0){let s,c;if(e)if(e.y!==0){let p=i.span()._mult(this.tileToMeter);s=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(p.x/10)),c=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(p.y/10))}else s=Math.ceil(7*(e.x+450)),c=0;else s=0,c=+n;let u=n?this.centroidVertexArray.length:i.vertexArrayOffset;for(let p of i.polyCount){n&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*p.edges+p.top);for(let f=0;f<p.top;f++)this.centroidVertexArray.emplace(u++,s,c);for(let f=0;f<2*p.edges;f++)this.centroidVertexArray.emplace(u++,0,c),this.centroidVertexArray.emplace(u++,s,c)}}}function Ap(t,e){let i=t.add(e)._unit();return t.x*i.x+t.y*i.y}function L2(t,e,i,n){let s=e.sub(t)._perp()._unit(),c=i.sub(e)._perp()._unit();return Tp(t,e,i,Ap(s,c),n)}function Tp(t,e,i,n,s){let c=Math.sqrt(1-n*n);return Math.min(t.dist(e)/3,e.dist(i)/3,s*c/n)}function Cp(t,e,i){return t.x<i[0].x&&e.x<i[0].x||t.x>i[1].x&&e.x>i[1].x||t.y<i[0].y&&e.y<i[0].y||t.y>i[1].y&&e.y>i[1].y}function Ep(t,e,i){if(t.x<0||t.x>=ot||e.x<0||e.x>=ot||i.x<0||i.x>=ot)return!1;let n=i.sub(e),s=n.perp(),c=t.sub(e);return(n.x*c.x+n.y*c.y)/Math.sqrt((n.x*n.x+n.y*n.y)*(c.x*c.x+c.y*c.y))>-.866&&s.x*c.x+s.y*c.y<0}function Sp(t,e,i){let n=e?2|t:-3&t;return i?1|n:-2&n}function Lp(){let t=Math.PI/32,e=Math.tan(t),i=Qc;return i*Math.sqrt(1+2*e*e)-i}function Ip(t,e,i){let n=1<<i.z,s=Ha(i.x/n),c=Ha((i.x+1)/n),u=oa(i.y/n),p=oa((i.y+1)/n);return function(f,g,v,b,M=0,T){let C=[];if(!f.length||!v||!b)return C;let L=(X,me)=>{for(let ue of X)C.push({polygon:ue,bounds:me})},D=Math.ceil(Math.log2(v)),U=Math.ceil(Math.log2(b)),W=D-U,j=[];for(let X=0;X<Math.abs(W);X++)j.push(W>0?0:1);for(let X=0;X<Math.min(D,U);X++)j.push(0),j.push(1);let $=f;if($=D1($,g[0].y-M,g[1].y+M,1),$=D1($,g[0].x-M,g[1].x+M,0),!$.length)return C;let K=[];for(j.length?K.push({polygons:$,bounds:g,depth:0}):L($,g);K.length;){let X=K.pop(),me=X.depth,ue=j[me],xe=X.bounds[0],ke=X.bounds[1],ge=ue===0?xe.x:xe.y,ze=ue===0?ke.x:ke.y,Ae=T?T(ue,ge,ze):.5*(ge+ze),Ee=D1(X.polygons,ge-M,Ae+M,ue),Fe=D1(X.polygons,Ae-M,ze+M,ue);if(Ee.length){let ye=[xe,new Se(ue===0?Ae:ke.x,ue===1?Ae:ke.y)];j.length>me+1?K.push({polygons:Ee,bounds:ye,depth:me+1}):L(Ee,ye)}if(Fe.length){let ye=[new Se(ue===0?Ae:xe.x,ue===1?Ae:xe.y),ke];j.length>me+1?K.push({polygons:Fe,bounds:ye,depth:me+1}):L(Fe,ye)}}return C}(t,e,Math.ceil((c-s)/11.25),Math.ceil((u-p)/11.25),1,(f,g,v)=>{if(f===0)return .5*(g+v);{let b=oa((i.y+g/ot)/n);return(Hn(.5*(oa((i.y+v/ot)/n)+b))*n-i.y)*ot}})}Xe(o0,"FillExtrusionBucket",{omit:["layers","features"]}),Xe(zp,"PartMetadata");let I2=new G({"fill-extrusion-edge-radius":new S(ve["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var P2={paint:new G({"fill-extrusion-opacity":new S(ve["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new O(ve["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new S(ve["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new S(ve["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new O(ve["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new O(ve["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new O(ve["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new S(ve["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new S(ve["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new S(ve["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new S(ve["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:I2};function Pp(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}class O1{constructor(e,i,n){this.z=e,this.x=i,this.y=n,this.key=s0(0,e,e,i,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,i){let n=function(c,u,p){var f=Pp(256*c,256*(u=Math.pow(2,p)-u-1),p),g=Pp(256*(c+1),256*(u+1),p);return f[0]+","+f[1]+","+g[0]+","+g[1]}(this.x,this.y,this.z),s=function(c,u,p){let f,g="";for(let v=c;v>0;v--)f=1<<v-1,g+=(u&f?1:0)+(p&f?2:0);return g}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(i==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",s).replace("{bbox-epsg-3857}",n)}toString(){return`${this.z}/${this.x}/${this.y}`}}class kp{constructor(e,i){this.wrap=e,this.canonical=i,this.key=s0(e,i.z,i.z,i.x,i.y)}}class ga{constructor(e,i,n,s,c){this.overscaledZ=e,this.wrap=i,this.canonical=new O1(n,+s,+c),this.key=i===0&&e===n?this.canonical.key:s0(i,e,n,s,c)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){let i=this.canonical.z-e;return e>this.canonical.z?new ga(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ga(e,this.wrap,e,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(e,i=!0){if(this.overscaledZ===e&&i)return this.key;if(e>this.canonical.z)return s0(this.wrap*+i,e,this.canonical.z,this.canonical.x,this.canonical.y);{let n=this.canonical.z-e;return s0(this.wrap*+i,e,e,this.canonical.x>>n,this.canonical.y>>n)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;let i=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>i&&e.canonical.y===this.canonical.y>>i}children(e){if(this.overscaledZ>=e)return[new ga(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let i=this.canonical.z+1,n=2*this.canonical.x,s=2*this.canonical.y;return[new ga(i,this.wrap,i,n,s),new ga(i,this.wrap,i,n+1,s),new ga(i,this.wrap,i,n,s+1),new ga(i,this.wrap,i,n+1,s+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new ga(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new ga(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new kp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function s0(t,e,i,n,s){let c=1<<Math.min(i,22),u=c*(s%c)+n%c;return t&&i<22&&(u+=c*c*((t<0?-2*t-1:2*t)%(1<<2*(22-i)))),16*(32*u+i)+(e-i)}Xe(O1,"CanonicalTileID"),Xe(ga,"OverscaledTileID",{omit:["projMatrix"]});class hl extends Se{constructor(e,i,n){super(e,i),this.z=n}}function l0(t,e){return t.x*e.x+t.y*e.y}function Dp(t,e){if(t.length===1){let i=0,n=e[i++],s;for(;!s||n.equals(s);)if(s=e[i++],!s)return 1/0;for(;i<e.length;i++){let c=e[i],u=t[0],p=s.sub(n),f=c.sub(n),g=u.sub(n),v=l0(p,p),b=l0(p,f),M=l0(f,f),T=l0(g,p),C=l0(g,f),L=v*M-b*b,D=(M*T-b*C)/L,U=(v*C-b*T)/L,W=n.z*(1-D-U)+s.z*D+c.z*U;if(isFinite(W))return W}return 1/0}{let i=1/0;for(let n of e)i=Math.min(i,n.z);return i}}function Op(t,e,i,n,s,c,u,p){let f=u*s.getElevationAt(t,e,!0,!0),g=c[0]!==0,v=g?c[1]===0?u*(c[0]/7-450):u*function(b,M,T){let C=Math.floor(M[0]/8),L=Math.floor(M[1]/8),D=10*(M[0]-8*C),U=10*(M[1]-8*L),W=b.getElevationAt(C,L,!0,!0),j=b.getMeterToDEM(T),$=Math.floor(.5*(D*j-1)),K=Math.floor(.5*(U*j-1)),X=b.tileCoordToPixel(C,L),me=2*$+1,ue=2*K+1,xe=function(Fe,ye,je,Ye,Ge){return[Fe.getElevationAtPixel(ye,je,!0),Fe.getElevationAtPixel(ye+Ge,je,!0),Fe.getElevationAtPixel(ye,je+Ge,!0),Fe.getElevationAtPixel(ye+Ye,je+Ge,!0)]}(b,X.x-$,X.y-K,me,ue),ke=Math.abs(xe[0]-xe[1]),ge=Math.abs(xe[2]-xe[3]),ze=Math.abs(xe[0]-xe[2])+Math.abs(xe[1]-xe[3]),Ae=Math.min(.25,.5*j*(ke+ge)/me),Ee=Math.min(.25,.5*j*ze/ue);return W+Math.max(Ae*D,Ee*U)}(s,c,p):f;return{base:f+(i===0)?-1:i,top:g?Math.max(v+n,f+i+2):f+n}}let k2=oe([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:D2}=k2,O2=oe([{name:"a_packed",components:4,type:"Float32"}]),{members:R2}=O2,B2=k1.types,F2=Math.cos(Math.PI/180*37.5);class R1{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new fe,this.layoutVertexArray2=new Ie,this.indexArray=new tt,this.programConfigurations=new Ko(e.layers,e.zoom),this.segments=new Ci,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,n,s){this.hasPattern=Mu("line",this.layers,i);let c=this.layers[0].layout.get("line-sort-key"),u=[];for(let{feature:v,id:b,index:M,sourceLayerIndex:T}of e){let C=this.layers[0]._featureFilter.needGeometry,L=is(v,C);if(!this.layers[0]._featureFilter.filter(new x(this.zoom),L,n))continue;let D=c?c.evaluate(L,{},n):void 0,U={id:b,properties:v.properties,type:v.type,sourceLayerIndex:T,index:M,geometry:C?L.geometry:fr(v,n,s),patterns:{},sortKey:D};u.push(U)}c&&u.sort((v,b)=>v.sortKey-b.sortKey);let{lineAtlas:p,featureIndex:f}=i,g=this.addConstantDashes(p);for(let v of u){let{geometry:b,index:M,sourceLayerIndex:T}=v;if(g&&this.addFeatureDashes(v,p),this.hasPattern){let C=zu("line",this.layers,v,this.zoom,i);this.patternFeatures.push(C)}else this.addFeature(v,b,M,n,p.positions,i.availableImages);f.insert(e[M].feature,b,M,T,this.index)}}addConstantDashes(e){let i=!1;for(let n of this.layers){let s=n.paint.get("line-dasharray").value,c=n.layout.get("line-cap").value;if(s.kind!=="constant"||c.kind!=="constant")i=!0;else{let u=c.value,p=s.value;if(!p)continue;e.addDash(p,u)}}return i}addFeatureDashes(e,i){let n=this.zoom;for(let s of this.layers){let c=s.paint.get("line-dasharray").value,u=s.layout.get("line-cap").value;if(c.kind==="constant"&&u.kind==="constant")continue;let p,f;if(c.kind==="constant"){if(p=c.value,!p)continue}else p=c.evaluate({zoom:n},e);f=u.kind==="constant"?u.value:u.evaluate({zoom:n},e),i.addDash(p,f),e.patterns[s.id]=i.getKey(p,f)}}update(e,i,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,n,s)}addFeatures(e,i,n,s,c){for(let u of this.patternFeatures)this.addFeature(u,u.geometry,u.index,i,n,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,R2)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,D2),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,i,n,s,c,u){let p=this.layers[0].layout,f=p.get("line-join").evaluate(e,{}),g=p.get("line-cap").evaluate(e,{}),v=p.get("line-miter-limit"),b=p.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(let M of i)this.addLine(M,e,f,g,v,b);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,c,u,s)}addLine(e,i,n,s,c,u){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let U=0;U<e.length-1;U++)this.totalDistance+=e[U].dist(e[U+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let p=B2[i.type]==="Polygon",f=e.length;for(;f>=2&&e[f-1].equals(e[f-2]);)f--;let g=0;for(;g<f-1&&e[g].equals(e[g+1]);)g++;if(f<(p?3:2))return;n==="bevel"&&(c=1.05);let v=this.overscaling<=16?15*ot/(512*this.overscaling):0,b=this.segments.prepareSegment(10*f,this.layoutVertexArray,this.indexArray),M,T,C,L,D;this.e1=this.e2=-1,p&&(M=e[f-2],D=e[g].sub(M)._unit()._perp());for(let U=g;U<f;U++){if(C=U===f-1?p?e[g+1]:void 0:e[U+1],C&&e[U].equals(C))continue;D&&(L=D),M&&(T=M),M=e[U],D=C?C.sub(M)._unit()._perp():L,L=L||D;let W=L.add(D);W.x===0&&W.y===0||W._unit();let j=L.x*D.x+L.y*D.y,$=W.x*D.x+W.y*D.y,K=$!==0?1/$:1/0,X=2*Math.sqrt(2-2*$),me=$<F2&&T&&C,ue=L.x*D.y-L.y*D.x>0;if(me&&U>g){let ge=M.dist(T);if(ge>2*v){let ze=M.sub(M.sub(T)._mult(v/ge)._round());this.updateDistance(T,ze),this.addCurrentVertex(ze,L,0,0,b),T=ze}}let xe=T&&C,ke=xe?n:p?"butt":s;if(xe&&ke==="round"&&(K<u?ke="miter":K<=2&&(ke="fakeround")),ke==="miter"&&K>c&&(ke="bevel"),ke==="bevel"&&(K>2&&(ke="flipbevel"),K<c&&(ke="miter")),T&&this.updateDistance(T,M),ke==="miter")W._mult(K),this.addCurrentVertex(M,W,0,0,b);else if(ke==="flipbevel"){if(K>100)W=D.mult(-1);else{let ge=K*L.add(D).mag()/L.sub(D).mag();W._perp()._mult(ge*(ue?-1:1))}this.addCurrentVertex(M,W,0,0,b),this.addCurrentVertex(M,W.mult(-1),0,0,b)}else if(ke==="bevel"||ke==="fakeround"){let ge=-Math.sqrt(K*K-1),ze=ue?ge:0,Ae=ue?0:ge;if(T&&this.addCurrentVertex(M,L,ze,Ae,b),ke==="fakeround"){let Ee=Math.round(180*X/Math.PI/20);for(let Fe=1;Fe<Ee;Fe++){let ye=Fe/Ee;if(ye!==.5){let Ye=ye-.5;ye+=ye*Ye*(ye-1)*((1.0904+j*(j*(3.55645-1.43519*j)-3.2452))*Ye*Ye+(.848013+j*(.215638*j-1.06021)))}let je=D.sub(L)._mult(ye)._add(L)._unit()._mult(ue?-1:1);this.addHalfVertex(M,je.x,je.y,!1,ue,0,b)}}C&&this.addCurrentVertex(M,D,-ze,-Ae,b)}else if(ke==="butt")this.addCurrentVertex(M,W,0,0,b);else if(ke==="square"){let ge=T?1:-1;T||this.addCurrentVertex(M,W,ge,ge,b),this.addCurrentVertex(M,W,0,0,b),T&&this.addCurrentVertex(M,W,ge,ge,b)}else ke==="round"&&(T&&(this.addCurrentVertex(M,L,0,0,b),this.addCurrentVertex(M,L,1,1,b,!0)),C&&(this.addCurrentVertex(M,D,-1,-1,b,!0),this.addCurrentVertex(M,D,0,0,b)));if(me&&U<f-1){let ge=M.dist(C);if(ge>2*v){let ze=M.add(C.sub(M)._mult(v/ge)._round());this.updateDistance(M,ze),this.addCurrentVertex(ze,D,0,0,b),M=ze}}}}addCurrentVertex(e,i,n,s,c,u=!1){let p=i.y*s-i.x,f=-i.y-i.x*s;this.addHalfVertex(e,i.x+i.y*n,i.y-i.x*n,u,!1,n,c),this.addHalfVertex(e,p,f,u,!0,-s,c)}addHalfVertex({x:e,y:i},n,s,c,u,p,f){this.layoutVertexArray.emplaceBack((e<<1)+(c?1:0),(i<<1)+(u?1:0),Math.round(63*n)+128,Math.round(63*s)+128,1+(p===0?0:p<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);let g=f.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,g),f.primitiveLength++),u?this.e2=g:this.e1=g}updateScaledDistance(){if(this.lineClips){let e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,i){this.distance+=e.dist(i),this.updateScaledDistance()}}Xe(R1,"LineBucket",{omit:["layers","patternFeatures"]});let V2=new G({"line-cap":new O(ve.layout_line["line-cap"]),"line-join":new O(ve.layout_line["line-join"]),"line-miter-limit":new S(ve.layout_line["line-miter-limit"]),"line-round-limit":new S(ve.layout_line["line-round-limit"]),"line-sort-key":new O(ve.layout_line["line-sort-key"])});var Rp={paint:new G({"line-opacity":new O(ve.paint_line["line-opacity"]),"line-color":new O(ve.paint_line["line-color"]),"line-translate":new S(ve.paint_line["line-translate"]),"line-translate-anchor":new S(ve.paint_line["line-translate-anchor"]),"line-width":new O(ve.paint_line["line-width"]),"line-gap-width":new O(ve.paint_line["line-gap-width"]),"line-offset":new O(ve.paint_line["line-offset"]),"line-blur":new O(ve.paint_line["line-blur"]),"line-dasharray":new O(ve.paint_line["line-dasharray"]),"line-pattern":new O(ve.paint_line["line-pattern"]),"line-gradient":new H(ve.paint_line["line-gradient"]),"line-trim-offset":new S(ve.paint_line["line-trim-offset"])}),layout:V2};let Bp=new class extends O{possiblyEvaluate(t,e){return e=new x(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,i,n){return e=Mi({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,i,n)}}(Rp.paint.properties["line-width"].specification);function Fp(t,e){return e>0?e+2*t:t}Bp.useIntegerZoom=!0;let N2=oe([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),U2=oe([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),j2=oe([{name:"a_projected_pos",components:4,type:"Float32"}],4);oe([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let H2=oe([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),G2=oe([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);oe([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let Vp=oe([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Z2=oe([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);oe([{name:"triangle",components:3,type:"Uint16"}]),oe([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),oe([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),oe([{type:"Float32",name:"offsetX"}]),oe([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Qi=24;let An=128;function Tu(t,e){let{expression:i}=e;if(i.kind==="constant")return{kind:"constant",layoutSize:i.evaluate(new x(t+1))};if(i.kind==="source")return{kind:"source"};{let{zoomStops:n,interpolationType:s}=i,c=0;for(;c<n.length&&n[c]<=t;)c++;c=Math.max(0,c-1);let u=c;for(;u<n.length&&n[u]<t+1;)u++;u=Math.min(n.length-1,u);let p=n[c],f=n[u];return i.kind==="composite"?{kind:"composite",minZoom:p,maxZoom:f,interpolationType:s}:{kind:"camera",minZoom:p,maxZoom:f,minSize:i.evaluate(new x(p)),maxSize:i.evaluate(new x(f)),interpolationType:s}}}function B1(t,{uSize:e,uSizeT:i},{lowerSize:n,upperSize:s}){return t.kind==="source"?n/An:t.kind==="composite"?Bt(n/An,s/An,i):e}function ul(t,e){let i=0,n=0;if(t.kind==="constant")n=t.layoutSize;else if(t.kind!=="source"){let{interpolationType:s,minZoom:c,maxZoom:u}=t,p=s?Pt(Xa.interpolationFactor(s,e,c,u),0,1):0;t.kind==="camera"?n=Bt(t.minSize,t.maxSize,p):i=p}return{uSizeT:i,uSize:n}}var $2=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:An,evaluateSizeForFeature:B1,evaluateSizeForZoom:ul,getSizeData:Tu});function q2(t,e,i){return t.sections.forEach(n=>{n.text=function(s,c,u){let p=c.layout.get("text-transform").evaluate(u,{});return p==="uppercase"?s=s.toLocaleUpperCase():p==="lowercase"&&(s=s.toLocaleLowerCase()),y.applyArabicShaping&&(s=y.applyArabicShaping(s)),s}(n.text,e,i)}),t}let c0={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42","\u2190":"\u2191","\u2192":"\u2193"};function W2(t){return t==="\uFE36"||t==="\uFE48"||t==="\uFE38"||t==="\uFE44"||t==="\uFE42"||t==="\uFE3E"||t==="\uFE3C"||t==="\uFE3A"||t==="\uFE18"||t==="\uFE40"||t==="\uFE10"||t==="\uFE13"||t==="\uFE14"||t==="\uFF40"||t==="\uFFE3"||t==="\uFE11"||t==="\uFE12"}function X2(t){return t==="\uFE35"||t==="\uFE47"||t==="\uFE37"||t==="\uFE43"||t==="\uFE41"||t==="\uFE3D"||t==="\uFE3B"||t==="\uFE39"||t==="\uFE17"||t==="\uFE3F"}var Np=ni,Up=function(t,e,i,n,s){var c,u,p=8*s-n-1,f=(1<<p)-1,g=f>>1,v=-7,b=i?s-1:0,M=i?-1:1,T=t[e+b];for(b+=M,c=T&(1<<-v)-1,T>>=-v,v+=p;v>0;c=256*c+t[e+b],b+=M,v-=8);for(u=c&(1<<-v)-1,c>>=-v,v+=n;v>0;u=256*u+t[e+b],b+=M,v-=8);if(c===0)c=1-g;else{if(c===f)return u?NaN:1/0*(T?-1:1);u+=Math.pow(2,n),c-=g}return(T?-1:1)*u*Math.pow(2,c-n)},jp=function(t,e,i,n,s,c){var u,p,f,g=8*c-s-1,v=(1<<g)-1,b=v>>1,M=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=n?0:c-1,C=n?1:-1,L=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(p=isNaN(e)?1:0,u=v):(u=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-u))<1&&(u--,f*=2),(e+=u+b>=1?M/f:M*Math.pow(2,1-b))*f>=2&&(u++,f/=2),u+b>=v?(p=0,u=v):u+b>=1?(p=(e*f-1)*Math.pow(2,s),u+=b):(p=e*Math.pow(2,b-1)*Math.pow(2,s),u=0));s>=8;t[i+T]=255&p,T+=C,p/=256,s-=8);for(u=u<<s|p,g+=s;g>0;t[i+T]=255&u,T+=C,u/=256,g-=8);t[i+T-C]|=128*L};function ni(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}ni.Varint=0,ni.Fixed64=1,ni.Bytes=2,ni.Fixed32=5;var Cu=4294967296,Hp=1/Cu,Gp=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function _r(t){return t.type===ni.Bytes?t.readVarint()+t.pos:t.pos+1}function dl(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Zp(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var s=i.pos-1;s>=t;s--)i.buf[s+n]=i.buf[s]}function K2(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Y2(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function J2(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Q2(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function e_(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function t_(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function i_(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function a_(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function n_(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function F1(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function pl(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function $p(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}ni.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),s=n>>3,c=this.pos;this.type=7&n,t(s,e,this),this.pos===c&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=F1(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=$p(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=F1(this.buf,this.pos)+F1(this.buf,this.pos+4)*Cu;return this.pos+=8,t},readSFixed64:function(){var t=F1(this.buf,this.pos)+$p(this.buf,this.pos+4)*Cu;return this.pos+=8,t},readFloat:function(){var t=Up(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Up(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(s,c,u){var p,f,g=u.buf;if(p=(112&(f=g[u.pos++]))>>4,f<128||(p|=(127&(f=g[u.pos++]))<<3,f<128)||(p|=(127&(f=g[u.pos++]))<<10,f<128)||(p|=(127&(f=g[u.pos++]))<<17,f<128)||(p|=(127&(f=g[u.pos++]))<<24,f<128)||(p|=(1&(f=g[u.pos++]))<<31,f<128))return dl(s,p,c);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Gp?function(i,n,s){return Gp.decode(i.subarray(n,s))}(this.buf,e,t):function(i,n,s){for(var c="",u=n;u<s;){var p,f,g,v=i[u],b=null,M=v>239?4:v>223?3:v>191?2:1;if(u+M>s)break;M===1?v<128&&(b=v):M===2?(192&(p=i[u+1]))==128&&(b=(31&v)<<6|63&p)<=127&&(b=null):M===3?(f=i[u+2],(192&(p=i[u+1]))==128&&(192&f)==128&&((b=(15&v)<<12|(63&p)<<6|63&f)<=2047||b>=55296&&b<=57343)&&(b=null)):M===4&&(f=i[u+2],g=i[u+3],(192&(p=i[u+1]))==128&&(192&f)==128&&(192&g)==128&&((b=(15&v)<<18|(63&p)<<12|(63&f)<<6|63&g)<=65535||b>=1114112)&&(b=null)),b===null?(b=65533,M=1):b>65535&&(b-=65536,c+=String.fromCharCode(b>>>10&1023|55296),b=56320|1023&b),c+=String.fromCharCode(b),u+=M}return c}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==ni.Bytes)return t.push(this.readVarint(e));var i=_r(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==ni.Bytes)return t.push(this.readSVarint());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==ni.Bytes)return t.push(this.readBoolean());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==ni.Bytes)return t.push(this.readFloat());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==ni.Bytes)return t.push(this.readDouble());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==ni.Bytes)return t.push(this.readFixed32());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==ni.Bytes)return t.push(this.readSFixed32());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==ni.Bytes)return t.push(this.readFixed64());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==ni.Bytes)return t.push(this.readSFixed64());var e=_r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===ni.Varint)for(;this.buf[this.pos++]>127;);else if(e===ni.Bytes)this.pos=this.readVarint()+this.pos;else if(e===ni.Fixed32)this.pos+=4;else{if(e!==ni.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),pl(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),pl(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),pl(this.buf,-1&t,this.pos),pl(this.buf,Math.floor(t*Hp),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),pl(this.buf,-1&t,this.pos),pl(this.buf,Math.floor(t*Hp),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(e,i){var n,s;if(e>=0?(n=e%4294967296|0,s=e/4294967296|0):(s=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,s=s+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),function(c,u,p){p.buf[p.pos++]=127&c|128,c>>>=7,p.buf[p.pos++]=127&c|128,c>>>=7,p.buf[p.pos++]=127&c|128,c>>>=7,p.buf[p.pos++]=127&c|128,p.buf[p.pos]=127&(c>>>=7)}(n,0,i),function(c,u){var p=(7&c)<<4;u.buf[u.pos++]|=p|((c>>>=3)?128:0),c&&(u.buf[u.pos++]=127&c|((c>>>=7)?128:0),c&&(u.buf[u.pos++]=127&c|((c>>>=7)?128:0),c&&(u.buf[u.pos++]=127&c|((c>>>=7)?128:0),c&&(u.buf[u.pos++]=127&c|((c>>>=7)?128:0),c&&(u.buf[u.pos++]=127&c)))))}(s,i)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(n,s,c){for(var u,p,f=0;f<s.length;f++){if((u=s.charCodeAt(f))>55295&&u<57344){if(!p){u>56319||f+1===s.length?(n[c++]=239,n[c++]=191,n[c++]=189):p=u;continue}if(u<56320){n[c++]=239,n[c++]=191,n[c++]=189,p=u;continue}u=p-55296<<10|u-56320|65536,p=null}else p&&(n[c++]=239,n[c++]=191,n[c++]=189,p=null);u<128?n[c++]=u:(u<2048?n[c++]=u>>6|192:(u<65536?n[c++]=u>>12|224:(n[c++]=u>>18|240,n[c++]=u>>12&63|128),n[c++]=u>>6&63|128),n[c++]=63&u|128)}return c}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Zp(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),jp(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),jp(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&Zp(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,ni.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,K2,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Y2,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,e_,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,J2,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Q2,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,t_,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,i_,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,a_,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,n_,e)},writeBytesField:function(t,e){this.writeTag(t,ni.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,ni.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,ni.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,ni.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,ni.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,ni.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,ni.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,ni.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,ni.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,ni.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,!!e)}};var V1=et(Np);let Eu=3;function r_(t,e,i){e.glyphs=[],t===1&&i.readMessage(o_,e)}function o_(t,e,i){if(t===3){let{id:n,bitmap:s,width:c,height:u,left:p,top:f,advance:g}=i.readMessage(s_,{});e.glyphs.push({id:n,bitmap:new gr({width:c+2*Eu,height:u+2*Eu},s),metrics:{width:c,height:u,left:p,top:f,advance:g}})}else t===4?e.ascender=i.readSVarint():t===5&&(e.descender=i.readSVarint())}function s_(t,e,i){t===1?e.id=i.readVarint():t===2?e.bitmap=i.readBytes():t===3?e.width=i.readVarint():t===4?e.height=i.readVarint():t===5?e.left=i.readSVarint():t===6?e.top=i.readSVarint():t===7&&(e.advance=i.readVarint())}let qp=Eu;function Su(t){let e=0,i=0;for(let u of t)e+=u.w*u.h,i=Math.max(i,u.w);t.sort((u,p)=>p.h-u.h);let n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}],s=0,c=0;for(let u of t)for(let p=n.length-1;p>=0;p--){let f=n[p];if(!(u.w>f.w||u.h>f.h)){if(u.x=f.x,u.y=f.y,c=Math.max(c,u.y+u.h),s=Math.max(s,u.x+u.w),u.w===f.w&&u.h===f.h){let g=n.pop();p<n.length&&(n[p]=g)}else u.h===f.h?(f.x+=u.w,f.w-=u.w):u.w===f.w?(f.y+=u.h,f.h-=u.h):(n.push({x:f.x+u.w,y:f.y,w:f.w-u.w,h:u.h}),f.y+=u.h,f.h-=u.h);break}}return{w:s,h:c,fill:e/(s*c)||0}}let Ma=1;class Lu{constructor(e,{pixelRatio:i,version:n,stretchX:s,stretchY:c,content:u}){this.paddedRect=e,this.pixelRatio=i,this.stretchX=s,this.stretchY=c,this.content=u,this.version=n}get tl(){return[this.paddedRect.x+Ma,this.paddedRect.y+Ma]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ma,this.paddedRect.y+this.paddedRect.h-Ma]}get displaySize(){return[(this.paddedRect.w-2*Ma)/this.pixelRatio,(this.paddedRect.h-2*Ma)/this.pixelRatio]}}class Wp{constructor(e,i){let n={},s={};this.haveRenderCallbacks=[];let c=[];this.addImages(e,n,c),this.addImages(i,s,c);let{w:u,h:p}=Su(c),f=new ka({width:u||1,height:p||1});for(let g in e){let v=e[g],b=n[g].paddedRect;ka.copy(v.data,f,{x:0,y:0},{x:b.x+Ma,y:b.y+Ma},v.data)}for(let g in i){let v=i[g],b=s[g].paddedRect,M=b.x+Ma,T=b.y+Ma,C=v.data.width,L=v.data.height;ka.copy(v.data,f,{x:0,y:0},{x:M,y:T},v.data),ka.copy(v.data,f,{x:0,y:L-1},{x:M,y:T-1},{width:C,height:1}),ka.copy(v.data,f,{x:0,y:0},{x:M,y:T+L},{width:C,height:1}),ka.copy(v.data,f,{x:C-1,y:0},{x:M-1,y:T},{width:1,height:L}),ka.copy(v.data,f,{x:0,y:0},{x:M+C,y:T},{width:1,height:L})}this.image=f,this.iconPositions=n,this.patternPositions=s}addImages(e,i,n){for(let s in e){let c=e[s],u={x:0,y:0,w:c.data.width+2*Ma,h:c.data.height+2*Ma};n.push(u),i[s]=new Lu(u,c),c.hasRenderCallback&&this.haveRenderCallbacks.push(s)}}patchUpdatedImages(e,i){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(n=>e.hasImage(n)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),i),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),i)}patchUpdatedImage(e,i,n){if(!e||!i||e.version===i.version)return;e.version=i.version;let[s,c]=e.tl;n.update(i.data,void 0,{x:s,y:c})}}Xe(Lu,"ImagePosition"),Xe(Wp,"ImageAtlas");let Ga={horizontal:1,vertical:2,horizontalOnly:3},Xp=-17;class h0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,i){let n=new h0;return n.scale=e||1,n.fontStack=i,n}static forImage(e){let i=new h0;return i.imageName=e,i}}class ml{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,i){let n=new ml;for(let s=0;s<e.sections.length;s++){let c=e.sections[s];c.image?n.addImageSection(c):n.addTextSection(c,i)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(i,n){let s="";for(let c=0;c<i.length;c++){let u=i.charCodeAt(c+1)||null,p=i.charCodeAt(c-1)||null;s+=!n&&(u&&m1(u)&&!c0[i[c+1]]||p&&m1(p)&&!c0[i[c-1]])||!c0[i[c]]?i[c]:c0[i[c]]}return s}(this.text,e)}trim(){let e=0;for(let n=0;n<this.text.length&&N1[this.text.charCodeAt(n)];n++)e++;let i=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&N1[this.text.charCodeAt(n)];n--)i--;this.text=this.text.substring(e,i),this.sectionIndex=this.sectionIndex.slice(e,i)}substring(e,i){let n=new ml;return n.text=this.text.substring(e,i),n.sectionIndex=this.sectionIndex.slice(e,i),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,i)=>Math.max(e,this.sections[i].scale),0)}addTextSection(e,i){this.text+=e.text,this.sections.push(h0.forText(e.scale,e.fontStack||i));let n=this.sections.length-1;for(let s=0;s<e.text.length;++s)this.sectionIndex.push(n)}addImageSection(e){let i=e.image?e.image.name:"";if(i.length===0)return void mi("Can't add FormattedSection with an empty image.");let n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(h0.forImage(i)),this.sectionIndex.push(this.sections.length-1)):mi("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Iu(t,e,i,n,s,c,u,p,f,g,v,b,M,T,C){let L=ml.fromFeature(t,s);b===Ga.vertical&&L.verticalizePunctuation(M);let D=[],U=function(X,me,ue,xe,ke,ge){if(!X)return[];let ze=[],Ae=function(je,Ye,Ge,mt,Ve,rt){let ft=0;for(let Vt=0;Vt<je.length();Vt++){let gt=je.getSection(Vt);ft+=Kp(je.getCharCode(Vt),gt,mt,Ve,Ye,rt)}return ft/Math.max(1,Math.ceil(ft/Ge))}(X,me,ue,xe,ke,ge),Ee=X.text.indexOf("\u200B")>=0,Fe=0;for(let je=0;je<X.length();je++){let Ye=X.getSection(je),Ge=X.getCharCode(je);if(N1[Ge]||(Fe+=Kp(Ge,Ye,xe,ke,me,ge)),je<X.length()-1){let mt=!((ye=Ge)<11904||!(Ze["Bopomofo Extended"](ye)||Ze.Bopomofo(ye)||Ze["CJK Compatibility Forms"](ye)||Ze["CJK Compatibility Ideographs"](ye)||Ze["CJK Compatibility"](ye)||Ze["CJK Radicals Supplement"](ye)||Ze["CJK Strokes"](ye)||Ze["CJK Symbols and Punctuation"](ye)||Ze["CJK Unified Ideographs Extension A"](ye)||Ze["CJK Unified Ideographs"](ye)||Ze["Enclosed CJK Letters and Months"](ye)||Ze["Halfwidth and Fullwidth Forms"](ye)||Ze.Hiragana(ye)||Ze["Ideographic Description Characters"](ye)||Ze["Kangxi Radicals"](ye)||Ze["Katakana Phonetic Extensions"](ye)||Ze.Katakana(ye)||Ze["Vertical Forms"](ye)||Ze["Yi Radicals"](ye)||Ze["Yi Syllables"](ye)));(l_[Ge]||mt||Ye.imageName)&&ze.push(Jp(je+1,Fe,Ae,ze,c_(Ge,X.getCharCode(je+1),mt&&Ee),!1))}}var ye;return Qp(Jp(X.length(),Fe,Ae,ze,0,!0))}(L,g,c,e,n,T),{processBidirectionalText:W,processStyledBidirectionalText:j}=y;if(W&&L.sections.length===1){let X=W(L.toString(),U);for(let me of X){let ue=new ml;ue.text=me,ue.sections=L.sections;for(let xe=0;xe<me.length;xe++)ue.sectionIndex.push(0);D.push(ue)}}else if(j){let X=j(L.text,L.sectionIndex,U);for(let me of X){let ue=new ml;ue.text=me[0],ue.sectionIndex=me[1],ue.sections=L.sections,D.push(ue)}}else D=function(X,me){let ue=[],xe=X.text,ke=0;for(let ge of me)ue.push(X.substring(ke,ge)),ke=ge;return ke<xe.length&&ue.push(X.substring(ke,xe.length)),ue}(L,U);let $=[],K={positionedLines:$,text:L.toString(),top:v[1],bottom:v[1],left:v[0],right:v[0],writingMode:b,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(X,me,ue,xe,ke,ge,ze,Ae,Ee,Fe,ye,je){let Ye=0,Ge=0,mt=0,Ve=Ae==="right"?1:Ae==="left"?0:.5,rt=!1;for(let bt of ke){let wt=bt.getSections();for(let Qt of wt){if(Qt.imageName)continue;let ri=me[Qt.fontStack];if(ri&&(rt=ri.ascender!==void 0&&ri.descender!==void 0,!rt))break}if(!rt)break}let ft=0;for(let bt of ke){bt.trim();let wt=bt.getMaxScale(),Qt=(wt-1)*Qi,ri={positionedGlyphs:[],lineOffset:0};X.positionedLines[ft]=ri;let oi=ri.positionedGlyphs,ei=0;if(!bt.length()){Ge+=ge,++ft;continue}let gi=0,vi=0;for(let ti=0;ti<bt.length();ti++){let Di=bt.getSection(ti),Li=bt.getSectionIndex(ti),_i=bt.getCharCode(ti),jt=Di.scale,Ii=null,si=null,_a=null,Pi=Qi,ea=0,Hi=!(Ee===Ga.horizontal||!ye&&!Bc(_i)||ye&&(N1[_i]||(Vt=_i,Ze.Arabic(Vt)||Ze["Arabic Supplement"](Vt)||Ze["Arabic Extended-A"](Vt)||Ze["Arabic Presentation Forms-A"](Vt)||Ze["Arabic Presentation Forms-B"](Vt))));if(Di.imageName){let ya=xe[Di.imageName];if(!ya)continue;_a=Di.imageName,X.iconsInText=X.iconsInText||!0,si=ya.paddedRect;let Gi=ya.displaySize;jt=jt*Qi/je,Ii={width:Gi[0],height:Gi[1],left:Ma,top:-qp,advance:Hi?Gi[1]:Gi[0],localGlyph:!1},ea=rt?-Ii.height*jt:Xp+wt*Qi-Gi[1]*jt,Pi=Ii.advance;let En=(Hi?Gi[0]:Gi[1])*jt-Qi*wt;En>0&&En>ei&&(ei=En)}else{let ya=ue[Di.fontStack];if(!ya)continue;ya[_i]&&(si=ya[_i]);let Gi=me[Di.fontStack];if(!Gi)continue;let En=Gi.glyphs[_i];if(!En)continue;if(Ii=En.metrics,Pi=_i!==8203?Qi:0,rt){let bl=Gi.ascender!==void 0?Math.abs(Gi.ascender):0,x0=Gi.descender!==void 0?Math.abs(Gi.descender):0,b0=(bl+x0)*jt;gi<b0&&(gi=b0,vi=(bl-x0)/2*jt),ea=-bl*jt}else ea=Xp+(wt-jt)*Qi}Hi?(X.verticalizable=!0,oi.push({glyph:_i,imageName:_a,x:Ye,y:Ge+ea,vertical:Hi,scale:jt,localGlyph:Ii.localGlyph,fontStack:Di.fontStack,sectionIndex:Li,metrics:Ii,rect:si}),Ye+=Pi*jt+Fe):(oi.push({glyph:_i,imageName:_a,x:Ye,y:Ge+ea,vertical:Hi,scale:jt,localGlyph:Ii.localGlyph,fontStack:Di.fontStack,sectionIndex:Li,metrics:Ii,rect:si}),Ye+=Ii.advance*jt+Fe)}oi.length!==0&&(mt=Math.max(Ye-Fe,mt),rt?em(oi,Ve,ei,vi,ge*wt/2):em(oi,Ve,ei,0,ge/2)),Ye=0;let Si=ge*wt+ei;ri.lineOffset=Math.max(ei,Qt),Ge+=Si,++ft}var Vt;let gt=Ge,{horizontalAlign:lt,verticalAlign:ci}=Pu(ze);(function(bt,wt,Qt,ri,oi,ei){let gi=(wt-Qt)*oi,vi=-ei*ri;for(let Si of bt)for(let ti of Si.positionedGlyphs)ti.x+=gi,ti.y+=vi})(X.positionedLines,Ve,lt,ci,mt,gt),X.top+=-ci*gt,X.bottom=X.top+gt,X.left+=-lt*mt,X.right=X.left+mt,X.hasBaseline=rt}(K,e,i,n,D,u,p,f,b,g,M,C),!function(X){for(let me of X)if(me.positionedGlyphs.length!==0)return!1;return!0}($)&&K}let N1={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},l_={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Kp(t,e,i,n,s,c){if(e.imageName){let u=n[e.imageName];return u?u.displaySize[0]*e.scale*Qi/c+s:0}{let u=i[e.fontStack],p=u&&u.glyphs[t];return p?p.metrics.advance*e.scale+s:0}}function Yp(t,e,i,n){let s=Math.pow(t-e,2);return n?t<e?s/2:2*s:s+Math.abs(i)*i}function c_(t,e,i){let n=0;return t===10&&(n-=1e4),i&&(n+=150),t!==40&&t!==65288||(n+=50),e!==41&&e!==65289||(n+=50),n}function Jp(t,e,i,n,s,c){let u=null,p=Yp(e,i,s,c);for(let f of n){let g=Yp(e-f.x,i,s,c)+f.badness;g<=p&&(u=f,p=g)}return{index:t,x:e,priorBreak:u,badness:p}}function Qp(t){return t?Qp(t.priorBreak).concat(t.index):[]}function Pu(t){let e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function em(t,e,i,n,s){if(!(e||i||n||s))return;let c=t.length-1,u=t[c],p=(u.x+u.metrics.advance*u.scale)*e;for(let f=0;f<=c;f++)t[f].x-=p,t[f].y+=i+n+s}function h_(t,e,i){let{horizontalAlign:n,verticalAlign:s}=Pu(i),c=e[0]-t.displaySize[0]*n,u=e[1]-t.displaySize[1]*s;return{image:t,top:u,bottom:u+t.displaySize[1],left:c,right:c+t.displaySize[0]}}function tm(t,e,i,n,s,c){let u=t.image,p;if(u.content){let D=u.content,U=u.pixelRatio||1;p=[D[0]/U,D[1]/U,u.displaySize[0]-D[2]/U,u.displaySize[1]-D[3]/U]}let f=e.left*c,g=e.right*c,v,b,M,T;i==="width"||i==="both"?(T=s[0]+f-n[3],b=s[0]+g+n[1]):(T=s[0]+(f+g-u.displaySize[0])/2,b=T+u.displaySize[0]);let C=e.top*c,L=e.bottom*c;return i==="height"||i==="both"?(v=s[1]+C-n[0],M=s[1]+L+n[2]):(v=s[1]+(C+L-u.displaySize[1])/2,M=v+u.displaySize[1]),{image:u,top:v,right:b,bottom:M,left:T,collisionPadding:p}}class yr extends Se{constructor(e,i,n,s,c){super(e,i),this.angle=s,this.z=n,c!==void 0&&(this.segment=c)}clone(){return new yr(this.x,this.y,this.z,this.angle,this.segment)}}function im(t,e,i,n,s){if(e.segment===void 0)return!0;let c=e,u=e.segment+1,p=0;for(;p>-i/2;){if(u--,u<0)return!1;p-=t[u].dist(c),c=t[u]}p+=t[u].dist(t[u+1]),u++;let f=[],g=0;for(;p<i/2;){let v=t[u],b=t[u+1];if(!b)return!1;let M=t[u-1].angleTo(v)-v.angleTo(b);for(M=Math.abs((M+3*Math.PI)%(2*Math.PI)-Math.PI),f.push({distance:p,angleDelta:M}),g+=M;p-f[0].distance>n;)g-=f.shift().angleDelta;if(g>s)return!1;u++,p+=v.dist(b)}return!0}function am(t){let e=0;for(let i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function nm(t,e,i){return t?.6*e*i:0}function rm(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function u_(t,e,i,n,s,c){let u=nm(i,s,c),p=rm(i,n)*c,f=0,g=am(t)/2;for(let v=0;v<t.length-1;v++){let b=t[v],M=t[v+1],T=b.dist(M);if(f+T>g){let C=(g-f)/T,L=Bt(b.x,M.x,C),D=Bt(b.y,M.y,C),U=new yr(L,D,0,M.angleTo(b),v);return!u||im(t,U,p,u,e)?U:void 0}f+=T}}function d_(t,e,i,n,s,c,u,p,f){let g=nm(n,c,u),v=rm(n,s),b=v*u,M=t[0].x===0||t[0].x===f||t[0].y===0||t[0].y===f;return e-b<e/4&&(e=b+e/4),om(t,M?e/2*p%e:(v/2+2*c)*u*p%e,e,g,i,b,M,!1,f)}function om(t,e,i,n,s,c,u,p,f){let g=c/2,v=am(t),b=0,M=e-i,T=[];for(let C=0;C<t.length-1;C++){let L=t[C],D=t[C+1],U=L.dist(D),W=D.angleTo(L);for(;M+i<b+U;){M+=i;let j=(M-b)/U,$=Bt(L.x,D.x,j),K=Bt(L.y,D.y,j);if($>=0&&$<f&&K>=0&&K<f&&M-g>=0&&M+g<=v){let X=new yr($,K,0,W,C);X._round(),n&&!im(t,X,c,n,s)||T.push(X)}}b+=U}return p||T.length||u||(T=om(t,b/2,i,n,s,c,u,!0,f)),T}function sm(t,e,i,n,s){let c=[];for(let u=0;u<t.length;u++){let p=t[u],f;for(let g=0;g<p.length-1;g++){let v=p[g],b=p[g+1];v.x<e&&b.x<e||(v.x<e?v=new Se(e,v.y+(e-v.x)/(b.x-v.x)*(b.y-v.y))._round():b.x<e&&(b=new Se(e,v.y+(e-v.x)/(b.x-v.x)*(b.y-v.y))._round()),v.y<i&&b.y<i||(v.y<i?v=new Se(v.x+(i-v.y)/(b.y-v.y)*(b.x-v.x),i)._round():b.y<i&&(b=new Se(v.x+(i-v.y)/(b.y-v.y)*(b.x-v.x),i)._round()),v.x>=n&&b.x>=n||(v.x>=n?v=new Se(n,v.y+(n-v.x)/(b.x-v.x)*(b.y-v.y))._round():b.x>=n&&(b=new Se(n,v.y+(n-v.x)/(b.x-v.x)*(b.y-v.y))._round()),v.y>=s&&b.y>=s||(v.y>=s?v=new Se(v.x+(s-v.y)/(b.y-v.y)*(b.x-v.x),s)._round():b.y>=s&&(b=new Se(v.x+(s-v.y)/(b.y-v.y)*(b.x-v.x),s)._round()),f&&v.equals(f[f.length-1])||(f=[v],c.push(f)),f.push(b)))))}}return c}Xe(yr,"Anchor");let u0=1e20;function lm(t,e,i,n,s,c,u,p,f){for(let g=e;g<e+n;g++)cm(t,i*c+g,c,s,u,p,f);for(let g=i;g<i+s;g++)cm(t,g*c+e,1,n,u,p,f)}function cm(t,e,i,n,s,c,u){c[0]=0,u[0]=-u0,u[1]=u0,s[0]=t[e];for(let p=1,f=0,g=0;p<n;p++){s[p]=t[e+p*i];let v=p*p;do{let b=c[f];g=(s[p]-s[b]+v-b*b)/(p-b)/2}while(g<=u[f]&&--f>-1);f++,c[f]=p,u[f]=g,u[f+1]=u0}for(let p=0,f=0;p<n;p++){for(;u[f+1]<p;)f++;let g=c[f],v=p-g;t[e+p*i]=s[g]+v*v}}let Tn=2,ku={none:0,ideographs:1,all:2};class fl{constructor(e,i,n){this.requestManager=e,this.localGlyphMode=i,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,i){let n=[];for(let s in e)for(let c of e[s])n.push({stack:s,id:c});Fi(n,({stack:s,id:c},u)=>{let p=this.entries[s];p||(p=this.entries[s]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let f=p.glyphs[c];if(f!==void 0)return void u(null,{stack:s,id:c,glyph:f});if(f=this._tinySDF(p,s,c),f)return p.glyphs[c]=f,void u(null,{stack:s,id:c,glyph:f});let g=Math.floor(c/256);if(256*g>65535)return void u(new Error("glyphs > 65535 not supported"));if(p.ranges[g])return void u(null,{stack:s,id:c,glyph:f});let v=p.requests[g];v||(v=p.requests[g]=[],fl.loadGlyphRange(s,g,this.url,this.requestManager,(b,M)=>{if(M){p.ascender=M.ascender,p.descender=M.descender;for(let T in M.glyphs)this._doesCharSupportLocalGlyph(+T)||(p.glyphs[+T]=M.glyphs[+T]);p.ranges[g]=!0}for(let T of v)T(b,M);delete p.requests[g]})),v.push((b,M)=>{b?u(b):M&&u(null,{stack:s,id:c,glyph:M.glyphs[c]||null})})},(s,c)=>{if(s)i(s);else if(c){let u={};for(let{stack:p,id:f,glyph:g}of c)u[p]===void 0&&(u[p]={}),u[p].glyphs===void 0&&(u[p].glyphs={}),u[p].glyphs[f]=g&&{id:g.id,bitmap:g.bitmap.clone(),metrics:g.metrics},u[p].ascender=this.entries[p].ascender,u[p].descender=this.entries[p].descender;i(null,u)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==ku.none&&(this.localGlyphMode===ku.all?!!this.localFontFamily:!!this.localFontFamily&&(Ze["CJK Unified Ideographs"](e)||Ze["Hangul Syllables"](e)||Ze.Hiragana(e)||Ze.Katakana(e)||Ze["CJK Symbols and Punctuation"](e)))}_tinySDF(e,i,n){let s=this.localFontFamily;if(!s||!this._doesCharSupportLocalGlyph(n))return;let c=e.tinySDF;if(!c){let L="400";/bold/i.test(i)?L="900":/medium/i.test(i)?L="500":/light/i.test(i)&&(L="200"),c=e.tinySDF=new fl.TinySDF({fontFamily:s,fontWeight:L,fontSize:24*Tn,buffer:3*Tn,radius:8*Tn}),c.fontWeight=L}if(this.localGlyphs[c.fontWeight][n])return this.localGlyphs[c.fontWeight][n];let u=String.fromCharCode(n),{data:p,width:f,height:g,glyphWidth:v,glyphHeight:b,glyphLeft:M,glyphTop:T,glyphAdvance:C}=c.draw(u);return this.localGlyphs[c.fontWeight][n]={id:n,bitmap:new gr({width:f,height:g},p),metrics:{width:v/Tn,height:b/Tn,left:M/Tn,top:T/Tn-27,advance:C/Tn,localGlyph:!0}}}}fl.loadGlyphRange=function(t,e,i,n,s){let c=256*e,u=c+255,p=n.transformRequest(n.normalizeGlyphsURL(i).replace("{fontstack}",t).replace("{range}",`${c}-${u}`),Jn.Glyphs);Cr(p,(f,g)=>{if(f)s(f);else if(g){let v={},b=function(M){return new V1(M).readFields(r_,{})}(g);for(let M of b.glyphs)v[M.id]=M;s(null,{glyphs:v,ascender:b.ascender,descender:b.descender})}})},fl.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:i=8,cutoff:n=.25,fontFamily:s="sans-serif",fontWeight:c="normal",fontStyle:u="normal"}={}){this.buffer=e,this.cutoff=n,this.radius=i;let p=this.size=t+4*e,f=this._createCanvas(p),g=this.ctx=f.getContext("2d",{willReadFrequently:!0});g.font=`${u} ${c} ${t}px ${s}`,g.textBaseline="alphabetic",g.textAlign="left",g.fillStyle="black",this.gridOuter=new Float64Array(p*p),this.gridInner=new Float64Array(p*p),this.f=new Float64Array(p),this.z=new Float64Array(p+1),this.v=new Uint16Array(p)}_createCanvas(t){let e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){let{width:e,actualBoundingBoxAscent:i,actualBoundingBoxDescent:n,actualBoundingBoxLeft:s,actualBoundingBoxRight:c}=this.ctx.measureText(t),u=Math.ceil(i),p=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(c-s))),f=Math.min(this.size-this.buffer,u+Math.ceil(n)),g=p+2*this.buffer,v=f+2*this.buffer,b=Math.max(g*v,0),M=new Uint8ClampedArray(b),T={data:M,width:g,height:v,glyphWidth:p,glyphHeight:f,glyphTop:u,glyphLeft:0,glyphAdvance:e};if(p===0||f===0)return T;let{ctx:C,buffer:L,gridInner:D,gridOuter:U}=this;C.clearRect(L,L,p,f),C.fillText(t,L,L+u);let W=C.getImageData(L,L,p,f);U.fill(u0,0,b),D.fill(0,0,b);for(let j=0;j<f;j++)for(let $=0;$<p;$++){let K=W.data[4*(j*p+$)+3]/255;if(K===0)continue;let X=(j+L)*g+$+L;if(K===1)U[X]=0,D[X]=u0;else{let me=.5-K;U[X]=me>0?me*me:0,D[X]=me<0?me*me:0}}lm(U,0,0,g,v,g,this.f,this.v,this.z),lm(D,L,L,p,f,g,this.f,this.v,this.z);for(let j=0;j<b;j++){let $=Math.sqrt(U[j])-Math.sqrt(D[j]);M[j]=Math.round(255-255*($/this.radius+this.cutoff))}return T}};let gl=Ma;function hm(t,e,i,n){let s=[],c=t.image,u=c.pixelRatio,p=c.paddedRect.w-2*gl,f=c.paddedRect.h-2*gl,g=t.right-t.left,v=t.bottom-t.top,b=c.stretchX||[[0,p]],M=c.stretchY||[[0,f]],T=(ge,ze)=>ge+ze[1]-ze[0],C=b.reduce(T,0),L=M.reduce(T,0),D=p-C,U=f-L,W=0,j=C,$=0,K=L,X=0,me=D,ue=0,xe=U;if(c.content&&n){let ge=c.content;W=U1(b,0,ge[0]),$=U1(M,0,ge[1]),j=U1(b,ge[0],ge[2]),K=U1(M,ge[1],ge[3]),X=ge[0]-W,ue=ge[1]-$,me=ge[2]-ge[0]-j,xe=ge[3]-ge[1]-K}let ke=(ge,ze,Ae,Ee)=>{let Fe=j1(ge.stretch-W,j,g,t.left),ye=H1(ge.fixed-X,me,ge.stretch,C),je=j1(ze.stretch-$,K,v,t.top),Ye=H1(ze.fixed-ue,xe,ze.stretch,L),Ge=j1(Ae.stretch-W,j,g,t.left),mt=H1(Ae.fixed-X,me,Ae.stretch,C),Ve=j1(Ee.stretch-$,K,v,t.top),rt=H1(Ee.fixed-ue,xe,Ee.stretch,L),ft=new Se(Fe,je),Vt=new Se(Ge,je),gt=new Se(Ge,Ve),lt=new Se(Fe,Ve),ci=new Se(ye/u,Ye/u),bt=new Se(mt/u,rt/u),wt=e*Math.PI/180;if(wt){let oi=Math.sin(wt),ei=Math.cos(wt),gi=[ei,-oi,oi,ei];ft._matMult(gi),Vt._matMult(gi),lt._matMult(gi),gt._matMult(gi)}let Qt=ge.stretch+ge.fixed,ri=ze.stretch+ze.fixed;return{tl:ft,tr:Vt,bl:lt,br:gt,tex:{x:c.paddedRect.x+gl+Qt,y:c.paddedRect.y+gl+ri,w:Ae.stretch+Ae.fixed-Qt,h:Ee.stretch+Ee.fixed-ri},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ci,pixelOffsetBR:bt,minFontScaleX:me/u/g,minFontScaleY:xe/u/v,isSDF:i}};if(n&&(c.stretchX||c.stretchY)){let ge=um(b,D,C),ze=um(M,U,L);for(let Ae=0;Ae<ge.length-1;Ae++){let Ee=ge[Ae],Fe=ge[Ae+1];for(let ye=0;ye<ze.length-1;ye++)s.push(ke(Ee,ze[ye],Fe,ze[ye+1]))}}else s.push(ke({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:p+1},{fixed:0,stretch:f+1}));return s}function U1(t,e,i){let n=0;for(let s of t)n+=Math.max(e,Math.min(i,s[1]))-Math.max(e,Math.min(i,s[0]));return n}function um(t,e,i){let n=[{fixed:-gl,stretch:0}];for(let[s,c]of t){let u=n[n.length-1];n.push({fixed:s-u.stretch,stretch:u.stretch}),n.push({fixed:s-u.stretch,stretch:u.stretch+(c-s)})}return n.push({fixed:e+gl,stretch:i}),n}function j1(t,e,i,n){return t/e*i+n}function H1(t,e,i,n){return t-e*i/n}function p_(t,e,i,n){let s=e+t.positionedLines[n].lineOffset;return n===0?i+s/2:i+(s+(e+t.positionedLines[n-1].lineOffset))/2}class m_{constructor(e=[],i=f_){if(this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;let e=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),e}peek(){return this.data[0]}_up(e){let{data:i,compare:n}=this,s=i[e];for(;e>0;){let c=e-1>>1,u=i[c];if(n(s,u)>=0)break;i[e]=u,e=c}i[e]=s}_down(e){let{data:i,compare:n}=this,s=this.length>>1,c=i[e];for(;e<s;){let u=1+(e<<1),p=i[u],f=u+1;if(f<this.length&&n(i[f],p)<0&&(u=f,p=i[f]),n(p,c)>=0)break;i[e]=p,e=u}i[e]=c}}function f_(t,e){return t<e?-1:t>e?1:0}function g_(t,e=1,i=!1){let n=1/0,s=1/0,c=-1/0,u=-1/0,p=t[0];for(let T=0;T<p.length;T++){let C=p[T];(!T||C.x<n)&&(n=C.x),(!T||C.y<s)&&(s=C.y),(!T||C.x>c)&&(c=C.x),(!T||C.y>u)&&(u=C.y)}let f=Math.min(c-n,u-s),g=f/2,v=new m_([],__);if(f===0)return new Se(n,s);for(let T=n;T<c;T+=f)for(let C=s;C<u;C+=f)v.push(new _l(T+g,C+g,g,t));let b=function(T){let C=0,L=0,D=0,U=T[0];for(let W=0,j=U.length,$=j-1;W<j;$=W++){let K=U[W],X=U[$],me=K.x*X.y-X.x*K.y;L+=(K.x+X.x)*me,D+=(K.y+X.y)*me,C+=3*me}return new _l(L/C,D/C,0,T)}(t),M=v.length;for(;v.length;){let T=v.pop();(T.d>b.d||!b.d)&&(b=T,i&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,M)),T.max-b.d<=e||(g=T.h/2,v.push(new _l(T.p.x-g,T.p.y-g,g,t)),v.push(new _l(T.p.x+g,T.p.y-g,g,t)),v.push(new _l(T.p.x-g,T.p.y+g,g,t)),v.push(new _l(T.p.x+g,T.p.y+g,g,t)),M+=4)}return i&&(console.log(`num probes: ${M}`),console.log(`best distance: ${b.d}`)),b.p}function __(t,e){return e.max-t.max}class _l{constructor(e,i,n,s){this.p=new Se(e,i),this.h=n,this.d=function(c,u){let p=!1,f=1/0;for(let g=0;g<u.length;g++){let v=u[g];for(let b=0,M=v.length,T=M-1;b<M;T=b++){let C=v[b],L=v[T];C.y>c.y!=L.y>c.y&&c.x<(L.x-C.x)*(c.y-C.y)/(L.y-C.y)+C.x&&(p=!p),f=Math.min(f,op(c,C,L))}}return(p?1:-1)*Math.sqrt(f)}(this.p,s),this.max=this.d+this.h*Math.SQRT2}}let yl=7,Du=Number.POSITIVE_INFINITY,y_=Math.sqrt(2);function dm(t,[e,i]){let n=0,s=0;if(i===Du){e<0&&(e=0);let c=e/y_;switch(t){case"top-right":case"top-left":s=c-yl;break;case"bottom-right":case"bottom-left":s=-c+yl;break;case"bottom":s=-e+yl;break;case"top":s=e-yl}switch(t){case"top-right":case"bottom-right":n=-c;break;case"top-left":case"bottom-left":n=c;break;case"left":n=e;break;case"right":n=-e}}else{switch(e=Math.abs(e),i=Math.abs(i),t){case"top-right":case"top-left":case"top":s=i-yl;break;case"bottom-right":case"bottom-left":case"bottom":s=-i+yl}switch(t){case"top-right":case"bottom-right":case"right":n=-e;break;case"top-left":case"bottom-left":case"left":n=e}}return[n,s]}function v_(t,e,i,n,s,c,u,p,f,g){t.createArrays(),t.tilePixelRatio=ot/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;let v=t.layers[0].layout,b=t.layers[0]._unevaluatedLayout._values,M={};if(t.textSizeData.kind==="composite"){let{minZoom:L,maxZoom:D}=t.textSizeData;M.compositeTextSizes=[b["text-size"].possiblyEvaluate(new x(L),p),b["text-size"].possiblyEvaluate(new x(D),p)]}if(t.iconSizeData.kind==="composite"){let{minZoom:L,maxZoom:D}=t.iconSizeData;M.compositeIconSizes=[b["icon-size"].possiblyEvaluate(new x(L),p),b["icon-size"].possiblyEvaluate(new x(D),p)]}M.layoutTextSize=b["text-size"].possiblyEvaluate(new x(f+1),p),M.layoutIconSize=b["icon-size"].possiblyEvaluate(new x(f+1),p),M.textMaxSize=b["text-size"].possiblyEvaluate(new x(18),p);let T=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point",C=v.get("text-size");for(let L of t.features){let D=v.get("text-font").evaluate(L,{},p).join(","),U=C.evaluate(L,{},p),W=M.layoutTextSize.evaluate(L,{},p),j=(M.layoutIconSize.evaluate(L,{},p),{horizontal:{},vertical:void 0}),$=L.text,K,X=[0,0];if($){let xe=$.toString(),ke=v.get("text-letter-spacing").evaluate(L,{},p)*Qi,ge=v.get("text-line-height").evaluate(L,{},p)*Qi,ze=Hh(xe)?ke:0,Ae=v.get("text-anchor").evaluate(L,{},p),Ee=v.get("text-variable-anchor");if(!Ee){let Ge=v.get("text-radial-offset").evaluate(L,{},p);X=Ge?dm(Ae,[Ge*Qi,Du]):v.get("text-offset").evaluate(L,{},p).map(mt=>mt*Qi)}let Fe=T?"center":v.get("text-justify").evaluate(L,{},p),ye=v.get("symbol-placement")==="point",je=ye?v.get("text-max-width").evaluate(L,{},p)*Qi:1/0,Ye=Ge=>{t.allowVerticalPlacement&&Rc(xe)&&(j.vertical=Iu($,e,i,s,D,je,ge,Ae,Ge,ze,X,Ga.vertical,!0,W,U))};if(!T&&Ee){let Ge=Fe==="auto"?Ee.map(Ve=>Ou(Ve)):[Fe],mt=!1;for(let Ve=0;Ve<Ge.length;Ve++){let rt=Ge[Ve];if(!j.horizontal[rt])if(mt)j.horizontal[rt]=j.horizontal[0];else{let ft=Iu($,e,i,s,D,je,ge,"center",rt,ze,X,Ga.horizontal,!1,W,U);ft&&(j.horizontal[rt]=ft,mt=ft.positionedLines.length===1)}}Ye("left")}else{if(Fe==="auto"&&(Fe=Ou(Ae)),ye||v.get("text-writing-mode").indexOf("horizontal")>=0||!Rc(xe)){let Ge=Iu($,e,i,s,D,je,ge,Ae,Fe,ze,X,Ga.horizontal,!1,W,U);Ge&&(j.horizontal[Fe]=Ge)}Ye(ye?"left":Fe)}}let me=!1;if(L.icon&&L.icon.name){let xe=n[L.icon.name];xe&&(K=h_(s[L.icon.name],v.get("icon-offset").evaluate(L,{},p),v.get("icon-anchor").evaluate(L,{},p)),me=xe.sdf,t.sdfIcons===void 0?t.sdfIcons=xe.sdf:t.sdfIcons!==xe.sdf&&mi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xe.pixelRatio!==t.pixelRatio||v.get("icon-rotate").constantOr(1)!==0)&&(t.iconsNeedLinear=!0))}let ue=mm(j.horizontal)||j.vertical;t.iconsInText||(t.iconsInText=!!ue&&ue.iconsInText),(ue||K)&&x_(t,L,j,K,n,M,W,0,X,me,u,p,g)}c&&t.generateCollisionDebugBuffers(f,t.collisionBoxArray)}function Ou(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function x_(t,e,i,n,s,c,u,p,f,g,v,b,M){let T=c.textMaxSize.evaluate(e,{},b);T===void 0&&(T=u);let C=t.layers[0].layout,L=C.get("icon-offset").evaluate(e,{},b),D=mm(i.horizontal)||i.vertical,U=M.name==="globe",W=Qi,j=u/W,$=t.tilePixelRatio*T/W,K=(Ae=t.overscaling,t.zoom>18&&Ae>2&&(Ae>>=1),Math.max(ot/(512*Ae),1)*C.get("symbol-spacing")),X=C.get("text-padding")*t.tilePixelRatio,me=C.get("icon-padding")*t.tilePixelRatio,ue=Mt(C.get("text-max-angle")),xe=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point",ke=C.get("icon-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point",ge=C.get("symbol-placement"),ze=K/2;var Ae;let Ee=C.get("icon-text-fit"),Fe;n&&Ee!=="none"&&(t.allowVerticalPlacement&&i.vertical&&(Fe=tm(n,i.vertical,Ee,C.get("icon-text-fit-padding"),L,j)),D&&(n=tm(n,D,Ee,C.get("icon-text-fit-padding"),L,j)));let ye=(je,Ye,Ge)=>{if(Ye.x<0||Ye.x>=ot||Ye.y<0||Ye.y>=ot)return;let mt=null;if(U){let{x:Ve,y:rt,z:ft}=M.projectTilePoint(Ye.x,Ye.y,Ge);mt={anchor:new yr(Ve,rt,ft,0,void 0),up:M.upVector(Ge,Ye.x,Ye.y)}}(function(Ve,rt,ft,Vt,gt,lt,ci,bt,wt,Qt,ri,oi,ei,gi,vi,Si,ti,Di,Li,_i,jt,Ii,si,_a,Pi){let ea=Ve.addToLineVertexArray(rt,Vt),Hi,ya,Gi,En,bl,x0,b0,qm=0,Wm=0,Xm=0,Km=0,Ku=-1,Yu=-1,qn={},Ym=$h(""),ss=ft?ft.anchor:rt,Ju=0,Qu=0;if(wt._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Ju,Qu]=wt.layout.get("text-offset").evaluate(jt,{},Pi).map(Da=>Da*Qi):(Ju=wt.layout.get("text-radial-offset").evaluate(jt,{},Pi)*Qi,Qu=Du),Ve.allowVerticalPlacement&&gt.vertical){let Da=gt.vertical;if(vi)x0=Ru(Da),bt&&(b0=Ru(bt));else{let Oa=wt.layout.get("text-rotate").evaluate(jt,{},Pi)+90;Gi=G1(Qt,ss,rt,ri,oi,ei,Da,gi,Oa,Si),bt&&(En=G1(Qt,ss,rt,ri,oi,ei,bt,Di,Oa))}}if(lt){let Da=wt.layout.get("icon-rotate").evaluate(jt,{},Pi),Oa=wt.layout.get("icon-text-fit")!=="none",w0=hm(lt,Da,si,Oa),td=bt?hm(bt,Da,si,Oa):void 0;ya=G1(Qt,ss,rt,ri,oi,ei,lt,Di,Da),qm=4*w0.length;let Jm=Ve.iconSizeData,ls=null;Jm.kind==="source"?(ls=[An*wt.layout.get("icon-size").evaluate(jt,{},Pi)],ls[0]>Yr&&mi(`${Ve.layerIds[0]}: Value for "icon-size" is >= ${d0}. Reduce your "icon-size".`)):Jm.kind==="composite"&&(ls=[An*Ii.compositeIconSizes[0].evaluate(jt,{},Pi),An*Ii.compositeIconSizes[1].evaluate(jt,{},Pi)],(ls[0]>Yr||ls[1]>Yr)&&mi(`${Ve.layerIds[0]}: Value for "icon-size" is >= ${d0}. Reduce your "icon-size".`)),Ve.addSymbols(Ve.icon,w0,ls,_i,Li,jt,!1,ft,rt,ea.lineStartIndex,ea.lineLength,-1,_a,Pi),Ku=Ve.icon.placedSymbolArray.length-1,td&&(Wm=4*td.length,Ve.addSymbols(Ve.icon,td,ls,_i,Li,jt,Ga.vertical,ft,rt,ea.lineStartIndex,ea.lineLength,-1,_a,Pi),Yu=Ve.icon.placedSymbolArray.length-1)}for(let Da in gt.horizontal){let Oa=gt.horizontal[Da];Hi||(Ym=$h(Oa.text),vi?bl=Ru(Oa):Hi=G1(Qt,ss,rt,ri,oi,ei,Oa,gi,wt.layout.get("text-rotate").evaluate(jt,{},Pi),Si));let w0=Oa.positionedLines.length===1;if(Xm+=pm(Ve,ft,rt,Oa,ci,wt,vi,jt,Si,ea,gt.vertical?Ga.horizontal:Ga.horizontalOnly,w0?Object.keys(gt.horizontal):[Da],qn,Ku,Ii,_a,Pi),w0)break}gt.vertical&&(Km+=pm(Ve,ft,rt,gt.vertical,ci,wt,vi,jt,Si,ea,Ga.vertical,["vertical"],qn,Yu,Ii,_a,Pi));let ao=-1,ed=(Da,Oa)=>Da?Math.max(Da,Oa):Oa;ao=ed(bl,ao),ao=ed(x0,ao),ao=ed(b0,ao);let W_=ao>-1?1:0;Ve.glyphOffsetArray.length>=Qr.MAX_GLYPHS&&mi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),jt.sortKey!==void 0&&Ve.addToSortKeyRanges(Ve.symbolInstances.length,jt.sortKey),Ve.symbolInstances.emplaceBack(ss.x,ss.y,ss.z,rt.x,rt.y,qn.right>=0?qn.right:-1,qn.center>=0?qn.center:-1,qn.left>=0?qn.left:-1,qn.vertical>=0?qn.vertical:-1,Ku,Yu,Ym,Hi!==void 0?Hi:Ve.collisionBoxArray.length,Hi!==void 0?Hi+1:Ve.collisionBoxArray.length,Gi!==void 0?Gi:Ve.collisionBoxArray.length,Gi!==void 0?Gi+1:Ve.collisionBoxArray.length,ya!==void 0?ya:Ve.collisionBoxArray.length,ya!==void 0?ya+1:Ve.collisionBoxArray.length,En||Ve.collisionBoxArray.length,En?En+1:Ve.collisionBoxArray.length,ri,Xm,Km,qm,Wm,W_,0,Ju,Qu,ao)})(t,Ye,mt,je,i,n,s,Fe,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,X,xe,f,0,me,ke,L,e,c,g,v,b)};if(ge==="line")for(let je of sm(e.geometry,0,0,ot,ot)){let Ye=d_(je,K,ue,i.vertical||D,n,W,$,t.overscaling,ot);for(let Ge of Ye)D&&b_(t,D.text,ze,Ge)||ye(je,Ge,b)}else if(ge==="line-center"){for(let je of e.geometry)if(je.length>1){let Ye=u_(je,ue,i.vertical||D,n,W,$);Ye&&ye(je,Ye,b)}}else if(e.type==="Polygon")for(let je of wu(e.geometry,0)){let Ye=g_(je,16);ye(je[0],new yr(Ye.x,Ye.y,0,0,void 0),b)}else if(e.type==="LineString")for(let je of e.geometry)ye(je,new yr(je[0].x,je[0].y,0,0,void 0),b);else if(e.type==="Point")for(let je of e.geometry)for(let Ye of je)ye([Ye],new yr(Ye.x,Ye.y,0,0,void 0),b)}let d0=255,Yr=d0*An;function pm(t,e,i,n,s,c,u,p,f,g,v,b,M,T,C,L,D){let U=function($,K,X,me,ue,xe,ke,ge){let ze=[];if(K.positionedLines.length===0)return ze;let Ae=me.layout.get("text-rotate").evaluate(xe,{})*Math.PI/180,Ee=function(Ge){let mt=Ge[0],Ve=Ge[1],rt=mt*Ve;return rt>0?[mt,-Ve]:rt<0?[-mt,Ve]:mt===0?[Ve,mt]:[Ve,-mt]}(X),Fe=Math.abs(K.top-K.bottom);for(let Ge of K.positionedLines)Fe-=Ge.lineOffset;let ye=K.positionedLines.length,je=Fe/ye,Ye=K.top-X[1];for(let Ge=0;Ge<ye;++Ge){let mt=K.positionedLines[Ge];Ye=p_(K,je,Ye,Ge);for(let Ve of mt.positionedGlyphs){if(!Ve.rect)continue;let rt=Ve.rect||{},ft=qp+1,Vt=!0,gt=1,lt=0;if(Ve.imageName){let si=ke[Ve.imageName];if(!si)continue;if(si.sdf){mi("SDF images are not supported in formatted text and will be ignored.");continue}Vt=!1,gt=si.pixelRatio,ft=Ma/gt}let ci=(ue||ge)&&Ve.vertical,bt=Ve.metrics.advance*Ve.scale/2,wt=Ve.metrics,Qt=Ve.rect;if(Qt===null)continue;ge&&K.verticalizable&&(lt=Ve.imageName?bt-Ve.metrics.width*Ve.scale/2:0);let ri=ue?[Ve.x+bt,Ve.y]:[0,0],oi=[0,0],ei=[0,0],gi=!1;ue||(ci?(ei=[Ve.x+bt+Ee[0],Ve.y+Ee[1]-lt],gi=!0):oi=[Ve.x+bt+X[0],Ve.y+X[1]-lt]);let vi=Qt.w*Ve.scale/(gt*(Ve.localGlyph?Tn:1)),Si=Qt.h*Ve.scale/(gt*(Ve.localGlyph?Tn:1)),ti,Di,Li,_i;if(ci){let si=Ve.y-Ye,_a=new Se(-bt,bt-si),Pi=-Math.PI/2,ea=new Se(...ei);ti=new Se(-bt+oi[0],oi[1]),ti._rotateAround(Pi,_a)._add(ea),ti.x+=-si+bt,ti.y-=(wt.left-ft)*Ve.scale;let Hi=Ve.imageName?wt.advance*Ve.scale:Qi*Ve.scale,ya=String.fromCharCode(Ve.glyph);W2(ya)?ti.x+=(1-ft)*Ve.scale:X2(ya)?ti.x+=Hi-wt.height*Ve.scale+(-ft-1)*Ve.scale:ti.x+=Ve.imageName||wt.width+2*ft===Qt.w&&wt.height+2*ft===Qt.h?(Hi-Si)/2:(Hi-(wt.height+2*ft)*Ve.scale)/2,Di=new Se(ti.x,ti.y-vi),Li=new Se(ti.x+Si,ti.y),_i=new Se(ti.x+Si,ti.y-vi)}else{let si=(wt.left-ft)*Ve.scale-bt+oi[0],_a=(-wt.top-ft)*Ve.scale+oi[1],Pi=si+vi,ea=_a+Si;ti=new Se(si,_a),Di=new Se(Pi,_a),Li=new Se(si,ea),_i=new Se(Pi,ea)}if(Ae){let si;si=ue?new Se(0,0):gi?new Se(Ee[0],Ee[1]):new Se(X[0],X[1]),ti._rotateAround(Ae,si),Di._rotateAround(Ae,si),Li._rotateAround(Ae,si),_i._rotateAround(Ae,si)}let jt=new Se(0,0),Ii=new Se(0,0);ze.push({tl:ti,tr:Di,bl:Li,br:_i,tex:rt,writingMode:K.writingMode,glyphOffset:ri,sectionIndex:Ve.sectionIndex,isSDF:Vt,pixelOffsetTL:jt,pixelOffsetBR:Ii,minFontScaleX:0,minFontScaleY:0})}}return ze}(0,n,f,c,u,p,s,t.allowVerticalPlacement),W=t.textSizeData,j=null;W.kind==="source"?(j=[An*c.layout.get("text-size").evaluate(p,{},D)],j[0]>Yr&&mi(`${t.layerIds[0]}: Value for "text-size" is >= ${d0}. Reduce your "text-size".`)):W.kind==="composite"&&(j=[An*C.compositeTextSizes[0].evaluate(p,{},D),An*C.compositeTextSizes[1].evaluate(p,{},D)],(j[0]>Yr||j[1]>Yr)&&mi(`${t.layerIds[0]}: Value for "text-size" is >= ${d0}. Reduce your "text-size".`)),t.addSymbols(t.text,U,j,f,u,p,v,e,i,g.lineStartIndex,g.lineLength,T,L,D);for(let $ of b)M[$]=t.text.placedSymbolArray.length-1;return 4*U.length}function mm(t){for(let e in t)return t[e];return null}function G1(t,e,i,n,s,c,u,p,f,g){let v=u.top,b=u.bottom,M=u.left,T=u.right,C=u.collisionPadding;if(C&&(M-=C[0],v-=C[1],T+=C[2],b+=C[3]),f){let L=new Se(M,v),D=new Se(T,v),U=new Se(M,b),W=new Se(T,b),j=Mt(f),$=new Se(0,0);g&&($=new Se(g[0],g[1])),L._rotateAround(j,$),D._rotateAround(j,$),U._rotateAround(j,$),W._rotateAround(j,$),M=Math.min(L.x,D.x,U.x,W.x),T=Math.max(L.x,D.x,U.x,W.x),v=Math.min(L.y,D.y,U.y,W.y),b=Math.max(L.y,D.y,U.y,W.y)}return t.emplaceBack(e.x,e.y,e.z,i.x,i.y,M,v,T,b,p,n,s,c),t.length-1}function Ru(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);let e=t.bottom-t.top;return e>0?Math.max(10,e):null}function b_(t,e,i,n){let s=t.compareText;if(e in s){let c=s[e];for(let u=c.length-1;u>=0;u--)if(n.dist(c[u])<i)return!0}else s[e]=[];return s[e].push(n),!1}function fm(t,e){let i=t.fovAboveCenter,n=t.elevation?t.elevation.getMinElevationBelowMSL()*e:0,s=(t._camera.position[2]*t.worldSize-n)/Math.cos(t._pitch),c=Math.sin(i)*s/Math.sin(Math.max(Math.PI/2-t._pitch-i,.01)),u=Math.sin(t._pitch)*c+s;return Math.min(1.01*u,s*(1/t._horizonShift))}function rs(t,e){if(!e.isReprojectedInTileSpace)return{scale:1<<t.z,x:t.x,y:t.y,x2:t.x+1,y2:t.y+1,projection:e};let i=Math.pow(2,-t.z),n=t.x*i,s=(t.x+1)*i,c=t.y*i,u=(t.y+1)*i,p=Ha(n),f=Ha(s),g=oa(c),v=oa(u),b=e.project(p,g),M=e.project(f,g),T=e.project(f,v),C=e.project(p,v),L=Math.min(b.x,M.x,T.x,C.x),D=Math.min(b.y,M.y,T.y,C.y),U=Math.max(b.x,M.x,T.x,C.x),W=Math.max(b.y,M.y,T.y,C.y),j=i/16;function $(X,me,ue,xe,ke,ge){let ze=(ue+ke)/2,Ae=(xe+ge)/2,Ee=e.project(Ha(ze),oa(Ae)),Fe=Math.max(0,L-Ee.x,D-Ee.y,Ee.x-U,Ee.y-W);L=Math.min(L,Ee.x),U=Math.max(U,Ee.x),D=Math.min(D,Ee.y),W=Math.max(W,Ee.y),Fe>j&&($(X,Ee,ue,xe,ze,Ae),$(Ee,me,ze,Ae,ke,ge))}$(b,M,n,c,s,c),$(M,T,s,c,s,u),$(T,C,s,u,n,u),$(C,b,n,u,n,c),L-=j,D-=j,U+=j,W+=j;let K=1/Math.max(U-L,W-D);return{scale:K,x:L*K,y:D*K,x2:U*K,y2:W*K,projection:e}}let w_=wn(new Float32Array(16));class Jr{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,i){return{x:0,y:0,z:0}}unproject(e,i){return new Jt(0,0)}projectTilePoint(e,i,n){return{x:e,y:i,z:0}}locationPoint(e,i,n=!0){return e._coordinatePoint(e.locationCoordinate(i),n)}pixelsPerMeter(e,i){return zn(1,e)*i}pixelSpaceConversion(e,i,n){return 1}farthestPixelDistance(e){return fm(e,e.pixelsPerMeter)}pointCoordinate(e,i,n,s){let c=e.horizonLineFromTop(!1),u=new Se(i,Math.max(c,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(u,s))}pointCoordinate3D(e,i,n){let s=new Se(i,n);if(e.elevation)return e.elevation.pointCoordinate(s);{let c=this.pointCoordinate(e,s.x,s.y,0);return[c.x,c.y,c.z]}}isPointAboveHorizon(e,i){if(e.elevation)return!this.pointCoordinate3D(e,i.x,i.y);let n=e.horizonLineFromTop();return i.y<n}createInversionMatrix(e,i){return w_}createTileMatrix(e,i,n){let s,c,u,p=n.canonical,f=wn(new Float64Array(16));if(this.isReprojectedInTileSpace){let g=rs(p,this);s=1,c=g.x+n.wrap*g.scale,u=g.y,Jo(f,f,[s/g.scale,s/g.scale,e.pixelsPerMeter/i])}else s=i/e.zoomScale(p.z),c=(p.x+Math.pow(2,p.z)*n.wrap)*s,u=p.y*s;return Hc(f,f,[c,u,0]),Jo(f,f,[s/ot,s/ot,1]),f}upVector(e,i,n){return[0,0,1]}upVectorScale(e,i,n){return{metersToTile:1}}}class M_ extends Jr{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];let[i,n]=this.parallels=e.parallels||[29.5,45.5],s=Math.sin(Mt(i));this.n=(s+Math.sin(Mt(n)))/2,this.c=1+s*(2*this.n-s),this.r0=Math.sqrt(this.c)/this.n}project(e,i){let{n,c:s,r0:c}=this,u=Mt(e-this.center[0]),p=Mt(i),f=Math.sqrt(s-2*n*Math.sin(p))/n;return{x:f*Math.sin(u*n),y:f*Math.cos(u*n)-c,z:0}}unproject(e,i){let{n,c:s,r0:c}=this,u=c+i,p=Math.atan2(e,Math.abs(u))*Math.sign(u);u*n<0&&(p-=Math.PI*Math.sign(e)*Math.sign(u));let f=Mt(this.center[0])*n;p=Oi(p,-Math.PI-f,Math.PI-f);let g=Pt(xi(p/n)+this.center[0],-180,180),v=Math.asin(Pt((s-(e*e+u*u)*n*n)/(2*n),-1,1)),b=Pt(xi(v),-sa,sa);return new Jt(g,b)}}let p0=1.340264,m0=-.081106,f0=893e-6,g0=.003796,Z1=Math.sqrt(3)/2;class z_ extends Jr{project(e,i){i=i/180*Math.PI,e=e/180*Math.PI;let n=Math.asin(Z1*Math.sin(i)),s=n*n,c=s*s*s;return{x:.5*(e*Math.cos(n)/(Z1*(p0+3*m0*s+c*(7*f0+9*g0*s)))/Math.PI+.5),y:1-.5*(n*(p0+m0*s+c*(f0+g0*s))/Math.PI+1),z:0}}unproject(e,i){e=(2*e-.5)*Math.PI;let n=i=(2*(1-i)-1)*Math.PI,s=n*n,c=s*s*s;for(let v,b,M,T=0;T<12&&(b=n*(p0+m0*s+c*(f0+g0*s))-i,M=p0+3*m0*s+c*(7*f0+9*g0*s),v=b/M,n=Pt(n-v,-Math.PI/3,Math.PI/3),s=n*n,c=s*s*s,!(Math.abs(v)<1e-12));++T);let u=Z1*e*(p0+3*m0*s+c*(7*f0+9*g0*s))/Math.cos(n),p=Math.asin(Math.sin(n)/Z1),f=Pt(180*u/Math.PI,-180,180),g=Pt(180*p/Math.PI,-sa,sa);return new Jt(f,g)}}class A_ extends Jr{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,i){return{x:.5+e/360,y:.5-i/360,z:0}}unproject(e,i){let n=360*(e-.5),s=Pt(360*(.5-i),-sa,sa);return new Jt(n,s)}}let vl=Math.PI/2;function $1(t){return Math.tan((vl+t)/2)}class T_ extends Jr{constructor(e){super(e),this.center=e.center||[0,30];let[i,n]=this.parallels=e.parallels||[30,30],s=Mt(i),c=Mt(n);this.southernCenter=s+c<0,this.southernCenter&&(s=-s,c=-c);let u=Math.cos(s),p=$1(s);this.n=s===c?Math.sin(s):Math.log(u/Math.cos(c))/Math.log($1(c)/p),this.f=u*Math.pow($1(s),this.n)/this.n}project(e,i){i=Mt(i),this.southernCenter&&(i=-i),e=Mt(e-this.center[0]);let n=1e-6,{n:s,f:c}=this;c>0?i<-vl+n&&(i=-vl+n):i>vl-n&&(i=vl-n);let u=c/Math.pow($1(i),s),p=u*Math.sin(s*e),f=c-u*Math.cos(s*e);return p=.5*(p/Math.PI+.5),f=.5*(f/Math.PI+.5),{x:p,y:this.southernCenter?f:1-f,z:0}}unproject(e,i){e=(2*e-.5)*Math.PI,this.southernCenter&&(i=1-i),i=(2*(1-i)-.5)*Math.PI;let{n,f:s}=this,c=s-i,u=Math.sign(c),p=Math.sign(n)*Math.sqrt(e*e+c*c),f=Math.atan2(e,Math.abs(c))*u;c*n<0&&(f-=Math.PI*Math.sign(e)*u);let g=Pt(xi(f/n)+this.center[0],-180,180),v=Pt(xi(2*Math.atan(Math.pow(s/p,1/n))-vl),-sa,sa);return new Jt(g,this.southernCenter?-v:v)}}class gm extends Jr{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,i){return{x:jn(e),y:Hn(i),z:0}}unproject(e,i){let n=Ha(e),s=oa(i);return new Jt(n,s)}}let _m=Mt(sa);class C_ extends Jr{project(e,i){let n=(i=Mt(i))*i,s=n*n;return{x:.5*((e=Mt(e))*(.8707-.131979*n+s*(s*(.003971*n-.001529*s)-.013791))/Math.PI+.5),y:1-.5*(i*(1.007226+n*(.015085+s*(.028874*n-.044475-.005916*s)))/Math.PI+1),z:0}}unproject(e,i){e=(2*e-.5)*Math.PI;let n=i=(2*(1-i)-1)*Math.PI,s=25,c=0,u=n*n;do{u=n*n;let g=u*u;c=(n*(1.007226+u*(.015085+g*(.028874*u-.044475-.005916*g)))-i)/(1.007226+u*(.045255+g*(.259866*u-.311325-.005916*11*g))),n=Pt(n-c,-_m,_m)}while(Math.abs(c)>1e-6&&--s>0);u=n*n;let p=Pt(xi(e/(.8707+u*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979))),-180,180),f=xi(n);return new Jt(p,f)}}let ym=Mt(sa);class E_ extends Jr{project(e,i){i=Mt(i),e=Mt(e);let n=Math.cos(i),s=2/Math.PI,c=Math.acos(n*Math.cos(e/2)),u=Math.sin(c)/c,p=.5*(e*s+2*n*Math.sin(e/2)/u)||0,f=.5*(i+Math.sin(i)/u)||0;return{x:.5*(p/Math.PI+.5),y:1-.5*(f/Math.PI+1),z:0}}unproject(e,i){let n=e=(2*e-.5)*Math.PI,s=i=(2*(1-i)-1)*Math.PI,c=25,u=1e-6,p=0,f=0;do{let g=Math.cos(s),v=Math.sin(s),b=2*v*g,M=v*v,T=g*g,C=Math.cos(n/2),L=Math.sin(n/2),D=2*C*L,U=L*L,W=1-T*C*C,j=W?1/W:0,$=W?Math.acos(g*C)*Math.sqrt(1/W):0,K=.5*(2*$*g*L+2*n/Math.PI)-e,X=.5*($*v+s)-i,me=.5*j*(T*U+$*g*C*M)+1/Math.PI,ue=j*(D*b/4-$*v*L),xe=.125*j*(b*L-$*v*T*D),ke=.5*j*(M*C+$*U*g)+.5,ge=ue*xe-ke*me;p=(X*ue-K*ke)/ge,f=(K*xe-X*me)/ge,n=Pt(n-p,-Math.PI,Math.PI),s=Pt(s-f,-ym,ym)}while((Math.abs(p)>u||Math.abs(f)>u)&&--c>0);return new Jt(xi(n),xi(s))}}class vm extends Jr{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Mt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,i){let{scale:n,cosPhi:s}=this;return{x:Mt(e)*s*n+.5,y:-Math.sin(Mt(i))/s*n+.5,z:0}}unproject(e,i){let{scale:n,cosPhi:s}=this,c=-(i-.5)/n,u=Pt(xi((e-.5)/n)/s,-180,180),p=Math.asin(Pt(c*s,-1,1)),f=Pt(xi(p),-sa,sa);return new Jt(u,f)}}class S_ extends gm{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(e,i,n){let s=Yc(e,i,n);return wi(s,s,Jc(Un(n))),{x:s[0],y:s[1],z:s[2]}}locationPoint(e,i){let n=nl(i.lat,i.lng),s=ma([],n),c=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(i),e._centerAltitude):e._centerAltitude;qc(n,n,s,zn(1,0)*ot*c);let u=wn(new Float64Array(16));return Yo(u,e.pixelMatrix,e.globeMatrix),wi(n,n,u),new Se(n[0],n[1])}pixelsPerMeter(e,i){return zn(1,0)*i}pixelSpaceConversion(e,i,n){let s=zn(1,e)*i,c=Bt(zn(1,45)*i,s,n);return this.pixelsPerMeter(e,i)/c}createTileMatrix(e,i,n){let s=ou(Un(n.canonical));return Yo(new Float64Array(16),e.globeMatrix,s)}createInversionMatrix(e,i){let{center:n}=e,s=Jc(Un(i));return x1(s,s,Mt(n.lng)),Kh(s,s,Mt(n.lat)),Jo(s,s,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(s)}pointCoordinate(e,i,n,s){return $d(e,i,n,!0)||new ol(0,0)}pointCoordinate3D(e,i,n){let s=this.pointCoordinate(e,i,n,0);return[s.x,s.y,s.z]}isPointAboveHorizon(e,i){return!$d(e,i.x,i.y,!1)}farthestPixelDistance(e){let i=function(s,c){let u=s.cameraToCenterDistance,p=s._centerAltitude*c,f=s._camera,g=s._camera.forward(),v=mr([],ja([],g,-u),[0,0,p]),b=s.worldSize/(2*Math.PI),M=[0,0,-b],T=s.width/s.height,C=Math.tan(s.fovAboveCenter),L=ja([],f.up(),C),D=ja([],f.right(),C*T),U=ma([],mr([],mr([],g,L),D)),W=[],j;if(new eu(v,U).closestPointOnSphere(M,b,W)){let $=mr([],W,M),K=Mn([],$,v);j=Math.cos(s.fovAboveCenter)*Gc(K)}else{let $=Mn([],v,M),K=Mn([],M,v);ma(K,K);let X=Gc($)-b;j=Math.sqrt(X*(X+2*b));let me=Math.acos(j/(b+X))-Math.acos(Ja(g,K));j*=Math.cos(me)}return 1.01*j}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=rl(e.zoom);if(n>0){let s=fm(e,zn(1,e.center.lat)*e.worldSize),c=e.worldSize/(2*Math.PI),u=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Bt(i,s+c*(1-Math.cos(u)),Math.pow(n,10))}return i}upVector(e,i,n){return Yc(i,n,e,1)}upVectorScale(e){return{metersToTile:b1(M1(Un(e)))}}}function xm(t){let e=t.parallels,i=!!e&&Math.abs(e[0]+e[1])<.01;switch(t.name){case"mercator":return new gm(t);case"equirectangular":return new A_(t);case"naturalEarth":return new C_(t);case"equalEarth":return new z_(t);case"winkelTripel":return new E_(t);case"albers":return i?new vm(t):new M_(t);case"lambertConformalConic":return i?new vm(t):new T_(t);case"globe":return new S_(t)}throw new Error(`Invalid projection name: ${t.name}`)}let L_=k1.types,I_=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function q1(t,e,i,n,s,c,u,p,f,g,v,b,M){let T=p?Math.min(Yr,Math.round(p[0])):0,C=p?Math.min(Yr,Math.round(p[1])):0;t.emplaceBack(e,i,Math.round(32*n),Math.round(32*s),c,u,(T<<1)+(f?1:0),C,16*g,16*v,256*b,256*M)}function W1(t,e,i,n,s,c,u){t.emplaceBack(e,i,n,s,c,u)}function X1(t,e,i,n,s){t.emplaceBack(e,i,n,s),t.emplaceBack(e,i,n,s),t.emplaceBack(e,i,n,s),t.emplaceBack(e,i,n,s)}function P_(t){for(let e of t.sections)if(Zh(e.text))return!0;return!1}class Bu{constructor(e){this.layoutVertexArray=new Te,this.indexArray=new tt,this.programConfigurations=e,this.segments=new Ci,this.dynamicLayoutVertexArray=new Ie,this.opacityVertexArray=new nt,this.placedSymbolArray=new Ti,this.globeExtVertexArray=new Re}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(e,i,n,s){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,N2.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,j2.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,I_,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,U2.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||s)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Xe(Bu,"SymbolBuffers");class Fu{constructor(e,i,n){this.layoutVertexArray=new e,this.layoutAttributes=i,this.indexArray=new n,this.segments=new Ci,this.collisionVertexArray=new It,this.collisionVertexArrayExt=new Et}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,H2.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,G2.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Xe(Fu,"CollisionBuffers");class Qr{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(u=>u.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=wn([]),this.placementViewportMatrix=wn([]);let i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Tu(this.zoom,i["text-size"]),this.iconSizeData=Tu(this.zoom,i["icon-size"]);let n=this.layers[0].layout,s=n.get("symbol-sort-key"),c=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey=c!=="viewport-y"&&s.constantOr(1)!==void 0,this.sortFeaturesByY=(c==="viewport-y"||c==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map(u=>Ga[u]),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new Bu(new Ko(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Bu(new Ko(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new pa,this.lineVertexArray=new Qs,this.symbolInstances=new hi}calculateGlyphDependencies(e,i,n,s,c){for(let u=0;u<e.length;u++)if(i[e.charCodeAt(u)]=!0,s&&c){let p=c0[e.charAt(u)];p&&(i[p.charCodeAt(0)]=!0)}}populate(e,i,n,s){let c=this.layers[0],u=c.layout,p=this.projection.name==="globe",f=u.get("text-font"),g=u.get("text-field"),v=u.get("icon-image"),b=(g.value.kind!=="constant"||g.value.value instanceof da&&!g.value.value.isEmpty()||g.value.value.toString().length>0)&&(f.value.kind!=="constant"||f.value.value.length>0),M=v.value.kind!=="constant"||!!v.value.value||Object.keys(v.parameters).length>0,T=u.get("symbol-sort-key");if(this.features=[],!b&&!M)return;let C=i.iconDependencies,L=i.glyphDependencies,D=i.availableImages,U=new x(this.zoom);for(let{feature:W,id:j,index:$,sourceLayerIndex:K}of e){let X=c._featureFilter.needGeometry,me=is(W,X);if(!c._featureFilter.filter(U,me,n))continue;if(X||(me.geometry=fr(W,n,s)),p&&W.type!==1&&n.z<=5){let ge=me.geometry,ze=.98078528056,Ae=(Ee,Fe)=>Ja(Yc(Ee.x,Ee.y,n,1),Yc(Fe.x,Fe.y,n,1))<ze;for(let Ee=0;Ee<ge.length;Ee++)ge[Ee]=jg(ge[Ee],Ae)}let ue,xe;if(b){let ge=c.getValueAndResolveTokens("text-field",me,n,D),ze=da.factory(ge);P_(ze)&&(this.hasRTLText=!0),(!this.hasRTLText||m()==="unavailable"||this.hasRTLText&&y.isParsed())&&(ue=q2(ze,c,me))}if(M){let ge=c.getValueAndResolveTokens("icon-image",me,n,D);xe=ge instanceof Ea?ge:Ea.fromString(ge)}if(!ue&&!xe)continue;let ke=this.sortFeaturesByKey?T.evaluate(me,{},n):void 0;if(this.features.push({id:j,text:ue,icon:xe,index:$,sourceLayerIndex:K,geometry:me.geometry,properties:W.properties,type:L_[W.type],sortKey:ke}),xe&&(C[xe.name]=!0),ue){let ge=f.evaluate(me,{},n).join(","),ze=u.get("text-rotation-alignment")==="map"&&u.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ga.vertical)>=0;for(let Ae of ue.sections)if(Ae.image)C[Ae.image.name]=!0;else{let Ee=Rc(ue.toString()),Fe=Ae.fontStack||ge,ye=L[Fe]=L[Fe]||{};this.calculateGlyphDependencies(Ae.text,ye,ze,this.allowVerticalPlacement,Ee)}}}u.get("symbol-placement")==="line"&&(this.features=function(W){let j={},$={},K=[],X=0;function me(ge){K.push(W[ge]),X++}function ue(ge,ze,Ae){let Ee=$[ge];return delete $[ge],$[ze]=Ee,K[Ee].geometry[0].pop(),K[Ee].geometry[0]=K[Ee].geometry[0].concat(Ae[0]),Ee}function xe(ge,ze,Ae){let Ee=j[ze];return delete j[ze],j[ge]=Ee,K[Ee].geometry[0].shift(),K[Ee].geometry[0]=Ae[0].concat(K[Ee].geometry[0]),Ee}function ke(ge,ze,Ae){let Ee=Ae?ze[0][ze[0].length-1]:ze[0][0];return`${ge}:${Ee.x}:${Ee.y}`}for(let ge=0;ge<W.length;ge++){let ze=W[ge],Ae=ze.geometry,Ee=ze.text?ze.text.toString():null;if(!Ee){me(ge);continue}let Fe=ke(Ee,Ae),ye=ke(Ee,Ae,!0);if(Fe in $&&ye in j&&$[Fe]!==j[ye]){let je=xe(Fe,ye,Ae),Ye=ue(Fe,ye,K[je].geometry);delete j[Fe],delete $[ye],$[ke(Ee,K[Ye].geometry,!0)]=Ye,K[je].geometry=null}else Fe in $?ue(Fe,ye,Ae):ye in j?xe(Fe,ye,Ae):(me(ge),j[Fe]=X-1,$[ye]=X-1)}return K.filter(ge=>ge.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((W,j)=>W.sortKey-j.sortKey)}update(e,i,n,s){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,i,this.layers,n,s),this.icon.programConfigurations.updatePaintArrays(e,i,this.layers,n,s))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=xm(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,i){let n=this.lineVertexArray.length;if(e.segment!==void 0)for(let{x:s,y:c}of i)this.lineVertexArray.emplaceBack(s,c);return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(e,i,n,s,c,u,p,f,g,v,b,M,T,C){let L=e.indexArray,D=e.layoutVertexArray,U=e.globeExtVertexArray,W=e.segments.prepareSegment(4*i.length,D,L,this.canOverlap?u.sortKey:void 0),j=this.glyphOffsetArray.length,$=W.vertexLength,K=this.allowVerticalPlacement&&p===Ga.vertical?Math.PI/2:0,X=u.text&&u.text.sections;for(let ue=0;ue<i.length;ue++){let{tl:xe,tr:ke,bl:ge,br:ze,tex:Ae,pixelOffsetTL:Ee,pixelOffsetBR:Fe,minFontScaleX:ye,minFontScaleY:je,glyphOffset:Ye,isSDF:Ge,sectionIndex:mt}=i[ue],Ve=W.vertexLength,rt=Ye[1];if(q1(D,g.x,g.y,xe.x,rt+xe.y,Ae.x,Ae.y,n,Ge,Ee.x,Ee.y,ye,je),q1(D,g.x,g.y,ke.x,rt+ke.y,Ae.x+Ae.w,Ae.y,n,Ge,Fe.x,Ee.y,ye,je),q1(D,g.x,g.y,ge.x,rt+ge.y,Ae.x,Ae.y+Ae.h,n,Ge,Ee.x,Fe.y,ye,je),q1(D,g.x,g.y,ze.x,rt+ze.y,Ae.x+Ae.w,Ae.y+Ae.h,n,Ge,Fe.x,Fe.y,ye,je),f){let{x:ft,y:Vt,z:gt}=f.anchor,[lt,ci,bt]=f.up;W1(U,ft,Vt,gt,lt,ci,bt),W1(U,ft,Vt,gt,lt,ci,bt),W1(U,ft,Vt,gt,lt,ci,bt),W1(U,ft,Vt,gt,lt,ci,bt),X1(e.dynamicLayoutVertexArray,ft,Vt,gt,K)}else X1(e.dynamicLayoutVertexArray,g.x,g.y,g.z,K);L.emplaceBack(Ve,Ve+1,Ve+2),L.emplaceBack(Ve+1,Ve+2,Ve+3),W.vertexLength+=4,W.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ye[0]),ue!==i.length-1&&mt===i[ue+1].sectionIndex||e.programConfigurations.populatePaintArrays(D.length,u,u.index,{},T,C,X&&X[mt])}let me=f?f.anchor:g;e.placedSymbolArray.emplaceBack(me.x,me.y,me.z,g.x,g.y,j,this.glyphOffsetArray.length-j,$,v,b,g.segment,n?n[0]:0,n?n[1]:0,s[0],s[1],p,0,!1,0,M,0)}_commitLayoutVertex(e,i,n,s,c,u,p){e.emplaceBack(i,n,s,c,u,Math.round(p.x),Math.round(p.y))}_addCollisionDebugVertices(e,i,n,s,c,u,p){let f=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),g=f.vertexLength,v=p.tileAnchorX,b=p.tileAnchorY;for(let T=0;T<4;T++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(i,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(i,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(i,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(i,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,s,c,u,v,b,new Se(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,s,c,u,v,b,new Se(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,s,c,u,v,b,new Se(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,s,c,u,v,b,new Se(e.x1,e.y2)),f.vertexLength+=4;let M=n.indexArray;M.emplaceBack(g,g+1),M.emplaceBack(g+1,g+2),M.emplaceBack(g+2,g+3),M.emplaceBack(g+3,g),f.primitiveLength+=4}_addTextDebugCollisionBoxes(e,i,n,s,c,u){for(let p=s;p<c;p++){let f=n.get(p),g=this.getSymbolInstanceTextSize(e,u,i,p);this._addCollisionDebugVertices(f,g,this.textCollisionBox,f.projectedAnchorX,f.projectedAnchorY,f.projectedAnchorZ,u)}}_addIconDebugCollisionBoxes(e,i,n,s,c,u){for(let p=s;p<c;p++){let f=n.get(p),g=this.getSymbolInstanceIconSize(e,i,u.placedIconSymbolIndex);this._addCollisionDebugVertices(f,g,this.iconCollisionBox,f.projectedAnchorX,f.projectedAnchorY,f.projectedAnchorZ,u)}}generateCollisionDebugBuffers(e,i){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Fu(Ke,Vp.members,ji),this.iconCollisionBox=new Fu(Ke,Vp.members,ji);let n=ul(this.iconSizeData,e),s=ul(this.textSizeData,e);for(let c=0;c<this.symbolInstances.length;c++){let u=this.symbolInstances.get(c);this._addTextDebugCollisionBoxes(s,e,i,u.textBoxStartIndex,u.textBoxEndIndex,u),this._addTextDebugCollisionBoxes(s,e,i,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u),this._addIconDebugCollisionBoxes(n,e,i,u.iconBoxStartIndex,u.iconBoxEndIndex,u),this._addIconDebugCollisionBoxes(n,e,i,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u)}}getSymbolInstanceTextSize(e,i,n,s){let c=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:s),u=B1(this.textSizeData,e,c)/Qi;return this.tilePixelRatio*u}getSymbolInstanceIconSize(e,i,n){let s=this.icon.placedSymbolArray.get(n),c=B1(this.iconSizeData,e,s);return this.tilePixelRatio*c}_commitDebugCollisionVertexUpdate(e,i,n){e.emplaceBack(i,-n,-n),e.emplaceBack(i,n,-n),e.emplaceBack(i,n,n),e.emplaceBack(i,-n,n)}_updateTextDebugCollisionBoxes(e,i,n,s,c,u){for(let p=s;p<c;p++){let f=n.get(p),g=this.getSymbolInstanceTextSize(e,u,i,p);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,g,f.padding)}}_updateIconDebugCollisionBoxes(e,i,n,s,c,u){for(let p=s;p<c;p++){let f=n.get(p),g=this.getSymbolInstanceIconSize(e,i,u);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,g,f.padding)}}updateCollisionDebugBuffers(e,i){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();let n=ul(this.iconSizeData,e),s=ul(this.textSizeData,e);for(let c=0;c<this.symbolInstances.length;c++){let u=this.symbolInstances.get(c);this._updateTextDebugCollisionBoxes(s,e,i,u.textBoxStartIndex,u.textBoxEndIndex,u),this._updateTextDebugCollisionBoxes(s,e,i,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u),this._updateIconDebugCollisionBoxes(n,e,i,u.iconBoxStartIndex,u.iconBoxEndIndex,u.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(n,e,i,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,i,n,s,c,u,p,f,g){let v={};if(i<n){let{x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$,featureIndex:K}=e.get(i);v.textBox={x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$},v.textFeatureIndex=K}if(s<c){let{x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$,featureIndex:K}=e.get(s);v.verticalTextBox={x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$},v.verticalTextFeatureIndex=K}if(u<p){let{x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$,featureIndex:K}=e.get(u);v.iconBox={x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$},v.iconFeatureIndex=K}if(f<g){let{x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$,featureIndex:K}=e.get(f);v.verticalIconBox={x1:b,y1:M,x2:T,y2:C,padding:L,projectedAnchorX:D,projectedAnchorY:U,projectedAnchorZ:W,tileAnchorX:j,tileAnchorY:$},v.verticalIconFeatureIndex=K}return v}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){let n=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,i){let n=e.placedSymbolArray.get(i),s=n.vertexStartIndex+4*n.numGlyphs;for(let c=n.vertexStartIndex;c<s;c+=4)e.indexArray.emplaceBack(c,c+1,c+2),e.indexArray.emplaceBack(c+1,c+2,c+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let i=Math.sin(e),n=Math.cos(e),s=[],c=[],u=[];for(let p=0;p<this.symbolInstances.length;++p){u.push(p);let f=this.symbolInstances.get(p);s.push(0|Math.round(i*f.tileAnchorX+n*f.tileAnchorY)),c.push(f.featureIndex)}return u.sort((p,f)=>s[p]-s[f]||c[f]-c[p]),u}addToSortKeyRanges(e,i){let n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===i?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let i of this.symbolInstanceIndexes){let n=this.symbolInstances.get(i);this.featureSortOrder.push(n.featureIndex);let{rightJustifiedTextSymbolIndex:s,centerJustifiedTextSymbolIndex:c,leftJustifiedTextSymbolIndex:u,verticalPlacedTextSymbolIndex:p,placedIconSymbolIndex:f,verticalPlacedIconSymbolIndex:g}=n;s>=0&&this.addIndicesForPlacedSymbol(this.text,s),c>=0&&c!==s&&this.addIndicesForPlacedSymbol(this.text,c),u>=0&&u!==c&&u!==s&&this.addIndicesForPlacedSymbol(this.text,u),p>=0&&this.addIndicesForPlacedSymbol(this.text,p),f>=0&&this.addIndicesForPlacedSymbol(this.icon,f),g>=0&&this.addIndicesForPlacedSymbol(this.icon,g)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Xe(Qr,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Qr.MAX_GLYPHS=65535,Qr.addDynamicAttributes=X1;let k_=new G({"symbol-placement":new S(ve.layout_symbol["symbol-placement"]),"symbol-spacing":new S(ve.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new S(ve.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new O(ve.layout_symbol["symbol-sort-key"]),"symbol-z-order":new S(ve.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new S(ve.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new S(ve.layout_symbol["icon-ignore-placement"]),"icon-optional":new S(ve.layout_symbol["icon-optional"]),"icon-rotation-alignment":new S(ve.layout_symbol["icon-rotation-alignment"]),"icon-size":new O(ve.layout_symbol["icon-size"]),"icon-text-fit":new S(ve.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new S(ve.layout_symbol["icon-text-fit-padding"]),"icon-image":new O(ve.layout_symbol["icon-image"]),"icon-rotate":new O(ve.layout_symbol["icon-rotate"]),"icon-padding":new S(ve.layout_symbol["icon-padding"]),"icon-keep-upright":new S(ve.layout_symbol["icon-keep-upright"]),"icon-offset":new O(ve.layout_symbol["icon-offset"]),"icon-anchor":new O(ve.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new S(ve.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new S(ve.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new S(ve.layout_symbol["text-rotation-alignment"]),"text-field":new O(ve.layout_symbol["text-field"]),"text-font":new O(ve.layout_symbol["text-font"]),"text-size":new O(ve.layout_symbol["text-size"]),"text-max-width":new O(ve.layout_symbol["text-max-width"]),"text-line-height":new O(ve.layout_symbol["text-line-height"]),"text-letter-spacing":new O(ve.layout_symbol["text-letter-spacing"]),"text-justify":new O(ve.layout_symbol["text-justify"]),"text-radial-offset":new O(ve.layout_symbol["text-radial-offset"]),"text-variable-anchor":new S(ve.layout_symbol["text-variable-anchor"]),"text-anchor":new O(ve.layout_symbol["text-anchor"]),"text-max-angle":new S(ve.layout_symbol["text-max-angle"]),"text-writing-mode":new S(ve.layout_symbol["text-writing-mode"]),"text-rotate":new O(ve.layout_symbol["text-rotate"]),"text-padding":new S(ve.layout_symbol["text-padding"]),"text-keep-upright":new S(ve.layout_symbol["text-keep-upright"]),"text-transform":new O(ve.layout_symbol["text-transform"]),"text-offset":new O(ve.layout_symbol["text-offset"]),"text-allow-overlap":new S(ve.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new S(ve.layout_symbol["text-ignore-placement"]),"text-optional":new S(ve.layout_symbol["text-optional"])});var Vu={paint:new G({"icon-opacity":new O(ve.paint_symbol["icon-opacity"]),"icon-color":new O(ve.paint_symbol["icon-color"]),"icon-halo-color":new O(ve.paint_symbol["icon-halo-color"]),"icon-halo-width":new O(ve.paint_symbol["icon-halo-width"]),"icon-halo-blur":new O(ve.paint_symbol["icon-halo-blur"]),"icon-translate":new S(ve.paint_symbol["icon-translate"]),"icon-translate-anchor":new S(ve.paint_symbol["icon-translate-anchor"]),"text-opacity":new O(ve.paint_symbol["text-opacity"]),"text-color":new O(ve.paint_symbol["text-color"],{runtimeType:ba,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new O(ve.paint_symbol["text-halo-color"]),"text-halo-width":new O(ve.paint_symbol["text-halo-width"]),"text-halo-blur":new O(ve.paint_symbol["text-halo-blur"]),"text-translate":new S(ve.paint_symbol["text-translate"]),"text-translate-anchor":new S(ve.paint_symbol["text-translate-anchor"])}),layout:k_};class bm{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Sr,this.defaultValue=e}evaluate(e){if(e.formattedSection){let i=this.defaultValue.property.overrides;if(i&&i.hasOverride(e.formattedSection))return i.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Xe(bm,"FormatSectionOverride",{omit:["defaultValue"]});class K1 extends bn{constructor(e){super(e,Vu)}recalculate(e,i){super.recalculate(e,i),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));let n=this.layout.get("text-writing-mode");if(n){let s=[];for(let c of n)s.indexOf(c)<0&&s.push(c);this.layout._values["text-writing-mode"]=s}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,i,n,s){let c=this.layout.get(e).evaluate(i,{},n,s),u=this._unevaluatedLayout._values[e];return u.isDataDriven()||Ur(u.value)||!c?c:function(p,f){return f.replace(/{([^{}]+)}/g,(g,v)=>v in p?String(p[v]):"")}(i.properties,c)}createBucket(e){return new Qr(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(let e of Vu.paint.overridableProperties){if(!K1.hasPaintOverride(this.layout,e))continue;let i=this.paint.get(e),n=new bm(i),s=new Zs(n,i.property.specification),c=null;c=i.value.kind==="constant"||i.value.kind==="source"?new Ac("source",s):new Uo("composite",s,i.value.zoomStops,i.value._interpolationType),this.paint._values[e]=new B(i.property,c,i.parameters)}}_handleOverridablePaintPropertyUpdate(e,i,n){return!(!this.layout||i.isDataDriven()||n.isDataDriven())&&K1.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,i){let n=e.get("text-field"),s=Vu.paint.properties[i],c=!1,u=p=>{for(let f of p)if(s.overrides&&s.overrides.hasOverride(f))return void(c=!0)};if(n.value.kind==="constant"&&n.value.value instanceof da)u(n.value.value.sections);else if(n.value.kind==="source"){let p=g=>{c||(g instanceof ar&&yi(g.value)===zo?u(g.value.sections):g instanceof Bn?u(g.sections):g.eachChild(p))},f=n.value;f._styleExpression&&p(f._styleExpression.expression)}return c}getProgramConfiguration(e){return new Wr(this,e)}}var D_={paint:new G({"background-color":new S(ve.paint_background["background-color"]),"background-pattern":new S(ve.paint_background["background-pattern"]),"background-opacity":new S(ve.paint_background["background-opacity"])})},O_={paint:new G({"raster-opacity":new S(ve.paint_raster["raster-opacity"]),"raster-hue-rotate":new S(ve.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new S(ve.paint_raster["raster-brightness-min"]),"raster-brightness-max":new S(ve.paint_raster["raster-brightness-max"]),"raster-saturation":new S(ve.paint_raster["raster-saturation"]),"raster-contrast":new S(ve.paint_raster["raster-contrast"]),"raster-resampling":new S(ve.paint_raster["raster-resampling"]),"raster-fade-duration":new S(ve.paint_raster["raster-fade-duration"])})};class R_ extends bn{constructor(e){super(e,{}),this.implementation=e}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var B_={paint:new G({"sky-type":new S(ve.paint_sky["sky-type"]),"sky-atmosphere-sun":new S(ve.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new S(ve.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new S(ve.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new S(ve.paint_sky["sky-gradient-radius"]),"sky-gradient":new H(ve.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new S(ve.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new S(ve.paint_sky["sky-atmosphere-color"]),"sky-opacity":new S(ve.paint_sky["sky-opacity"])})};function Nu(t,e,i){let n=[0,0,1],s=Nd([]);return jd(s,s,i?-Mt(t)+Math.PI:Mt(t)),Ud(s,s,-Mt(e)),Rd(n,n,s),ma(n,n)}let F_={circle:class extends bn{constructor(t){super(t,Xg)}createBucket(t){return new du(t)}queryRadius(t){let e=t;return sl("circle-radius",this,e)+sl("circle-stroke-width",this,e)+T1(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,i,n,s,c,u,p){let f=hp(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),g=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i);return up(t,n,c,u,p,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",f,g)}getProgramIds(){return["circle"]}getProgramConfiguration(t){return new Wr(this,t)}},heatmap:class extends bn{createBucket(t){return new pp(t)}constructor(t){super(t,Qg),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=gu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(t){return sl("heatmap-radius",this,t)}queryIntersectsFeature(t,e,i,n,s,c,u,p){let f=this.paint.get("heatmap-radius").evaluate(e,i);return up(t,n,c,u,p,!0,!0,new Se(0,0),f)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(t){return new Wr(this,t)}},hillshade:class extends bn{constructor(t){super(t,e2)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends bn{constructor(t){super(t,g2)}getProgramIds(){let t=this.paint.get("fill-pattern"),e=t&&t.constantOr(1),i=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getProgramConfiguration(t){return new Wr(this,t)}recalculate(t,e){super.recalculate(t,e);let i=this.paint._values["fill-outline-color"];i.value.kind==="constant"&&i.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new I1(t)}queryRadius(){return T1(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,i,n,s,c){return!t.queryGeometry.isAboveHorizon&&rp(cp(t.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),n)}isTileClipped(){return!0}},"fill-extrusion":class extends bn{constructor(t){super(t,P2)}createBucket(t){return new o0(t)}queryRadius(){return T1(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(t){return new Wr(this,t)}queryIntersectsFeature(t,e,i,n,s,c,u,p,f){let g=hp(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),v=this.paint.get("fill-extrusion-height").evaluate(e,i),b=this.paint.get("fill-extrusion-base").evaluate(e,i),M=[0,0],T=p&&c.elevation,C=c.elevation?c.elevation.exaggeration():1,L=t.tile.getBucket(this);if(T&&L instanceof o0){let $=L.centroidVertexArray,K=f+1;K<$.length&&(M[0]=$.geta_centroid_pos0(K),M[1]=$.geta_centroid_pos1(K))}if(M[0]===0&&M[1]===1)return!1;c.projection.name==="globe"&&(n=Ip([n],[new Se(0,0),new Se(ot,ot)],t.tileID.canonical).map($=>$.polygon).flat());let D=T?p:null,[U,W]=function($,K,X,me,ue,xe,ke,ge,ze,Ae,Ee){return $.projection.name==="globe"?function(Fe,ye,je,Ye,Ge,mt,Ve,rt,ft,Vt,gt){let lt=[],ci=[],bt=Fe.projection.upVectorScale(gt,Fe.center.lat,Fe.worldSize).metersToTile,wt=[0,0,0,1],Qt=[0,0,0,1],ri=(ei,gi,vi,Si)=>{ei[0]=gi,ei[1]=vi,ei[2]=Si,ei[3]=1},oi=Lp();je>0&&(je+=oi),Ye+=oi;for(let ei of ye){let gi=[],vi=[];for(let Si of ei){let ti=Si.x+Ge.x,Di=Si.y+Ge.y,Li=Fe.projection.projectTilePoint(ti,Di,gt),_i=Fe.projection.upVector(gt,Si.x,Si.y),jt=je,Ii=Ye;if(Ve){let si=Op(ti,Di,je,Ye,Ve,rt,ft,Vt);jt+=si.base,Ii+=si.top}je!==0?ri(wt,Li.x+_i[0]*bt*jt,Li.y+_i[1]*bt*jt,Li.z+_i[2]*bt*jt):ri(wt,Li.x,Li.y,Li.z),ri(Qt,Li.x+_i[0]*bt*Ii,Li.y+_i[1]*bt*Ii,Li.z+_i[2]*bt*Ii),wi(wt,wt,mt),wi(Qt,Qt,mt),gi.push(new hl(wt[0],wt[1],wt[2])),vi.push(new hl(Qt[0],Qt[1],Qt[2]))}lt.push(gi),ci.push(vi)}return[lt,ci]}($,K,X,me,ue,xe,ke,ge,ze,Ae,Ee):ke?function(Fe,ye,je,Ye,Ge,mt,Ve,rt,ft){let Vt=[],gt=[],lt=[0,0,0,1];for(let ci of Fe){let bt=[],wt=[];for(let Qt of ci){let ri=Qt.x+Ye.x,oi=Qt.y+Ye.y,ei=Op(ri,oi,ye,je,mt,Ve,rt,ft);lt[0]=ri,lt[1]=oi,lt[2]=ei.base,lt[3]=1,Qo(lt,lt,Ge),lt[3]=Math.max(lt[3],1e-5);let gi=new hl(lt[0]/lt[3],lt[1]/lt[3],lt[2]/lt[3]);lt[0]=ri,lt[1]=oi,lt[2]=ei.top,lt[3]=1,Qo(lt,lt,Ge),lt[3]=Math.max(lt[3],1e-5);let vi=new hl(lt[0]/lt[3],lt[1]/lt[3],lt[2]/lt[3]);bt.push(gi),wt.push(vi)}Vt.push(bt),gt.push(wt)}return[Vt,gt]}(K,X,me,ue,xe,ke,ge,ze,Ae):function(Fe,ye,je,Ye,Ge){let mt=[],Ve=[],rt=Ge[8]*ye,ft=Ge[9]*ye,Vt=Ge[10]*ye,gt=Ge[11]*ye,lt=Ge[8]*je,ci=Ge[9]*je,bt=Ge[10]*je,wt=Ge[11]*je;for(let Qt of Fe){let ri=[],oi=[];for(let ei of Qt){let gi=ei.x+Ye.x,vi=ei.y+Ye.y,Si=Ge[0]*gi+Ge[4]*vi+Ge[12],ti=Ge[1]*gi+Ge[5]*vi+Ge[13],Di=Ge[2]*gi+Ge[6]*vi+Ge[14],Li=Ge[3]*gi+Ge[7]*vi+Ge[15],_i=Si+rt,jt=ti+ft,Ii=Di+Vt,si=Math.max(Li+gt,1e-5),_a=Si+lt,Pi=ti+ci,ea=Di+bt,Hi=Math.max(Li+wt,1e-5);ri.push(new hl(_i/si,jt/si,Ii/si)),oi.push(new hl(_a/Hi,Pi/Hi,ea/Hi))}mt.push(ri),Ve.push(oi)}return[mt,Ve]}(K,X,me,ue,xe)}(c,n,b,v,g,u,D,M,C,c.center.lat,t.tileID.canonical),j=t.queryGeometry;return function($,K,X){let me=1/0;rp(X,K)&&(me=Dp(X,K[0]));for(let ue=0;ue<K.length;ue++){let xe=K[ue],ke=$[ue];for(let ge=0;ge<xe.length-1;ge++){let ze=xe[ge],Ae=[ze,xe[ge+1],ke[ge+1],ke[ge],ze];np(X,Ae)&&(me=Math.min(me,Dp(X,Ae)))}}return me!==1/0&&me}(U,W,j.isPointQuery()?j.screenBounds:j.screenGeometry)}},line:class extends bn{constructor(t){super(t,Rp),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(t){if(t==="line-gradient"){let e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof dc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=Bp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new R1(t)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(t){return new Wr(this,t)}queryRadius(t){let e=t,i=Fp(sl("line-width",this,e),sl("line-gap-width",this,e)),n=sl("line-offset",this,e);return i/2+Math.abs(n)+T1(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,i,n,s,c){if(t.queryGeometry.isAboveHorizon)return!1;let u=cp(t.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),c.angle,t.pixelToTileUnitsFactor),p=t.pixelToTileUnitsFactor/2*Fp(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),f=this.paint.get("line-offset").evaluate(e,i);return f&&(n=function(g,v){let b=[],M=new Se(0,0);for(let T=0;T<g.length;T++){let C=g[T],L=[];for(let D=0;D<C.length;D++){let U=C[D],W=C[D+1],j=D===0?M:U.sub(C[D-1])._unit()._perp(),$=D===C.length-1?M:W.sub(U)._unit()._perp(),K=j._add($)._unit();K._mult(1/(K.x*$.x+K.y*$.y)),L.push(K._mult(v)._add(U))}b.push(L)}return b}(n,f*t.pixelToTileUnitsFactor)),function(g,v,b){for(let M=0;M<v.length;M++){let T=v[M];if(g.length>=3){for(let C=0;C<T.length;C++)if(as(g,T[C]))return!0}if(Zg(g,T,b))return!0}return!1}(u,n,p)}isTileClipped(){return!0}},symbol:K1,background:class extends bn{constructor(t){super(t,D_)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends bn{constructor(t){super(t,O_)}getProgramIds(){return["raster"]}},sky:class extends bn{constructor(t){super(t,B_),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="sky-gradient"?this._updateColorRamp():t!=="sky-atmosphere-sun"&&t!=="sky-atmosphere-halo-color"&&t!=="sky-atmosphere-color"&&t!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=gu({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){let e=t.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return!1}getCenter(t,e){if(this.paint.get("sky-type")==="atmosphere"){let n=this.paint.get("sky-atmosphere-sun"),s=!n,c=t.style.light,u=c.properties.get("position");return s&&c.properties.get("anchor")==="viewport"&&mi("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),s?Nu(u.azimuthal,90-u.polar,e):Nu(n[0],90-n[1],e)}let i=this.paint.get("sky-gradient-center");return Nu(i[0],90-i[1],e)}is3D(){return!1}isSky(){return!0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){let t=this.paint.get("sky-type");return t==="atmosphere"?["skyboxCapture","skybox"]:t==="gradient"?["skyboxGradient"]:null}}};class _0{constructor(e,i,n,s){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(i,s)}update(e,i,n){let{width:s,height:c}=e,{context:u}=this,{gl:p}=u,{HTMLImageElement:f,HTMLCanvasElement:g,HTMLVideoElement:v,ImageData:b,ImageBitmap:M}=ae;if(p.bindTexture(p.TEXTURE_2D,this.texture),u.pixelStoreUnpackFlipY.set(!1),u.pixelStoreUnpack.set(1),u.pixelStoreUnpackPremultiplyAlpha.set(this.format===p.RGBA&&(!i||i.premultiply!==!1)),n||this.size&&this.size[0]===s&&this.size[1]===c){let{x:T,y:C}=n||{x:0,y:0};e instanceof f||e instanceof g||e instanceof v||e instanceof b||M&&e instanceof M?p.texSubImage2D(p.TEXTURE_2D,0,T,C,p.RGBA,p.UNSIGNED_BYTE,e):p.texSubImage2D(p.TEXTURE_2D,0,T,C,s,c,p.RGBA,p.UNSIGNED_BYTE,e.data)}else this.size=[s,c],e instanceof f||e instanceof g||e instanceof v||e instanceof b||M&&e instanceof M?p.texImage2D(p.TEXTURE_2D,0,this.format,this.format,p.UNSIGNED_BYTE,e):p.texImage2D(p.TEXTURE_2D,0,this.format,s,c,0,this.format,p.UNSIGNED_BYTE,e.data);this.useMipmap=!!(i&&i.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&p.generateMipmap(p.TEXTURE_2D)}bind(e,i){let{context:n}=this,{gl:s}=n;s.bindTexture(s.TEXTURE_2D,this.texture),e!==this.filter&&(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,e),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.useMipmap?e===s.NEAREST?s.NEAREST_MIPMAP_NEAREST:s.LINEAR_MIPMAP_NEAREST:e),this.filter=e),i!==this.wrap&&(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,i),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,i),this.wrap=i)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class V_{constructor(e){this._callback=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class N_{constructor(){this.tasks={},this.taskQueue=[],Kn(["process"],this),this.invoker=new V_(this.process),this.nextId=0}add(e,i){let n=this.nextId++,s=function({type:c,isSymbolTile:u,zoom:p}){return p=p||0,c==="message"?0:c!=="maybePrepare"||u?c!=="parseTile"||u?c==="parseTile"&&u?300-p:c==="maybePrepare"&&u?400-p:500:200-p:100-p}(i);if(s===0){ln();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[n]={fn:e,metadata:i,priority:s,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:()=>{delete this.tasks[n]}}}process(){ln();try{if(this.taskQueue=this.taskQueue.filter(n=>!!this.tasks[n]),!this.taskQueue.length)return;let e=this.pick();if(e===null)return;let i=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let e=null,i=1/0;for(let s=0;s<this.taskQueue.length;s++){let c=this.tasks[this.taskQueue[s]];c.priority<i&&(i=c.priority,e=s)}if(e===null)return null;let n=this.taskQueue[e];return this.taskQueue.splice(e,1),n}remove(){this.invoker.remove()}}class wm{constructor(e){this._stringToNumber={},this._numberToString=[];for(let i=0;i<e.length;i++){let n=e[i];this._stringToNumber[n]=i,this._numberToString[i]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}let U_=["tile","layer","source","sourceLayer","state"];class Mm{constructor(e,i,n,s,c){this.type="Feature",this._vectorTileFeature=e,this._z=i,this._x=n,this._y=s,this.properties=e.properties,this.id=c}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){let e={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(e.id=this.id);for(let i of U_)this[i]!==void 0&&(e[i]=this[i]);return e}}let tn=32,Gn=33,eo=new Uint16Array(8184);for(let t=0;t<2046;t++){let e=t+2,i=0,n=0,s=0,c=0,u=0,p=0;for(1&e?s=c=u=tn:i=n=p=tn;(e>>=1)>1;){let g=i+s>>1,v=n+c>>1;1&e?(s=i,c=n,i=u,n=p):(i=s,n=c,s=u,c=p),u=g,p=v}let f=4*t;eo[f+0]=i,eo[f+1]=n,eo[f+2]=s,eo[f+3]=c}let Zn=new Uint16Array(2178),to=new Uint8Array(1089),Y1=new Uint16Array(1089);function zm(t){return t===0?-.03125:t===32?.03125:0}var Am=oe([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);let Tm={type:2,extent:ot,loadGeometry:()=>[[new Se(0,0),new Se(ot+1,0),new Se(ot+1,ot+1),new Se(0,ot+1),new Se(0,0)]]};class Uu{constructor(e,i,n,s,c){this.tileID=e,this.uid=br(),this.uses=0,this.tileSize=i,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=c,this.expiredRequestCount=0,this.state="loading",s&&s.transform&&(this.projection=s.transform.projection)}registerFadeDuration(e){let i=e+this.timeAdded;i<cn.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=rs(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,i,n){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(s,c){let u={};if(!c)return u;for(let p of s){let f=p.layerIds.map(g=>c.getLayer(g)).filter(Boolean);if(f.length!==0){p.layers=f,p.stateDependentLayerIds&&(p.stateDependentLayers=p.stateDependentLayerIds.map(g=>f.filter(v=>v.id===g)[0]));for(let g of f)u[g.id]=p}}return u}(e.buckets,i.style),this.hasSymbolBuckets=!1;for(let s in this.buckets){let c=this.buckets[s];if(c instanceof Qr){if(this.hasSymbolBuckets=!0,!n)break;c.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let s in this.buckets){let c=this.buckets[s];if(c instanceof Qr&&c.hasRTLText){this.hasRTLText=!0,y.isLoading()||y.isLoaded()||m()!=="deferred"||_();break}}this.queryPadding=0;for(let s in this.buckets){let c=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(s).queryRadius(c))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new Yt}unloadVectorData(){if(this.hasData()){for(let e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(let n in this.buckets){let s=this.buckets[n];s.uploadPending()&&s.upload(e)}let i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new _0(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _0(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new _0(e,this.lineAtlas.image,i.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,i,n,s,c,u,p,f){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:s,pixelPosMatrix:p,transform:u,params:c,tileTransform:this.tileTransform},e,i,n):{}}querySourceFeatures(e,i){let n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;let s=n.loadVTLayers(),c=i?i.sourceLayer:"",u=s._geojsonTileLayer||s[c];if(!u)return;let p=Xs(i&&i.filter),{z:f,x:g,y:v}=this.tileID.canonical,b={z:f,x:g,y:v};for(let M=0;M<u.length;M++){let T=u.feature(M);if(p.needGeometry){let D=is(T,!0);if(!p.filter(new x(this.tileID.overscaledZ),D,this.tileID.canonical))continue}else if(!p.filter(new x(this.tileID.overscaledZ),T))continue;let C=n.getId(T,c),L=new Mm(T,f,g,v,C);L.tile=b,e.push(L)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){let i=this.expirationTime;if(e.cacheControl){let n=xa(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){let n=Date.now(),s=!1;if(this.expirationTime>n)s=!1;else if(i)if(this.expirationTime<i)s=!0;else{let c=this.expirationTime-i;c?this.expirationTime=n+Math.max(c,3e4):s=!0}else s=!0;s?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(e,i){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e).length===0||!i)return;let n=this.latestFeatureIndex.loadVTLayers(),s=i.style.listImages();for(let c in this.buckets){if(!i.style.hasLayer(c))continue;let u=this.buckets[c],p=u.layers[0].sourceLayer||"_geojsonTileLayer",f=n[p],g=e[p];if(!f||!g||Object.keys(g).length===0)continue;if(u.update(g,f,s,this.imageAtlas&&this.imageAtlas.patternPositions||{}),u instanceof R1||u instanceof I1){let b=i.style._getSourceCache(u.layers[0].source);i._terrain&&i._terrain.enabled&&b&&u.programConfigurations.needsUpload&&i._terrain._clearRenderCacheForTile(b.id,this.tileID)}let v=i&&i.style&&i.style.getLayer(c);v&&(this.queryPadding=Math.max(this.queryPadding,v.queryRadius(u)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<cn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=cn.now()+e}setTexture(e,i){let n=i.context,s=n.gl;this.texture=this.texture||i.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new _0(n,e,s.RGBA,{useMipmap:!0}),this.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE))}setDependencies(e,i){let n={};for(let s of i)n[s]=!0;this.dependencies[e]=n}hasDependency(e,i){for(let n of e){let s=this.dependencies[n];if(s){for(let c of i)if(s[c])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,i){if(!i||i.name==="mercator"||this._tileDebugBuffer)return;let n=fr(Tm,this.tileID.canonical,this.tileTransform)[0],s=new Pe,c=new Ia;for(let u=0;u<n.length;u++){let{x:p,y:f}=n[u];s.emplaceBack(p,f),c.emplaceBack(u)}c.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(c),this._tileDebugBuffer=e.createVertexBuffer(s,Xc.members),this._tileDebugSegments=Ci.simpleSegment(0,0,s.length,c.length)}_makeTileBoundsBuffers(e,i){if(this._tileBoundsBuffer||!i||i.name==="mercator")return;let n=fr(Tm,this.tileID.canonical,this.tileTransform)[0],s,c;if(this.isRaster){let u=function(p,f){let g=rs(p,f),v=Math.pow(2,p.z);for(let D=0;D<Gn;D++)for(let U=0;U<Gn;U++){let W=Ha((p.x+(U+zm(U))/tn)/v),j=oa((p.y+(D+zm(D))/tn)/v),$=f.project(W,j),K=D*Gn+U;Zn[2*K+0]=Math.round(($.x*g.scale-g.x)*ot),Zn[2*K+1]=Math.round(($.y*g.scale-g.y)*ot)}to.fill(0),Y1.fill(0);for(let D=2045;D>=0;D--){let U=4*D,W=eo[U+0],j=eo[U+1],$=eo[U+2],K=eo[U+3],X=W+$>>1,me=j+K>>1,ue=X+me-j,xe=me+W-X,ke=j*Gn+W,ge=K*Gn+$,ze=me*Gn+X,Ae=Math.hypot((Zn[2*ke+0]+Zn[2*ge+0])/2-Zn[2*ze+0],(Zn[2*ke+1]+Zn[2*ge+1])/2-Zn[2*ze+1])>=16;to[ze]=to[ze]||(Ae?1:0),D<1022&&(to[ze]=to[ze]||to[(j+xe>>1)*Gn+(W+ue>>1)]||to[(K+xe>>1)*Gn+($+ue>>1)])}let b=new we,M=new tt,T=0;function C(D,U){let W=U*Gn+D;return Y1[W]===0&&(b.emplaceBack(Zn[2*W+0],Zn[2*W+1],D*ot/tn,U*ot/tn),Y1[W]=++T),Y1[W]-1}function L(D,U,W,j,$,K){let X=D+W>>1,me=U+j>>1;if(Math.abs(D-$)+Math.abs(U-K)>1&&to[me*Gn+X])L($,K,D,U,X,me),L(W,j,$,K,X,me);else{let ue=C(D,U),xe=C(W,j),ke=C($,K);M.emplaceBack(ue,xe,ke)}}return L(0,0,tn,tn,tn,0),L(tn,tn,0,0,0,tn),{vertices:b,indices:M}}(this.tileID.canonical,i);s=u.vertices,c=u.indices}else{s=new we,c=new tt;for(let{x:p,y:f}of n)s.emplaceBack(p,f,0,0);let u=bu(s.int16,void 0,4);for(let p=0;p<u.length;p+=3)c.emplaceBack(u[p],u[p+1],u[p+2])}this._tileBoundsBuffer=e.createVertexBuffer(s,Am.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(c),this._tileBoundsSegments=Ci.simpleSegment(0,0,s.length,c.length)}_makeGlobeTileDebugBuffers(e,i){let n=i.projection;if(!n||n.name!=="globe"||i.freezeTileCoverage)return;let s=this.tileID.canonical,c=Jc(qd(s,i)),u=rl(i.zoom),p;u>0&&(p=Xh(new Float64Array(16),i.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,s,i,c,p,u),this._makeGlobeTileDebugTextBuffer(e,s,i,c,p,u)}_globePoint(e,i,n,s,c,u,p){let f=Yc(e,i,n);if(u){let g=1<<n.z,v=jn(s.center.lng),b=Hn(s.center.lat),M=(n.x+.5)/g-v,T=0;M>.5?T=-1:M<-.5&&(T=1);let C=(e/ot+n.x)/g+T,L=(i/ot+n.y)/g;C=(C-v)*s._pixelsPerMercatorPixel+v,L=(L-b)*s._pixelsPerMercatorPixel+b;let D=[C*s.worldSize,L*s.worldSize,0];wi(D,D,u),f=ts(f,D,p)}return wi(f,f,c)}_makeGlobeTileDebugBorderBuffer(e,i,n,s,c,u){let p=new Pe,f=new Ia,g=new he,v=(M,T,C,L,D)=>{let U=(C-M)/(D-1),W=(L-T)/(D-1),j=p.length;for(let $=0;$<D;$++){let K=M+$*U,X=T+$*W;p.emplaceBack(K,X);let me=this._globePoint(K,X,i,n,s,c,u);g.emplaceBack(me[0],me[1],me[2]),f.emplaceBack(j+$)}},b=ot;v(0,0,b,0,16),v(b,0,b,b,16),v(b,b,0,b,16),v(0,b,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(f),this._tileDebugBuffer=e.createVertexBuffer(p,Xc.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(g,Gd.members),this._tileDebugSegments=Ci.simpleSegment(0,0,p.length,f.length)}_makeGlobeTileDebugTextBuffer(e,i,n,s,c,u){let p=ot/4,f=new Pe,g=new tt,v=new he,b=25;g.reserve(32),f.reserve(b),v.reserve(b);let M=(T,C)=>b*T+C;for(let T=0;T<b;T++){let C=T*p;for(let L=0;L<b;L++){let D=L*p;f.emplaceBack(D,C);let U=this._globePoint(D,C,i,n,s,c,u);v.emplaceBack(U[0],U[1],U[2])}}for(let T=0;T<4;T++)for(let C=0;C<4;C++){let L=M(T,C),D=M(T,C+1),U=M(T+1,C),W=M(T+1,C+1);g.emplaceBack(L,D,U),g.emplaceBack(U,D,W)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(g),this._tileDebugTextBuffer=e.createVertexBuffer(f,Xc.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(v,Gd.members),this._tileDebugTextSegments=Ci.simpleSegment(0,0,b,32)}}class j_{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,i,n){let s=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][s]=this.stateChanges[e][s]||{},Mi(this.stateChanges[e][s],n),this.deletedStates[e]===null){this.deletedStates[e]={};for(let c in this.state[e])c!==s&&(this.deletedStates[e][c]=null)}else if(this.deletedStates[e]&&this.deletedStates[e][s]===null){this.deletedStates[e][s]={};for(let c in this.state[e][s])n[c]||(this.deletedStates[e][s][c]=null)}else for(let c in n)this.deletedStates[e]&&this.deletedStates[e][s]&&this.deletedStates[e][s][c]===null&&delete this.deletedStates[e][s][c]}removeFeatureState(e,i,n){if(this.deletedStates[e]===null)return;let s=String(i);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&i!==void 0)this.deletedStates[e][s]!==null&&(this.deletedStates[e][s]=this.deletedStates[e][s]||{},this.deletedStates[e][s][n]=null);else if(i!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][s])for(n in this.deletedStates[e][s]={},this.stateChanges[e][s])this.deletedStates[e][s][n]=null;else this.deletedStates[e][s]=null;else this.deletedStates[e]=null}getState(e,i){let n=String(i),s=Mi({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){let c=this.deletedStates[e][i];if(c===null)return{};for(let u in c)delete s[u]}return s}initializeTileState(e,i){e.setFeatureState(this.state,i)}coalesceChanges(e,i){let n={};for(let s in this.stateChanges){this.state[s]=this.state[s]||{};let c={};for(let u in this.stateChanges[s])this.state[s][u]||(this.state[s][u]={}),Mi(this.state[s][u],this.stateChanges[s][u]),c[u]=this.state[s][u];n[s]=c}for(let s in this.deletedStates){this.state[s]=this.state[s]||{};let c={};if(this.deletedStates[s]===null)for(let u in this.state[s])c[u]={},this.state[s][u]={};else for(let u in this.deletedStates[s]){if(this.deletedStates[s][u]===null)this.state[s][u]={};else if(this.state[s][u])for(let p of Object.keys(this.deletedStates[s][u]))delete this.state[s][u][p];c[u]=this.state[s][u]}n[s]=n[s]||{},Mi(n[s],c)}if(this.stateChanges={},this.deletedStates={},Object.keys(n).length!==0)for(let s in e)e[s].setFeatureState(n,i)}}class Cm{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,i){let n=this.toIdx(e,i);return{min:this.minimums[n],max:this.maximums[n]}}isLeaf(e,i){return this.leaves[this.toIdx(e,i)]}toIdx(e,i){return i*this.size+e}}function Em(t,e,i,n){let s=0,c=Number.MAX_VALUE;for(let u=0;u<3;u++)if(Math.abs(n[u])<1e-15){if(i[u]<t[u]||i[u]>e[u])return null}else{let p=1/n[u],f=(t[u]-i[u])*p,g=(e[u]-i[u])*p;if(f>g){let v=f;f=g,g=v}if(f>s&&(s=f),g<c&&(c=g),s>c)return null}return s}function Sm(t,e,i,n,s,c,u,p,f,g,v){let b=n-t,M=s-e,T=c-i,C=u-t,L=p-e,D=f-i,U=v[1]*D-v[2]*L,W=v[2]*C-v[0]*D,j=v[0]*L-v[1]*C,$=b*U+M*W+T*j;if(Math.abs($)<1e-15)return null;let K=1/$,X=g[0]-t,me=g[1]-e,ue=g[2]-i,xe=(X*U+me*W+ue*j)*K;if(xe<0||xe>1)return null;let ke=me*T-ue*M,ge=ue*b-X*T,ze=X*M-me*b,Ae=(v[0]*ke+v[1]*ge+v[2]*ze)*K;return Ae<0||xe+Ae>1?null:(C*ke+L*ge+D*ze)*K}function Lm(t,e,i){return(t-e)/(i-e)}function Im(t,e,i,n,s,c,u,p,f){let g=1<<i,v=c-n,b=u-s,M=(t+1)/g*v+n,T=(e+0)/g*b+s,C=(e+1)/g*b+s;p[0]=(t+0)/g*v+n,p[1]=T,f[0]=M,f[1]=C}class Pm{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;let i=function(c){let u=Math.ceil(Math.log2(c.dim/8)),p=[],f=Math.ceil(Math.pow(2,u)),g=1/f,v=(T,C,L,D,U)=>{let W=D?1:0,j=(T+1)*L-W,$=C*L,K=(C+1)*L-W;U[0]=T*L,U[1]=$,U[2]=j,U[3]=K},b=new Cm(f),M=[];for(let T=0;T<f*f;T++){v(T%f,Math.floor(T/f),g,!1,M);let C=io(M[0],M[1],c),L=io(M[2],M[1],c),D=io(M[2],M[3],c),U=io(M[0],M[3],c);b.minimums.push(Math.min(C,L,D,U)),b.maximums.push(Math.max(C,L,D,U)),b.leaves.push(1)}for(p.push(b),f/=2;f>=1;f/=2){let T=p[p.length-1];b=new Cm(f);for(let C=0;C<f*f;C++){v(C%f,Math.floor(C/f),2,!0,M);let L=T.getElevation(M[0],M[1]),D=T.getElevation(M[2],M[1]),U=T.getElevation(M[2],M[3]),W=T.getElevation(M[0],M[3]),j=T.isLeaf(M[0],M[1]),$=T.isLeaf(M[2],M[1]),K=T.isLeaf(M[2],M[3]),X=T.isLeaf(M[0],M[3]),me=Math.min(L.min,D.min,U.min,W.min),ue=Math.max(L.max,D.max,U.max,W.max),xe=j&&$&&K&&X;b.maximums.push(ue),b.minimums.push(me),b.leaves.push(ue-me<=5&&xe?1:0)}p.push(b)}return p}(this.dem),n=i.length-1,s=i[n];this._addNode(s.minimums[0],s.maximums[0],s.leaves[0]),this._construct(i,0,0,n,0)}raycastRoot(e,i,n,s,c,u,p=1){return Em([e,i,-100],[n,s,this.maximums[0]*p],c,u)}raycast(e,i,n,s,c,u,p=1){if(!this.nodeCount)return null;let f=this.raycastRoot(e,i,n,s,c,u,p);if(f==null)return null;let g=[],v=[],b=[],M=[],T=[{idx:0,t:f,nodex:0,nodey:0,depth:0}];for(;T.length>0;){let{idx:C,t:L,nodex:D,nodey:U,depth:W}=T.pop();if(this.leaves[C]){Im(D,U,W,e,i,n,s,b,M);let $=1<<W,K=(D+0)/$,X=(D+1)/$,me=(U+0)/$,ue=(U+1)/$,xe=io(K,me,this.dem)*p,ke=io(X,me,this.dem)*p,ge=io(X,ue,this.dem)*p,ze=io(K,ue,this.dem)*p,Ae=Sm(b[0],b[1],xe,M[0],b[1],ke,M[0],M[1],ge,c,u),Ee=Sm(M[0],M[1],ge,b[0],M[1],ze,b[0],b[1],xe,c,u),Fe=Math.min(Ae!==null?Ae:Number.MAX_VALUE,Ee!==null?Ee:Number.MAX_VALUE);if(Fe!==Number.MAX_VALUE)return Fe;{let ye=qc([],c,u,L);if(km(xe,ke,ze,ge,Lm(ye[0],b[0],M[0]),Lm(ye[1],b[1],M[1]))>=ye[2])return L}continue}let j=0;for(let $=0;$<this._siblingOffset.length;$++){Im((D<<1)+this._siblingOffset[$][0],(U<<1)+this._siblingOffset[$][1],W+1,e,i,n,s,b,M),b[2]=-100,M[2]=this.maximums[this.childOffsets[C]+$]*p;let K=Em(b,M,c,u);if(K!=null){let X=K;g[$]=X;let me=!1;for(let ue=0;ue<j&&!me;ue++)X>=g[v[ue]]&&(v.splice(ue,0,$),me=!0);me||(v[j]=$),j++}}for(let $=0;$<j;$++){let K=v[$];T.push({idx:this.childOffsets[C]+K,t:g[K],nodex:(D<<1)+this._siblingOffset[K][0],nodey:(U<<1)+this._siblingOffset[K][1],depth:W+1})}}return null}_addNode(e,i,n){return this.minimums.push(e),this.maximums.push(i),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}_construct(e,i,n,s,c){if(e[s].isLeaf(i,n)===1)return;this.childOffsets[c]||(this.childOffsets[c]=this.nodeCount);let u=s-1,p=e[u],f=0,g=0;for(let v=0;v<this._siblingOffset.length;v++){let b=2*i+this._siblingOffset[v][0],M=2*n+this._siblingOffset[v][1],T=p.getElevation(b,M),C=p.isLeaf(b,M),L=this._addNode(T.min,T.max,C);C&&(f|=1<<v),g||(g=L)}for(let v=0;v<this._siblingOffset.length;v++)f&1<<v||this._construct(e,2*i+this._siblingOffset[v][0],2*n+this._siblingOffset[v][1],u,g+v)}}function km(t,e,i,n,s,c){return Bt(Bt(t,i,c),Bt(e,n,c),s)}function io(t,e,i){let n=i.dim,s=Pt(t*n-.5,0,n-1),c=Pt(e*n-.5,0,n-1),u=Math.floor(s),p=Math.floor(c),f=Math.min(u+1,n-1),g=Math.min(p+1,n-1);return km(i.get(u,p),i.get(f,p),i.get(u,g),i.get(f,g),s-u,c-p)}let Dm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function H_(t,e,i){return(256*t*256+256*e+i)/10-1e4}function G_(t,e,i){return 256*t+e+i/256-32768}class J1{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,i,n,s=!1,c=!1){if(this.uid=e,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(n&&n!=="mapbox"&&n!=="terrarium")return mi(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;let u=this.dim=i.height-2,p=new Uint32Array(i.data.buffer);if(this.pixels=new Uint8Array(i.data.buffer),this.encoding=n||"mapbox",this.borderReady=s,!s){for(let f=0;f<u;f++)p[this._idx(-1,f)]=p[this._idx(0,f)],p[this._idx(u,f)]=p[this._idx(u-1,f)],p[this._idx(f,-1)]=p[this._idx(f,0)],p[this._idx(f,u)]=p[this._idx(f,u-1)];p[this._idx(-1,-1)]=p[this._idx(0,0)],p[this._idx(u,-1)]=p[this._idx(u-1,0)],p[this._idx(-1,u)]=p[this._idx(0,u-1)],p[this._idx(u,u)]=p[this._idx(u-1,u-1)],c&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Pm(this)}get(e,i,n=!1){n&&(e=Pt(e,-1,this.dim),i=Pt(i,-1,this.dim));let s=4*this._idx(e,i);return(this.encoding==="terrarium"?G_:H_)(this.pixels[s],this.pixels[s+1],this.pixels[s+2])}static getUnpackVector(e){return Dm[e]}get unpackVector(){return Dm[this.encoding]}_idx(e,i){if(e<-1||e>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(e+1)}static pack(e,i){let n=[0,0,0,0],s=J1.getUnpackVector(i),c=Math.floor((e+s[3])/s[2]);return n[2]=c%256,c=Math.floor(c/256),n[1]=c%256,c=Math.floor(c/256),n[0]=c,n}getPixels(){return new ka({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,i,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let s=i*this.dim,c=i*this.dim+this.dim,u=n*this.dim,p=n*this.dim+this.dim;switch(i){case-1:s=c-1;break;case 1:c=s+1}switch(n){case-1:u=p-1;break;case 1:p=u+1}let f=-i*this.dim,g=-n*this.dim;for(let v=u;v<p;v++)for(let b=s;b<c;b++){let M=4*this._idx(b,v),T=4*this._idx(b+f,v+g);this.pixels[M+0]=e.pixels[T+0],this.pixels[M+1]=e.pixels[T+1],this.pixels[M+2]=e.pixels[T+2],this.pixels[M+3]=e.pixels[T+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Xe(J1,"DEMData"),Xe(Pm,"DemMinMaxQuadTree",{omit:["dem"]});class Z_{constructor(e,i){this.max=e,this.onRemove=i,this.reset()}reset(){for(let e in this.data)for(let i of this.data[e])i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value);return this.data={},this.order=[],this}add(e,i,n){let s=e.wrapped().key;this.data[s]===void 0&&(this.data[s]=[]);let c={value:i,timeout:void 0};if(n!==void 0&&(c.timeout=setTimeout(()=>{this.remove(e,c)},n)),this.data[s].push(c),this.order.push(s),this.order.length>this.max){let u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){let i=this.data[e].shift();return i.timeout&&clearTimeout(i.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),i.value}getByKey(e){let i=this.data[e];return i?i[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,i){if(!this.has(e))return this;let n=e.wrapped().key,s=i===void 0?0:this.data[n].indexOf(i),c=this.data[n][s];return this.data[n].splice(s,1),c.timeout&&clearTimeout(c.timeout),this.data[n].length===0&&delete this.data[n],this.onRemove(c.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){let i=this._getAndRemoveByKey(this.order[0]);i&&this.onRemove(i)}return this}filter(e){let i=[];for(let n in this.data)for(let s of this.data[n])e(s.value)||i.push(s);for(let n of i)this.remove(n.value.tileID,n)}}class xl{constructor(e,i,n){this.func=e,this.mask=i,this.range=n}}xl.ReadOnly=!1,xl.ReadWrite=!0,xl.disabled=new xl(519,xl.ReadOnly,[0,1]);let ju=7680;class Hu{constructor(e,i,n,s,c,u){this.test=e,this.ref=i,this.mask=n,this.fail=s,this.depthFail=c,this.pass=u}}Hu.disabled=new Hu({func:519,mask:0},0,0,ju,ju,ju);class $n{constructor(e,i,n){this.blendFunction=e,this.blendColor=i,this.mask=n}}$n.Replace=[1,0],$n.disabled=new $n($n.Replace,bi.transparent,[!1,!1,!1,!1]),$n.unblended=new $n($n.Replace,bi.transparent,[!0,!0,!0,!0]),$n.alphaBlended=new $n([1,771],bi.transparent,[!0,!0,!0,!0]);let Gu=1029,Zu=2305;class Cn{constructor(e,i,n){this.enable=e,this.mode=i,this.frontFace=n}}Cn.disabled=new Cn(!1,Gu,Zu),Cn.backCCW=new Cn(!0,Gu,Zu),Cn.backCW=new Cn(!0,Gu,2304),Cn.frontCW=new Cn(!0,1028,2304),Cn.frontCCW=new Cn(!0,1028,Zu);class os extends Mo{constructor(e,i,n){super(),this.id=e,this._onlySymbols=n,i.on("data",s=>{s.dataType==="source"&&s.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&s.dataType==="source"&&s.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),i.on("error",()=>{this._sourceErrored=!0}),this._source=i,this._tiles={},this._cache=new Z_(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=i.minTileCacheSize,this._maxTileCacheSize=i.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new j_,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(e){this.map=e,this._minTileCacheSize=this._minTileCacheSize===void 0&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(let e in this._tiles){let i=this._tiles[e];if(i.state!=="loaded"&&i.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;let e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,i){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,i)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(let i in this._tiles){let n=this._tiles[i];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return In(this._tiles).map(e=>e.tileID).sort(Om).map(e=>e.key)}getRenderableIds(e){let i=[];for(let n in this._tiles)this._isIdRenderable(+n,e)&&i.push(this._tiles[n]);return e?i.sort((n,s)=>{let c=n.tileID,u=s.tileID,p=new Se(c.canonical.x,c.canonical.y)._rotate(this.transform.angle),f=new Se(u.canonical.x,u.canonical.y)._rotate(this.transform.angle);return c.overscaledZ-u.overscaledZ||f.y-p.y||f.x-p.x}).map(n=>n.tileID.key):i.map(n=>n.tileID).sort(Om).map(n=>n.key)}hasRenderableParent(e){let i=this.findLoadedParent(e,0);return!!i&&this._isIdRenderable(i.tileID.key)}_isIdRenderable(e,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(i||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(let e in this._tiles)this._tiles[e].state!=="errored"&&this._reloadTile(+e,"reloading")}}_reloadTile(e,i){let n=this._tiles[e];n&&(n.state!=="loading"&&(n.state=i),this._loadTile(n,this._tileLoaded.bind(this,n,e,i)))}_tileLoaded(e,i,n,s){if(s)if(e.state="errored",s.status!==404)this._source.fire(new hn(s,{tile:e}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){let c=this.map.painter.terrain;this.update(this.transform,c.getScaledDemTileSize(),!0),c.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=cn.now(),n==="expired"&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),this._source.type==="raster-dem"&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new tr("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){let i=this.getRenderableIds();for(let s=0;s<i.length;s++){let c=i[s];if(e.neighboringTiles&&e.neighboringTiles[c]){let u=this.getTileByID(c);n(e,u),n(u,e)}}function n(s,c){if(!s.dem||s.dem.borderReady)return;s.needsHillshadePrepare=!0,s.needsDEMTextureUpload=!0;let u=c.tileID.canonical.x-s.tileID.canonical.x,p=c.tileID.canonical.y-s.tileID.canonical.y,f=Math.pow(2,s.tileID.canonical.z),g=c.tileID.key;u===0&&p===0||Math.abs(p)>1||(Math.abs(u)>1&&(Math.abs(u+f)===1?u+=f:Math.abs(u-f)===1&&(u-=f)),c.dem&&s.dem&&(s.dem.backfillBorder(c.dem,u,p),s.neighboringTiles&&s.neighboringTiles[g]&&(s.neighboringTiles[g].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,i,n,s){for(let c in this._tiles){let u=this._tiles[c];if(s[c]||!u.hasData()||u.tileID.overscaledZ<=i||u.tileID.overscaledZ>n)continue;let p=u.tileID;for(;u&&u.tileID.overscaledZ>i+1;){let g=u.tileID.scaledTo(u.tileID.overscaledZ-1);u=this._tiles[g.key],u&&u.hasData()&&(p=g)}let f=p;for(;f.overscaledZ>i;)if(f=f.scaledTo(f.overscaledZ-1),e[f.key]){s[p.key]=p;break}}}findLoadedParent(e,i){if(e.key in this._loadedParentTiles){let n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=i?n:null}for(let n=e.overscaledZ-1;n>=i;n--){let s=e.scaledTo(n),c=this._getLoadedTile(s);if(c)return c}}_getLoadedTile(e){let i=this._tiles[e.key];return i&&i.hasData()?i:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,i){i=i||this._source.tileSize;let n=Math.ceil(e.width/i)+1,s=Math.ceil(e.height/i)+1,c=Math.floor(n*s*5),u=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,c):c,p=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,u):u;this._cache.setMaxSize(p)}handleWrapJump(e){let i=Math.round((e-(this._prevLng===void 0?e:this._prevLng))/360);if(this._prevLng=e,i){let n={};for(let s in this._tiles){let c=this._tiles[s];c.tileID=c.tileID.unwrapTo(c.tileID.wrap+i),n[c.tileID.key]=c}this._tiles=n;for(let s in this._timers)clearTimeout(this._timers[s]),delete this._timers[s];for(let s in this._tiles)this._setTileReloadTimer(+s,this._tiles[s])}}update(e,i,n){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!n)return;let s;this.updateCacheSize(e,i),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?s=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(p=>new ga(p.canonical.z,p.wrap,p.canonical.z,p.canonical.x,p.canonical.y)):(s=e.coveringTiles({tileSize:i||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(s=s.filter(p=>this._source.hasTile(p)))):s=[];let c=this._updateRetainedTiles(s);if(Rm(this._source.type)&&s.length!==0){let p={},f={},g=Object.keys(c);for(let b of g){let M=c[b],T=this._tiles[b];if(!T||T.fadeEndTime&&T.fadeEndTime<=cn.now())continue;let C=this.findLoadedParent(M,Math.max(M.overscaledZ-os.maxOverzooming,this._source.minzoom));C&&(this._addTile(C.tileID),p[C.tileID.key]=C.tileID),f[b]=M}let v=s[s.length-1].overscaledZ;for(let b in this._tiles){let M=this._tiles[b];if(c[b]||!M.hasData())continue;let T=M.tileID;for(;T.overscaledZ>v;){T=T.scaledTo(T.overscaledZ-1);let C=this._tiles[T.key];if(C&&C.hasData()&&f[T.key]){c[b]=M.tileID;break}}}for(let b in p)c[b]||(this._coveredTiles[b]=!0,c[b]=p[b])}for(let p in c)this._tiles[p].clearFadeHold();let u=function(p,f){let g=[];for(let v in p)v in f||g.push(v);return g}(this._tiles,c);for(let p of u){let f=this._tiles[p];f.hasSymbolBuckets&&!f.holdingForFade()?f.setHoldDuration(this.map._fadeDuration):f.hasSymbolBuckets&&!f.symbolFadeFinished()||this._removeTile(+p)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(let e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){let i={};if(e.length===0)return i;let n={},s=e.reduce((g,v)=>Math.min(g,v.overscaledZ),1/0),c=e[0].overscaledZ,u=Math.max(c-os.maxOverzooming,this._source.minzoom),p=Math.max(c+os.maxUnderzooming,this._source.minzoom),f={};for(let g of e){let v=this._addTile(g);i[g.key]=g,v.hasData()||s<this._source.maxzoom&&(f[g.key]=g)}this._retainLoadedChildren(f,s,p,i);for(let g of e){let v=this._tiles[g.key];if(v.hasData())continue;if(g.canonical.z>=this._source.maxzoom){let M=g.children(this._source.maxzoom)[0],T=this.getTile(M);if(T&&T.hasData()){i[M.key]=M;continue}}else{let M=g.children(this._source.maxzoom);if(i[M[0].key]&&i[M[1].key]&&i[M[2].key]&&i[M[3].key])continue}let b=v.wasRequested();for(let M=g.overscaledZ-1;M>=u;--M){let T=g.scaledTo(M);if(n[T.key]||(n[T.key]=!0,v=this.getTile(T),!v&&b&&(v=this._addTile(T)),v&&(i[T.key]=T,b=v.wasRequested(),v.hasData())))break}}return i}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(let e in this._tiles){let i=[],n,s=this._tiles[e].tileID;for(;s.overscaledZ>0;){if(s.key in this._loadedParentTiles){n=this._loadedParentTiles[s.key];break}i.push(s.key);let c=s.scaledTo(s.overscaledZ-1);if(n=this._getLoadedTile(c),n)break;s=c}for(let c of i)this._loadedParentTiles[c]=n}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));let n=!!i;if(!n){let s=this.map?this.map.painter:null;i=new Uu(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,s,this._isRaster),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))}return i?(i.uses++,this._tiles[e.key]=i,n||this._source.fire(new tr("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null}_setTileReloadTimer(e,i){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);let n=i.getExpiryTimeout();n&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},n))}_removeTile(e){let i=this._tiles[e];i&&(i.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),i.uses>0||(i.hasData()&&i.state!=="reloading"?this._cache.add(i.tileID,i,i.getExpiryTimeout()):(i.aborted=!0,this._abortTile(i),this._unloadTile(i))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,i,n){let s=[],c=this.transform;if(!c)return s;let u=c.projection.name==="globe",p=jn(c.center.lng);for(let f in this._tiles){let g=this._tiles[f];if(n&&g.clearQueryDebugViz(),g.holdingForFade())continue;let v;if(u){let b=g.tileID.canonical;if(b.z===0){let M=[Math.abs(Pt(p,...y0(b,-1))-p),Math.abs(Pt(p,...y0(b,1))-p)];v=[0,2*M.indexOf(Math.min(...M))-1]}else{let M=[Math.abs(Pt(p,...y0(b,-1))-p),Math.abs(Pt(p,...y0(b,0))-p),Math.abs(Pt(p,...y0(b,1))-p)];v=[M.indexOf(Math.min(...M))-1]}}else v=[0];for(let b of v){let M=e.containsTile(g,c,i,b);M&&s.push(M)}}return s}getVisibleCoordinates(e){let i=this.getRenderableIds(e).map(n=>this._tiles[n].tileID);for(let n of i)n.projMatrix=this.transform.calculateProjMatrix(n.toUnwrapped());return i}hasTransition(){if(this._source.hasTransition())return!0;if(Rm(this._source.type))for(let e in this._tiles){let i=this._tiles[e];if(i.fadeEndTime!==void 0&&i.fadeEndTime>=cn.now())return!0}return!1}setFeatureState(e,i,n){this._state.updateState(e=e||"_geojsonTileLayer",i,n)}removeFeatureState(e,i,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",i,n)}getFeatureState(e,i){return this._state.getState(e=e||"_geojsonTileLayer",i)}setDependencies(e,i,n){let s=this._tiles[e];s&&s.setDependencies(i,n)}reloadTilesForDependencies(e,i){for(let n in this._tiles)this._tiles[n].hasDependency(e,i)&&this._reloadTile(+n,"reloading");this._cache.filter(n=>!n.hasDependency(e,i))}_preloadTiles(e,i){if(!this._sourceLoaded){let p=()=>{this._sourceLoaded&&(this._source.off("data",p),this._preloadTiles(e,i))};return void this._source.on("data",p)}let n=new Map,s=Array.isArray(e)?e:[e],c=this.map.painter.terrain,u=this.usedForTerrain&&c?c.getScaledDemTileSize():this._source.tileSize;for(let p of s){let f=p.coveringTiles({tileSize:u,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(let g of f)n.set(g.key,g);this.usedForTerrain&&p.updateElevation(!1)}Fi(Array.from(n.values()),(p,f)=>{let g=new Uu(p,this._source.tileSize*p.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(g,v=>{this._source.type==="raster-dem"&&g.dem&&this._backfillDEM(g),f(v,g)})},i)}}function Om(t,e){let i=Math.abs(2*t.wrap)-+(t.wrap<0),n=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||n-i||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Rm(t){return t==="raster"||t==="image"||t==="video"||t==="custom"}function y0(t,e){let i=1<<t.z;return[t.x/i+e,(t.x+1)/i+e]}os.maxOverzooming=10,os.maxUnderzooming=3;class Q1{constructor(e,i,n){this._demTile=e,this._dem=this._demTile.dem,this._scale=i,this._offset=n}static create(e,i,n){let s=n||e.findDEMTileFor(i);if(!s||!s.dem)return;let c=s.dem,u=s.tileID,p=1<<i.canonical.z-u.canonical.z;return new Q1(s,s.tileSize/ot/p,[(i.canonical.x/p-u.canonical.x)*c.dim,(i.canonical.y/p-u.canonical.y)*c.dim])}tileCoordToPixel(e,i){let n=i*this._scale+this._offset[1],s=Math.floor(e*this._scale+this._offset[0]),c=Math.floor(n);return new Se(s,c)}getElevationAt(e,i,n,s){let c=e*this._scale+this._offset[0],u=i*this._scale+this._offset[1],p=Math.floor(c),f=Math.floor(u),g=this._dem;return s=!!s,n?Bt(Bt(g.get(p,f,s),g.get(p,f+1,s),u-f),Bt(g.get(p+1,f,s),g.get(p+1,f+1,s),u-f),c-p):g.get(p,f,s)}getElevationAtPixel(e,i,n){return this._dem.get(e,i,!!n)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*zn(1,e)*this._dem.stride}}class Bm{constructor(e,i){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new lr(ot,16,0),this.featureIndexArray=new Wo,this.promoteId=i}insert(e,i,n,s,c,u=0){let p=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,s,c,u);let f=this.grid;for(let g=0;g<i.length;g++){let v=i[g],b=[1/0,1/0,-1/0,-1/0];for(let M=0;M<v.length;M++){let T=v[M];b[0]=Math.min(b[0],T.x),b[1]=Math.min(b[1],T.y),b[2]=Math.max(b[2],T.x),b[3]=Math.max(b[3],T.y)}b[0]<ot&&b[1]<ot&&b[2]>=0&&b[3]>=0&&f.insert(p,b[0],b[1],b[2],b[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Au(new V1(this.rawTileData)).layers,this.sourceLayerCoder=new wm(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(let e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,i,n,s){this.loadVTLayers();let c=e.params||{},u=Xs(c.filter),p=e.tileResult,f=e.transform,g=p.bufferedTilespaceBounds,v=this.grid.query(g.min.x,g.min.y,g.max.x,g.max.y,(C,L,D,U)=>lp(p.bufferedTilespaceGeometry,C,L,D,U));v.sort($_);let b=null;f.elevation&&v.length>0&&(b=Q1.create(f.elevation,this.tileID));let M={},T;for(let C=0;C<v.length;C++){let L=v[C];if(L===T)continue;T=L;let D=this.featureIndexArray.get(L),U=null;this.loadMatchingFeature(M,D,u,c.layers,c.availableImages,i,n,s,(W,j,$,K=0)=>(U||(U=fr(W,this.tileID.canonical,e.tileTransform)),j.queryIntersectsFeature(p,W,$,U,this.z,e.transform,e.pixelPosMatrix,b,K)))}return M}loadMatchingFeature(e,i,n,s,c,u,p,f,g){let{featureIndex:v,bucketIndex:b,sourceLayerIndex:M,layoutVertexArrayOffset:T}=i,C=this.bucketLayerIDs[b];if(s&&!function(W,j){for(let $=0;$<W.length;$++)if(j.indexOf(W[$])>=0)return!0;return!1}(s,C))return;let L=this.sourceLayerCoder.decode(M),D=this.vtLayers[L].feature(v);if(n.needGeometry){let W=is(D,!0);if(!n.filter(new x(this.tileID.overscaledZ),W,this.tileID.canonical))return}else if(!n.filter(new x(this.tileID.overscaledZ),D))return;let U=this.getId(D,L);for(let W=0;W<C.length;W++){let j=C[W];if(s&&s.indexOf(j)<0)continue;let $=u[j];if(!$)continue;let K={};U!==void 0&&f&&(K=f.getState($.sourceLayer||"_geojsonTileLayer",U));let X=Mi({},p[j]);X.paint=Fm(X.paint,$.paint,D,K,c),X.layout=Fm(X.layout,$.layout,D,K,c);let me=!g||g(D,$,K,T);if(!me)continue;let ue=new Mm(D,this.z,this.x,this.y,U);ue.layer=X;let xe=e[j];xe===void 0&&(xe=e[j]=[]),xe.push({featureIndex:v,feature:ue,intersectionZ:me})}}lookupSymbolFeatures(e,i,n,s,c,u,p,f){let g={};this.loadVTLayers();let v=Xs(c);for(let b of e)this.loadMatchingFeature(g,{bucketIndex:n,sourceLayerIndex:s,featureIndex:b,layoutVertexArrayOffset:0},v,u,p,f,i);return g}loadFeature(e){let{featureIndex:i,sourceLayerIndex:n}=e;this.loadVTLayers();let s=this.sourceLayerCoder.decode(n),c=this.vtFeatures[s];if(c[i])return c[i];let u=this.vtLayers[s].feature(i);return c[i]=u,u}hasLayer(e){for(let i of this.bucketLayerIDs)for(let n of i)if(e===n)return!0;return!1}getId(e,i){let n=e.id;if(this.promoteId){let s=typeof this.promoteId=="string"?this.promoteId:this.promoteId[i];s!=null&&(n=e.properties[s]),typeof n=="boolean"&&(n=Number(n))}return n}}function Fm(t,e,i,n,s){return Ot(t,(c,u)=>{let p=e instanceof N?e.get(u):null;return p&&p.evaluate?p.evaluate(i,n,s):p})}function $_(t,e){return e-t}Xe(Bm,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Vm{constructor(e,i){this.width=e,this.height=i,this.nextRow=0,this.image=new gr({width:e,height:i}),this.positions={},this.uploaded=!1}getDash(e,i){let n=this.getKey(e,i);return this.positions[n]}trim(){let e=this.width,i=this.height=sn(this.nextRow);this.image.resize({width:e,height:i})}getKey(e,i){return e.join(",")+i}getDashRanges(e,i,n){let s=[],c=e.length%2==1?-e[e.length-1]*n:0,u=e[0]*n,p=!0;s.push({left:c,right:u,isDash:p,zeroLength:e[0]===0});let f=e[0];for(let g=1;g<e.length;g++){p=!p;let v=e[g];c=f*n,f+=v,u=f*n,s.push({left:c,right:u,isDash:p,zeroLength:v===0})}return s}addRoundDash(e,i,n){let s=i/2;for(let c=-n;c<=n;c++){let u=this.width*(this.nextRow+n+c),p=0,f=e[p];for(let g=0;g<this.width;g++){g/f.right>1&&(f=e[++p]);let v=Math.abs(g-f.left),b=Math.abs(g-f.right),M=Math.min(v,b),T,C=c/n*(s+1);if(f.isDash){let L=s-Math.abs(C);T=Math.sqrt(M*M+L*L)}else T=s-Math.sqrt(M*M+C*C);this.image.data[u+g]=Math.max(0,Math.min(255,T+128))}}}addRegularDash(e,i){for(let f=e.length-1;f>=0;--f){let g=e[f],v=e[f+1];g.zeroLength?e.splice(f,1):v&&v.isDash===g.isDash&&(v.left=g.left,e.splice(f,1))}let n=e[0],s=e[e.length-1];n.isDash===s.isDash&&(n.left=s.left-this.width,s.right=n.right+this.width);let c=this.width*this.nextRow,u=0,p=e[u];for(let f=0;f<this.width;f++){f/p.right>1&&(p=e[++u]);let g=Math.abs(f-p.left),v=Math.abs(f-p.right),b=Math.min(g,v);this.image.data[c+f]=Math.max(0,Math.min(255,(p.isDash?b:-b)+i+128))}}addDash(e,i){let n=this.getKey(e,i);if(this.positions[n])return this.positions[n];let s=i==="round",c=s?7:0,u=2*c+1;if(this.nextRow+u>this.height)return mi("LineAtlas out of space"),null;e.length===0&&e.push(1);let p=0;for(let v=0;v<e.length;v++)e[v]<0&&(mi("Negative value is found in line dasharray, replacing values with 0"),e[v]=0),p+=e[v];if(p!==0){let v=this.width/p,b=this.getDashRanges(e,this.width,v);s?this.addRoundDash(b,v,c):this.addRegularDash(b,i==="square"?.5*v:0)}let f=this.nextRow+c;this.nextRow+=u;let g={tl:[f,c],br:[p,0]};return this.positions[n]=g,g}}Xe(Vm,"LineAtlas");let Nm=1*Tn;class Um{constructor(e){let i={},n=[];for(let p in e){let f=e[p],g=i[p]={};for(let v in f.glyphs){let b=f.glyphs[+v];if(!b||b.bitmap.width===0||b.bitmap.height===0)continue;let M=b.metrics.localGlyph?Nm:1,T={x:0,y:0,w:b.bitmap.width+2*M,h:b.bitmap.height+2*M};n.push(T),g[v]=T}}let{w:s,h:c}=Su(n),u=new gr({width:s||1,height:c||1});for(let p in e){let f=e[p];for(let g in f.glyphs){let v=f.glyphs[+g];if(!v||v.bitmap.width===0||v.bitmap.height===0)continue;let b=i[p][g],M=v.metrics.localGlyph?Nm:1;gr.copy(v.bitmap,u,{x:0,y:0},{x:b.x+M,y:b.y+M},v.bitmap)}}this.image=u,this.positions=i}}Xe(Um,"GlyphAtlas");class q_{constructor(e){this.tileID=new ga(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=rs(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,i,n,s,c){this.status="parsing",this.data=e,this.collisionBoxArray=new Yt;let u=new wm(Object.keys(e.layers).sort()),p=new Bm(this.tileID,this.promoteId);p.bucketLayerIDs=[];let f={},g=new Vm(256,256),v={featureIndex:p,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:g,availableImages:n},b=i.familiesBySource[this.source];for(let K in b){let X=e.layers[K];if(!X)continue;let me=!1,ue=!1;for(let ge of b[K])ge[0].type==="symbol"?me=!0:ue=!0;if(this.isSymbolTile===!0&&!me||this.isSymbolTile===!1&&!ue)continue;X.version===1&&mi(`Vector tile source "${this.source}" layer "${K}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let xe=u.encode(K),ke=[];for(let ge=0;ge<X.length;ge++){let ze=X.feature(ge),Ae=p.getId(ze,K);ke.push({feature:ze,id:Ae,index:ge,sourceLayerIndex:xe})}for(let ge of b[K]){let ze=ge[0];this.isSymbolTile!==void 0&&ze.type==="symbol"!==this.isSymbolTile||ze.minzoom&&this.zoom<Math.floor(ze.minzoom)||ze.maxzoom&&this.zoom>=ze.maxzoom||ze.visibility!=="none"&&($u(ge,this.zoom,n),(f[ze.id]=ze.createBucket({index:p.bucketLayerIDs.length,layers:ge,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xe,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(ke,v,this.tileID.canonical,this.tileTransform),p.bucketLayerIDs.push(ge.map(Ae=>Ae.id)))}}let M,T,C,L;g.trim();let D={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},U=()=>{if(M)return c(M);if(T&&C&&L){let K=new Um(T),X=new Wp(C,L);for(let me in f){let ue=f[me];ue instanceof Qr?($u(ue.layers,this.zoom,n),v_(ue,T,K.positions,C,X.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):ue.hasPattern&&(ue instanceof R1||ue instanceof I1||ue instanceof o0)&&($u(ue.layers,this.zoom,n),ue.addFeatures(v,this.tileID.canonical,X.patternPositions,n,this.tileTransform))}this.status="done",c(null,{buckets:In(f).filter(me=>!me.isEmpty()),featureIndex:p,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:K.image,lineAtlas:g,imageAtlas:X,glyphMap:this.returnDependencies?T:null,iconMap:this.returnDependencies?C:null,glyphPositions:this.returnDependencies?K.positions:null})}},W=Ot(v.glyphDependencies,K=>Object.keys(K).map(Number));Object.keys(W).length?s.send("getGlyphs",{uid:this.uid,stacks:W},(K,X)=>{M||(M=K,T=X,U())},void 0,!1,D):T={};let j=Object.keys(v.iconDependencies);j.length?s.send("getImages",{icons:j,source:this.source,tileID:this.tileID,type:"icons"},(K,X)=>{M||(M=K,C=X,U())},void 0,!1,D):C={};let $=Object.keys(v.patternDependencies);$.length?s.send("getImages",{icons:$,source:this.source,tileID:this.tileID,type:"patterns"},(K,X)=>{M||(M=K,L=X,U())},void 0,!1,D):L={},U()}}function $u(t,e,i){let n=new x(e);for(let s of t)s.recalculate(n,i)}class jm{constructor(e){this.entries={},this.scheduler=e}request(e,i,n,s){let c=this.entries[e]=this.entries[e]||{callbacks:[]};if(c.result){let[u,p]=c.result;return this.scheduler?this.scheduler.add(()=>{s(u,p)},i):s(u,p),()=>{}}return c.callbacks.push(s),c.cancel||(c.cancel=n((u,p)=>{c.result=[u,p];for(let f of c.callbacks)this.scheduler?this.scheduler.add(()=>{f(u,p)},i):f(u,p);setTimeout(()=>delete this.entries[e],3e3)})),()=>{c.result||(c.callbacks=c.callbacks.filter(u=>u!==s),c.callbacks.length||(c.cancel(),delete this.entries[e]))}}}function Hm(t,e,i){let n=JSON.stringify(t.request);return t.data&&(this.deduped.entries[n]={result:[null,t.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},s=>{let c=Cr(t.request,(u,p,f,g)=>{u?s(u):p&&s(null,{vectorTile:i?void 0:new Au(new V1(p)),rawData:p,cacheControl:f,expires:g})});return()=>{c.cancel(),s()}},e)}let Gm=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class qu{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[i,n]=new Uint8Array(e,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");let s=n>>4;if(s!==1)throw new Error(`Got v${s} data when expected v1.`);let c=Gm[15&n];if(!c)throw new Error("Unrecognized array type.");let[u]=new Uint16Array(e,2,1),[p]=new Uint32Array(e,4,1);return new qu(p,u,c,e)}constructor(e,i=64,n=Float64Array,s){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;let c=Gm.indexOf(this.ArrayType),u=2*e*this.ArrayType.BYTES_PER_ELEMENT,p=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-p%8)%8;if(c<0)throw new Error(`Unexpected typed array class: ${n}.`);s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+p+f,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+u+p+f),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+p+f,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+c]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=e)}add(e,i){let n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=i,n}finish(){let e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Wu(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,i,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:c,coords:u,nodeSize:p}=this,f=[0,c.length-1,0],g=[];for(;f.length;){let v=f.pop()||0,b=f.pop()||0,M=f.pop()||0;if(b-M<=p){for(let D=M;D<=b;D++){let U=u[2*D],W=u[2*D+1];U>=e&&U<=n&&W>=i&&W<=s&&g.push(c[D])}continue}let T=M+b>>1,C=u[2*T],L=u[2*T+1];C>=e&&C<=n&&L>=i&&L<=s&&g.push(c[T]),(v===0?e<=C:i<=L)&&(f.push(M),f.push(T-1),f.push(1-v)),(v===0?n>=C:s>=L)&&(f.push(T+1),f.push(b),f.push(1-v))}return g}within(e,i,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:s,coords:c,nodeSize:u}=this,p=[0,s.length-1,0],f=[],g=n*n;for(;p.length;){let v=p.pop()||0,b=p.pop()||0,M=p.pop()||0;if(b-M<=u){for(let D=M;D<=b;D++)$m(c[2*D],c[2*D+1],e,i)<=g&&f.push(s[D]);continue}let T=M+b>>1,C=c[2*T],L=c[2*T+1];$m(C,L,e,i)<=g&&f.push(s[T]),(v===0?e-n<=C:i-n<=L)&&(p.push(M),p.push(T-1),p.push(1-v)),(v===0?e+n>=C:i+n>=L)&&(p.push(T+1),p.push(b),p.push(1-v))}return f}}function Wu(t,e,i,n,s,c){if(s-n<=i)return;let u=n+s>>1;Zm(t,e,u,n,s,c),Wu(t,e,i,n,u-1,1-c),Wu(t,e,i,u+1,s,1-c)}function Zm(t,e,i,n,s,c){for(;s>n;){if(s-n>600){let g=s-n+1,v=i-n+1,b=Math.log(g),M=.5*Math.exp(2*b/3),T=.5*Math.sqrt(b*M*(g-M)/g)*(v-g/2<0?-1:1);Zm(t,e,i,Math.max(n,Math.floor(i-v*M/g+T)),Math.min(s,Math.floor(i+(g-v)*M/g+T)),c)}let u=e[2*i+c],p=n,f=s;for(v0(t,e,n,i),e[2*s+c]>u&&v0(t,e,n,s);p<f;){for(v0(t,e,p,f),p++,f--;e[2*p+c]<u;)p++;for(;e[2*f+c]>u;)f--}e[2*n+c]===u?v0(t,e,n,f):(f++,v0(t,e,f,s)),f<=i&&(n=f+1),i<=f&&(s=f-1)}}function v0(t,e,i,n){Xu(t,i,n),Xu(e,2*i,2*n),Xu(e,2*i+1,2*n+1)}function Xu(t,e,i){let n=t[e];t[e]=t[i],t[i]=n}function $m(t,e,i,n){let s=t-i,c=e-n;return s*s+c*c}o.ARRAY_TYPE=Pa,o.AUTH_ERR_MSG=Y,o.Aabb=fa,o.Actor=class{constructor(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.cancelCallbacks={},Kn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=ln()?t:ae,this.scheduler=new N_}send(t,e,i,n,s=!1,c){let u=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=c,this.callbacks[u]=i);let p=zr(this.globalScope)?void 0:[];return this.target.postMessage({id:u,type:t,hasCallback:!!i,targetMapId:n,mustQueue:s,sourceMapId:this.mapId,data:Zr(e,p)},p),{cancel:()=>{i&&delete this.callbacks[u],this.target.postMessage({id:u,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(t){let e=t.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if(e.type==="<cancel>"){let n=this.cancelCallbacks[i];delete this.cancelCallbacks[i],n&&n.cancel()}else if(e.mustQueue||ln()){let n=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add(()=>this.processTask(i,e),n&&n.metadata||{type:"message"})}else this.processTask(i,e)}processTask(t,e){if(e.type==="<response>"){let i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(cr(e.error)):i(null,cr(e.data)))}else{let i=zr(this.globalScope)?void 0:[],n=e.hasCallback?(c,u)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:"<response>",sourceMapId:this.mapId,error:c?Zr(c):null,data:Zr(u,i)},i)}:c=>{},s=cr(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,s,n);else if(this.parent.getWorkerSource){let c=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,c[0],s.source)[c[1]](s,n)}else n(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},o.CanonicalTileID=O1,o.Color=bi,o.ColorMode=$n,o.CullFaceMode=Cn,o.DEMData=J1,o.DataConstantProperty=S,o.DedupedRequest=jm,o.DepthMode=xl,o.EXTENT=ot,o.Elevation=class{isDataAvailableAtPoint(t){let e=this._source();if(this.isUsingMockSource()||!e||t.y<0||t.y>1)return!1;let i=e.getSource().maxzoom,n=1<<i,s=Math.floor(t.x),c=Math.floor((t.x-s)*n),u=Math.floor(t.y*n),p=this.findDEMTileFor(new ga(i,s,i,c,u));return!(!p||!p.dem)}getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,i=!0){if(this.isUsingMockSource())return null;e==null&&(e=null);let n=this._source();if(!n||t.y<0||t.y>1)return e;let s=n.getSource().maxzoom,c=1<<s,u=Math.floor(t.x),p=t.x-u,f=new ga(s,u,s,Math.floor(p*c),Math.floor(t.y*c)),g=this.findDEMTileFor(f);if(!g||!g.dem)return e;let v=g.dem,b=1<<g.tileID.canonical.z,M=(p*b-g.tileID.canonical.x)*v.dim,T=(t.y*b-g.tileID.canonical.y)*v.dim,C=Math.floor(M),L=Math.floor(T);return(i?this.exaggeration():1)*Bt(Bt(v.get(C,L),v.get(C,L+1),T-L),Bt(v.get(C+1,L),v.get(C+1,L+1),T-L),M-C)}getAtTileOffset(t,e,i){let n=1<<t.canonical.z;return this.getAtPointOrZero(new ol(t.wrap+(t.canonical.x+e/ot)/n,(t.canonical.y+i/ot)/n))}getAtTileOffsetFunc(t,e,i,n){return s=>{let c=this.getAtTileOffset(t,s.x,s.y),u=n.upVector(t.canonical,s.x,s.y);return ja(u,u,c*n.upVectorScale(t.canonical,e,i).metersToTile),u}}getForTilePoints(t,e,i,n){if(this.isUsingMockSource())return!1;let s=Q1.create(this,t,n);return!!s&&(e.forEach(c=>{c[2]=this.exaggeration()*s.getElevationAt(c[0],c[1],i)}),!0)}getMinMaxForTile(t){if(this.isUsingMockSource())return null;let e=this.findDEMTileFor(t);if(!e||!e.dem)return null;let i=e.dem.tree,n=e.tileID,s=1<<t.canonical.z-n.canonical.z,c=t.canonical.x/s-n.canonical.x,u=t.canonical.y/s-n.canonical.y,p=0;for(let f=0;f<t.canonical.z-n.canonical.z&&!i.leaves[p];f++){c*=2,u*=2;let g=2*Math.floor(u)+Math.floor(c);p=i.childOffsets[p]+g,c%=1,u%=1}return{min:this.exaggeration()*i.minimums[p],max:this.exaggeration()*i.maximums[p]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(t,e,i){throw new Error("Pure virtual method called.")}pointCoordinate(t){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(t){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},o.ErrorEvent=hn,o.EvaluationParameters=x,o.Event=tr,o.Evented=Mo,o.FillExtrusionBucket=o0,o.Frustum=iu,o.FrustumCorners=tu,o.GLOBE_RADIUS=Nn,o.GLOBE_SCALE_MATCH_LATITUDE=45,o.GLOBE_ZOOM_THRESHOLD_MAX=Zd,o.GLOBE_ZOOM_THRESHOLD_MIN=au,o.GlobeSharedBuffers=class{constructor(t){this._createGrid(t),this._createPoles(t)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(let t of this._poleSegments)t.destroy();for(let t of this._gridSegments)t.withSkirts.destroy(),t.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(let t of this._wireframeSegments)t.destroy()}}_fillGridMeshWithLods(t,e){let i=new Pe,n=new tt,s=[],c=t+1+2,u=e[0]+1,p=e[0]+1+(1+e.length),f=(g,v,b)=>{let M=g===c-1?g-2:g===0?g:g-1;return M+=b?24575:0,[M,v]};for(let g=0;g<c;++g)i.emplaceBack(...f(g,0,!0));for(let g=0;g<u;++g)for(let v=0;v<c;++v)i.emplaceBack(...f(v,g,(v===0||v===c-1)&&!0));for(let g=0;g<e.length;++g){let v=e[g];for(let b=0;b<c;++b)i.emplaceBack(...f(b,v,!0))}for(let g=0;g<e.length;++g){let v=n.length,b=e[g]+1+2,M=new tt;for(let L=0;L<b-1;L++){let D=L===b-2,U=D?c*(p-e.length+g-L):c;for(let W=0;W<c-1;W++){let j=L*c+W;L===0||D||W===0||W===c-2?(M.emplaceBack(j+1,j,j+U),M.emplaceBack(j+U,j+U+1,j+1)):(n.emplaceBack(j+1,j,j+U),n.emplaceBack(j+U,j+U+1,j+1))}}let T=Ci.simpleSegment(0,v,i.length,n.length-v);for(let L=0;L<M.uint16.length;L+=3)n.emplaceBack(M.uint16[L],M.uint16[L+1],M.uint16[L+2]);let C=Ci.simpleSegment(0,v,i.length,n.length-v);s.push({withoutSkirts:T,withSkirts:C})}return{vertices:i,indices:n,segments:s}}_createGrid(t){let e=this._fillGridMeshWithLods(es,Kc);this._gridSegments=e.segments,this._gridBuffer=t.createVertexBuffer(e.vertices,Xc.members),this._gridIndexBuffer=t.createIndexBuffer(e.indices,!0)}_createPoles(t){let e=new tt;for(let s=0;s<=es;s++)e.emplaceBack(0,s+1,s+2);this._poleIndexBuffer=t.createIndexBuffer(e,!0);let i=new Kt,n=new Kt;this._poleSegments=[];for(let s=0,c=0;s<au;s++){let u=360/(1<<s);i.emplaceBack(0,-Nn,0,.5,0),n.emplaceBack(0,-Nn,0,.5,1);for(let p=0;p<=es;p++){let f=p/es,g=Bt(0,u,f),[v,b,M]=al(Ng,Ug,g,Nn);i.emplaceBack(v,b,M,f,0),n.emplaceBack(v,b,M,f,1)}this._poleSegments.push(Ci.simpleSegment(c,0,66,64)),c+=66}this._poleNorthVertexBuffer=t.createVertexBuffer(i,Hd,!1),this._poleSouthVertexBuffer=t.createVertexBuffer(n,Hd,!1)}getGridBuffers(t,e){return[this._gridBuffer,this._gridIndexBuffer,e?this._gridSegments[t].withSkirts:this._gridSegments[t].withoutSkirts]}getPoleBuffers(t){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[t]]}getWirefameBuffers(t,e){if(!this._wireframeSegments){let i=new ji,n=es,s=n+1+2,c=1;this._wireframeSegments=[];for(let u=0,p=0;u<Kc.length;u++){let f=Kc[u];for(let v=c;v<f+c;v++)for(let b=c;b<n+c;b++){let M=v*s+b;i.emplaceBack(M,M+1),i.emplaceBack(M,M+s),i.emplaceBack(M,M+s+1)}let g=f*n*3;this._wireframeSegments.push(Ci.simpleSegment(0,p,(f+1)*s,g)),p+=g}this._wireframeIndexBuffer=t.createIndexBuffer(i)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},o.GlyphManager=fl,o.ImagePosition=Lu,o.KDBush=qu,o.LivePerformanceUtils=Mh,o.LngLat=Jt,o.LngLatBounds=Xr,o.LocalGlyphMode=ku,o.MAX_MERCATOR_LATITUDE=sa,o.MercatorCoordinate=ol,o.ONE_EM=Qi,o.OverscaledTileID=ga,o.PerformanceMarkers=Er,o.Point=Se,o.Properties=G,o.RGBAImage=ka,o.Ray=eu,o.RequestManager=class{constructor(t,e,i){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!i,this._createSkuToken()}_createSkuToken(){let t=function(){let e="";for(let i=0;i<10;i++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Nt,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!re(t))return t;let i=Ue(t);return i.path=`/styles/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!re(t))return t;let i=Ue(t);return i.path=`/fonts/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeSourceURL(t,e,i,n){if(!re(t))return t;let s=Ue(t);return s.path=`/v4/${s.authority}.json`,s.params.push("secure"),i&&s.params.push(`language=${i}`),n&&s.params.push(`worldview=${n}`),this._makeAPIURL(s,this._customAccessToken||e)}normalizeSpriteURL(t,e,i,n){let s=Ue(t);return re(t)?(s.path=`/styles/v1${s.path}/sprite${e}${i}`,this._makeAPIURL(s,this._customAccessToken||n)):(s.path+=`${e}${i}`,Be(s))}normalizeTileURL(t,e,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!re(t))return t;let n=Ue(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||i&&n.authority!=="raster"&&i===512?"@2x":""}${ht.supported?".webp":"$1"}`),n.authority==="raster"?n.path=`/${Je.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path=`/${Je.TILE_URL_VERSION}${n.path}`);let s=this._customAccessToken||function(c){for(let u of c){let p=u.match(/^access_token=(.*)$/);if(p)return p[1]}return null}(n.params)||Je.ACCESS_TOKEN;return Je.REQUIRE_ACCESS_TOKEN&&s&&this._skuToken&&n.params.push(`sku=${this._skuToken}`),this._makeAPIURL(n,s)}canonicalizeTileURL(t,e){let i=Ue(t);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return t;let n="mapbox://";i.path.match(/^\/raster\/v1\//)?n+=`raster/${i.path.replace(`/${Je.RASTER_URL_PREFIX}/`,"")}`:n+=`tiles/${i.path.replace(`/${Je.TILE_URL_VERSION}/`,"")}`;let s=i.params;return e&&(s=s.filter(c=>!c.match(/^access_token=/))),s.length&&(n+=`?${s.join("&")}`),n}canonicalizeTileset(t,e){let i=!!e&&re(e),n=[];for(let s of t.tiles||[])ce(s)?n.push(this.canonicalizeTileURL(s,i)):n.push(s);return n}_makeAPIURL(t,e){let i="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",n=Ue(Je.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,t.protocol==="http"){let s=t.params.indexOf("secure");s>=0&&t.params.splice(s,1)}if(n.path!=="/"&&(t.path=`${n.path}${t.path}`),!Je.REQUIRE_ACCESS_TOKEN)return Be(t);if(e=e||Je.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${i}`);if(e[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${i}`)}return t.params=t.params.filter(s=>s.indexOf("access_token")===-1),t.params.push(`access_token=${e||""}`),Be(t)}},o.ResourceType=Jn,o.SegmentVector=Ci,o.SourceCache=os,o.StencilMode=Hu,o.StructArrayLayout1ui2=Ia,o.StructArrayLayout2f1f2i16=st,o.StructArrayLayout2i4=Pe,o.StructArrayLayout2ui4=ji,o.StructArrayLayout3f12=Et,o.StructArrayLayout3ui6=tt,o.StructArrayLayout4i8=we,o.StructArrayLayout5f20=Kt,o.Texture=_0,o.Tile=Uu,o.Transitionable=E,o.Uniform1f=y1,o.Uniform1i=class extends dr{constructor(t){super(t),this.current=0}set(t,e,i){this.fetchUniformLocation(t,e)&&this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))}},o.Uniform2f=class extends dr{constructor(t){super(t),this.current=[0,0]}set(t,e,i){this.fetchUniformLocation(t,e)&&(i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1])))}},o.Uniform3f=class extends dr{constructor(t){super(t),this.current=[0,0,0]}set(t,e,i){this.fetchUniformLocation(t,e)&&(i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2])))}},o.Uniform4f=Td,o.UniformColor=Cd,o.UniformMatrix2f=class extends dr{constructor(t){super(t),this.current=zg}set(t,e,i){if(this.fetchUniformLocation(t,e)){for(let n=0;n<4;n++)if(i[n]!==this.current[n]){this.current=i,this.gl.uniformMatrix2fv(this.location,!1,i);break}}}},o.UniformMatrix3f=class extends dr{constructor(t){super(t),this.current=Mg}set(t,e,i){if(this.fetchUniformLocation(t,e)){for(let n=0;n<9;n++)if(i[n]!==this.current[n]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}}},o.UniformMatrix4f=class extends dr{constructor(t){super(t),this.current=wg}set(t,e,i){if(this.fetchUniformLocation(t,e)){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let n=1;n<16;n++)if(i[n]!==this.current[n]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}}},o.UnwrappedTileID=kp,o.ValidationError=qe,o.VectorTileFeature=k1,o.VectorTileWorkerSource=class extends Mo{constructor(t,e,i,n,s){super(),this.actor=t,this.layerIndex=e,this.availableImages=i,this.loadVectorData=s||Hm,this.loading={},this.loaded={},this.deduped=new jm(t.scheduler),this.isSpriteLoaded=n,this.scheduler=t.scheduler}loadTile(t,e){let i=t.uid,n=t&&t.request,s=n&&n.collectResourceTiming,c=this.loading[i]=new q_(t);c.abort=this.loadVectorData(t,(u,p)=>{let f=!this.loading[i];if(delete this.loading[i],f||u||!p)return c.status="done",f||(this.loaded[i]=c),e(u);let g=p.rawData,v={};p.expires&&(v.expires=p.expires),p.cacheControl&&(v.cacheControl=p.cacheControl),c.vectorTile=p.vectorTile||new Au(new V1(g));let b=()=>{c.parse(c.vectorTile,this.layerIndex,this.availableImages,this.actor,(M,T)=>{if(M||!T)return e(M);let C={};if(s){let L=$l(n);L.length>0&&(C.resourceTiming=JSON.parse(JSON.stringify(L)))}e(null,Mi({rawTileData:g.slice(0)},T,v,C))})};this.isSpriteLoaded?b():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(b,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):b()}),this.loaded=this.loaded||{},this.loaded[i]=c})}reloadTile(t,e){let i=this.loaded,n=t.uid,s=this;if(i&&i[n]){let c=i[n];c.showCollisionBoxes=t.showCollisionBoxes,c.enableTerrain=!!t.enableTerrain,c.projection=t.projection,c.tileTransform=rs(t.tileID.canonical,t.projection);let u=(p,f)=>{let g=c.reloadCallback;g&&(delete c.reloadCallback,c.parse(c.vectorTile,s.layerIndex,this.availableImages,s.actor,g)),e(p,f)};c.status==="parsing"?c.reloadCallback=u:c.status==="done"&&(c.vectorTile?c.parse(c.vectorTile,this.layerIndex,this.availableImages,this.actor,u):u())}}abortTile(t,e){let i=t.uid,n=this.loading[i];n&&(n.abort&&n.abort(),delete this.loading[i]),e()}removeTile(t,e){let i=this.loaded,n=t.uid;i&&i[n]&&delete i[n],e()}},o.WritingMode=Ga,o.ZoomDependentExpression=Uo,o.add=mr,o.addDynamicAttributes=X1,o.adjoint=function(t,e){var i=e[0],n=e[1],s=e[2],c=e[3],u=e[4],p=e[5],f=e[6],g=e[7],v=e[8];return t[0]=u*v-p*g,t[1]=s*g-n*v,t[2]=n*p-s*u,t[3]=p*f-c*v,t[4]=i*v-s*f,t[5]=s*c-i*p,t[6]=c*g-u*f,t[7]=n*f-i*g,t[8]=i*u-n*c,t},o.asyncAll=Fi,o.bezier=go,o.bindAll=Kn,o.boundsAttributes=Am,o.bufferConvexPolygon=function(t,e){let i=[];for(let n=0;n<t.length;n++){let s=Oi(n-1,-1,t.length-1),c=Oi(n+1,-1,t.length-1),u=t[n],p=t[c],f=t[s].sub(u).unit(),g=p.sub(u).unit(),v=g.angleWithSep(f.x,f.y),b=f.add(g).unit().mult(-1*e/Math.sin(v/2));i.push(u.add(b))}return i},o.cacheEntryPossiblyAdded=function(t){bo++,bo>Ms&&(t.getActor().send("enforceCacheSizeLimit",ws),bo=0)},o.calculateGlobeLabelMatrix=function(t,e){let{x:i,y:n}=t.point,s=Kd(i,n,t.worldSize/t._pixelsPerMercatorPixel,0,0);return Yo(s,s,ou(Un(e)))},o.calculateGlobeMatrix=function(t){let{x:e,y:i}=t.point,{lng:n,lat:s}=t._center;return Kd(e,i,t.worldSize,n,s)},o.calculateGlobeMercatorMatrix=function(t){let e=t.pixelsPerMeter,i=e/zn(1,t.center.lat),n=wn(new Float64Array(16));return Hc(n,n,[t.point.x,t.point.y,0]),Jo(n,n,[i,i,e]),Float32Array.from(n)},o.circumferenceAtLatitude=lu,o.clamp=Pt,o.clearTileCache=function(t){if(!xo())return;let e=ae.caches.delete(Ar);t&&e.catch(t).then(()=>t())},o.clipLine=sm,o.clone=function(t){var e=new Pa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},o.clone$1=va,o.collisionCircleLayout=Z2,o.config=Je,o.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},o.create=function(){var t=new Pa(16);return Pa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},o.create$1=Ld,o.createExpression=jr,o.createLayout=oe,o.createStyleLayer=function(t){return t.type==="custom"?new R_(t):new F_[t.type](t)},o.cross=Qh,o.degToRad=Mt,o.distance=function(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])},o.div=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},o.dot=Ja,o.earthRadius=Qc,o.ease=vs,o.easeCubicInOut=ys,o.ecefToLatLng=function([t,e,i]){let n=Math.hypot(t,e,i),s=Math.atan2(t,i),c=.5*Math.PI-Math.acos(-e/n);return new Jt(xi(s),xi(c))},o.emitValidationErrors=d1,o.endsWith=wr,o.enforceCacheSizeLimit=function(t){Yn(),Ta&&Ta.then(e=>{e.keys().then(i=>{for(let n=0;n<i.length-t;n++)e.delete(i[n])})})},o.evaluateSizeForFeature=B1,o.evaluateSizeForZoom=ul,o.evaluateVariableOffset=dm,o.evented=d,o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},o.exported=cn,o.exported$1=ht,o.extend=Mi,o.extend$1=un,o.fillExtrusionHeightLift=Lp,o.filterObject=Mr,o.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},o.fromQuat=function(t,e){var i=e[0],n=e[1],s=e[2],c=e[3],u=i+i,p=n+n,f=s+s,g=i*u,v=n*u,b=n*p,M=s*u,T=s*p,C=s*f,L=c*u,D=c*p,U=c*f;return t[0]=1-b-C,t[1]=v+U,t[2]=M-D,t[3]=0,t[4]=v-U,t[5]=1-g-C,t[6]=T+L,t[7]=0,t[8]=M+D,t[9]=T-L,t[10]=1-g-b,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=Pd,o.furthestTileCorner=function(t){let e=Math.round((t+45+360)%360/90)%4;return Zl[e]},o.getAABBPointSquareDist=function(t,e,i){let n=0;for(let s=0;s<2;++s){let c=i?i[s]:0;t[s]>c&&(n+=(t[s]-c)*(t[s]-c)),e[s]<c&&(n+=(c-e[s])*(c-e[s]))}return n},o.getAnchorAlignment=Pu,o.getAnchorJustification=Ou,o.getBounds=function(t){let e=1/0,i=1/0,n=-1/0,s=-1/0;for(let c of t)e=Math.min(e,c.x),i=Math.min(i,c.y),n=Math.max(n,c.x),s=Math.max(s,c.y);return{min:new Se(e,i),max:new Se(n,s)}},o.getColumn=Dn,o.getDefaultExportFromCjs=et,o.getGridMatrix=function(t,e,i,n){let s=e.getNorth(),c=e.getSouth(),u=e.getWest(),p=e.getEast(),f=1<<t.z,g=p-u,v=s-c,b=g/es,M=-v/Kc[i],T=[0,b,0,M,0,0,s,u,0];if(t.z>0){let C=180/n;Id(T,T,[C/g+1,0,0,0,C/v+1,0,-.5*C/b,.5*C/M,1])}return T[2]=f,T[5]=t.x,T[8]=t.y,T},o.getImage=Z,o.getJSON=function(t,e){return er(Mi(t,{type:"json"}),e)},o.getLatitudinalLod=function(t){let e=sa-5;t=Pt(t,-e,e)/e*90;let i=Math.pow(Math.abs(Math.sin(Mt(t))),3);return Math.round(i*(Kc.length-1))},o.getMapSessionAPI=Vi,o.getPerformanceMeasurement=$l,o.getProjection=xm,o.getRTLTextPluginStatus=m,o.getReferrer=Qn,o.getTilePoint=function(t,{x:e,y:i},n=0){return new Se(((e-n)*t.scale-t.x)*ot,(i*t.scale-t.y)*ot)},o.getTileVec3=function(t,e,i=0){return il(((e.x-i)*t.scale-t.x)*ot,(e.y*t.scale-t.y)*ot,ep(e.z,e.y))},o.getVideo=function(t,e){let i=ae.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(let n=0;n<t.length;n++){let s=ae.document.createElement("source");zs(t[n])||(i.crossOrigin="Anonymous"),s.src=t[n],i.appendChild(s)}return{cancel:()=>{}}},o.globeCenterToScreenPoint=function(t){let e=[0,0,0],i=wn(new Float64Array(16));return Yo(i,t.pixelMatrix,t.globeMatrix),wi(e,e,i),new Se(e[0],e[1])},o.globeDenormalizeECEF=ou,o.globeECEFOrigin=function(t,e){let i=[0,0,0];return wi(i,i,Jc(Un(e.canonical))),wi(i,i,t),i},o.globeMetersToEcef=b1,o.globeNormalizeECEF=Jc,o.globePixelsToTileUnits=function(t,e){return ot/(512*Math.pow(2,t))*M1(Un(e))},o.globePoleMatrixForTile=function(t,e,i){let n=wn(new Float64Array(16)),s=(e/(1<<t)-.5)*Math.PI*2;return x1(n,i.globeMatrix,s),Float32Array.from(n)},o.globeTileBounds=Un,o.globeTiltAtLngLat=Yd,o.globeToMercatorTransition=rl,o.globeUseCustomAntiAliasing=function(t,e,i){let n=rl(i.zoom),s=t.style.map._antialias,c=!!e.extStandardDerivatives,u=e.extStandardDerivativesForceOff||t.terrain&&t.terrain.exaggeration()>0;return n===0&&!s&&!u&&c},o.identity=wn,o.identity$1=Nd,o.invert=Xh,o.isFullscreen=function(){return!!ae.document.fullscreenElement||!!ae.document.webkitFullscreenElement},o.isLngLatBehindGlobe=su,o.isMapAuthenticated=function(t){return ca.has(t)},o.isMapboxURL=re,o.isSafariWithAntialiasingBug=function(t){let e=t.navigator?t.navigator.userAgent:null;return!!zr(t)&&e&&(e.match("Version/15.4")||e.match("Version/15.5")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},o.latFromMercatorY=oa,o.latLngToECEF=nl,o.len=kg,o.length=Gc,o.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},o.lngFromMercatorX=Ha,o.loadVectorTile=Hm,o.makeRequest=er,o.mapValue=function(t,e,i,n,s){return Pt((t-e)/(i-e)*(s-n)+n,n,s)},o.mercatorScale=tp,o.mercatorXfromLng=jn,o.mercatorYfromLat=Hn,o.mercatorZfromAltitude=zn,o.mul=Ig,o.mul$1=Pg,o.multiply=Yo,o.multiply$1=Id,o.multiply$2=Od,o.nextPowerOfTwo=sn,o.normalize=ma,o.normalize$1=Dg,o.normalize$2=Fd,o.number=Bt,o.ortho=function(t,e,i,n,s,c,u){var p=1/(e-i),f=1/(n-s),g=1/(c-u);return t[0]=-2*p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*g,t[11]=0,t[12]=(e+i)*p,t[13]=(s+n)*f,t[14]=(u+c)*g,t[15]=1,t},o.pbf=Np,o.perspective=function(t,e,i,n,s){var c,u=1/Math.tan(e/2);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,s!=null&&s!==1/0?(t[10]=(s+n)*(c=1/(n-s)),t[14]=2*s*n*c):(t[10]=-1,t[14]=-2*n),t},o.pick=function(t,e){let i={};for(let n=0;n<e.length;n++){let s=e[n];s in t&&(i[s]=t[s])}return i},o.plugin=y,o.pointGeometry=ct,o.polesInViewport=function(t){let e=wn(new Float64Array(16));Yo(e,t.pixelMatrix,t.globeMatrix);let i=[0,Qa,0],n=[0,en,0];return wi(i,i,e),wi(n,n,e),[i[0]>0&&i[0]<=t.width&&i[1]>0&&i[1]<=t.height&&!su(t,new Jt(t.center.lat,90)),n[0]>0&&n[0]<=t.width&&n[1]>0&&n[1]<=t.height&&!su(t,new Jt(t.center.lat,-90))]},o.polygonContainsPoint=as,o.polygonIntersectsBox=lp,o.polygonIntersectsPolygon=np,o.polygonizeBounds=function(t,e,i=0,n=!0){let s=new Se(i,i),c=t.sub(s),u=e.add(s),p=[c,new Se(u.x,c.y),u,new Se(c.x,u.y)];return n&&p.push(c.clone()),p},o.posAttributes=Xc,o.postMapLoadEvent=zi,o.postPerformanceEvent=ki,o.postTurnstileEvent=Rt,o.potpack=Su,o.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},o.radToDeg=xi,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.registerForPluginStateChange=function(t){return t({pluginStatus:l,pluginURL:a}),d.on("pluginStateChange",t),t},o.removeAuthState=function(t){ca.delete(t)},o.renderColorRamp=gu,o.resample=ip,o.rotateX=Kh,o.rotateX$1=Ud,o.rotateY=x1,o.rotateY$1=jd,o.rotateZ=function(t,e,i){var n=Math.sin(i),s=Math.cos(i),c=e[0],u=e[1],p=e[2],f=e[3],g=e[4],v=e[5],b=e[6],M=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=c*s+g*n,t[1]=u*s+v*n,t[2]=p*s+b*n,t[3]=f*s+M*n,t[4]=g*s-c*n,t[5]=v*s-u*n,t[6]=b*s-p*n,t[7]=M*s-f*n,t},o.rotateZ$1=function(t,e,i){i*=.5;var n=e[0],s=e[1],c=e[2],u=e[3],p=Math.sin(i),f=Math.cos(i);return t[0]=n*f+s*p,t[1]=s*f-n*p,t[2]=c*f+u*p,t[3]=u*f-c*p,t},o.scale=Jo,o.scale$1=Bd,o.scale$2=ja,o.scaleAndAdd=qc,o.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},o.setCacheLimits=function(t,e){ws=t,Ms=e},o.setColumn=function(t,e,i){t[4*e+0]=i[0],t[4*e+1]=i[1],t[4*e+2]=i[2],t[4*e+3]=i[3]},o.setRTLTextPlugin=function(t,e,i=!1){if(l===Fc||l===Vc||l===Nc)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=cn.resolveURL(t),l=Fc,$r=e,h(),i||_()},o.smoothstep=xr,o.spec=ve,o.squaredLength=function(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n},o.storeAuthState=function(t,e){e?ca.add(t):ca.delete(t)},o.sub=Mn,o.subtract=Jh,o.symbolSize=$2,o.tileAABB=function(t,e,i,n,s,c,u,p,f){if(f.name==="globe")return Vg(t,e,new O1(i,n,s));let g=rs({z:i,x:n,y:s},f);return new fa([(c+g.x/g.scale)*e,e*(g.y/g.scale),u],[(c+g.x2/g.scale)*e,e*(g.y2/g.scale),p])},o.tileCornersToBounds=w1,o.tileTransform=rs,o.transformMat3=function(t,e,i){var n=e[0],s=e[1],c=e[2];return t[0]=n*i[0]+s*i[3]+c*i[6],t[1]=n*i[1]+s*i[4]+c*i[7],t[2]=n*i[2]+s*i[5]+c*i[8],t},o.transformMat4=wi,o.transformMat4$1=Qo,o.transformQuat=Rd,o.transitionTileAABBinECEF=qd,o.translate=Hc,o.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],s=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=s}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},o.triggerPluginCompletionEvent=r,o.uniqueId=br,o.updateGlobeVertexNormal=function(t,e,i,n,s){let c=5*e+2;t.float32[c+0]=i,t.float32[c+1]=n,t.float32[c+2]=s},o.validateCustomStyleLayer=function(t){let e=[],i=t.id;return i===void 0&&e.push({message:`layers.${i}: missing required property "id"`}),t.render===void 0&&e.push({message:`layers.${i}: missing required method "render"`}),t.renderingMode&&t.renderingMode!=="2d"&&t.renderingMode!=="3d"&&e.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),e},o.validateFilter=t=>La($o(t)),o.validateFog=t=>La(c1(t)),o.validateLayer=t=>La(r1(t)),o.validateLight=t=>La(l1(t)),o.validateSource=t=>La(s1(t)),o.validateStyle=u1,o.validateTerrain=t=>La(kc(t)),o.values=In,o.vectorTile=P1,o.version=Qe,o.warnOnce=mi,o.window=ae,o.wrap=Oi}),w(["./shared"],function(o){"use strict";function ae(q){if(typeof q=="number"||typeof q=="boolean"||typeof q=="string"||q==null)return JSON.stringify(q);if(Array.isArray(q)){let P="[";for(let Z of q)P+=`${ae(Z)},`;return`${P}]`}let I="{";for(let P of Object.keys(q).sort())I+=`${P}:${ae(q[P])},`;return`${I}}`}function Qe(q){let I="";for(let P of o.refProperties)I+=`/${ae(q[P])}`;return I}class pt{constructor(I){this.keyCache={},I&&this.replace(I)}replace(I){this._layerConfigs={},this._layers={},this.update(I,[])}update(I,P){for(let Y of I)this._layerConfigs[Y.id]=Y,(this._layers[Y.id]=o.createStyleLayer(Y)).compileFilter(),this.keyCache[Y.id]&&delete this.keyCache[Y.id];for(let Y of P)delete this.keyCache[Y],delete this._layerConfigs[Y],delete this._layers[Y];this.familiesBySource={};let Z=function(Y,re){let ce={};for(let ne=0;ne<Y.length;ne++){let _e=re&&re[Y[ne].id]||Qe(Y[ne]);re&&(re[Y[ne].id]=_e);let Ne=ce[_e];Ne||(Ne=ce[_e]=[]),Ne.push(Y[ne])}let le=[];for(let ne in ce)le.push(ce[ne]);return le}(o.values(this._layerConfigs),this.keyCache);for(let Y of Z){let re=Y.map(Ue=>this._layers[Ue.id]),ce=re[0];if(ce.visibility==="none")continue;let le=ce.source||"",ne=this.familiesBySource[le];ne||(ne=this.familiesBySource[le]={});let _e=ce.sourceLayer||"_geojsonTileLayer",Ne=ne[_e];Ne||(Ne=ne[_e]=[]),Ne.push(re)}}}class Je{loadTile(I,P){let{uid:Z,encoding:Y,rawImageData:re,padding:ce,buildQuadTree:le}=I,ne=o.window.ImageBitmap&&re instanceof o.window.ImageBitmap?this.getImageData(re,ce):re;P(null,new o.DEMData(Z,ne,Y,ce<1,le))}getImageData(I,P){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(I.width,I.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=I.width,this.offscreenCanvas.height=I.height,this.offscreenCanvasContext.drawImage(I,0,0,I.width,I.height);let Z=this.offscreenCanvasContext.getImageData(-P,-P,I.width+2*P,I.height+2*P);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Z}}function ht(q,I){if(q.length!==0){Ht(q[0],I);for(var P=1;P<q.length;P++)Ht(q[P],!I)}}function Ht(q,I){for(var P=0,Z=0,Y=0,re=q.length,ce=re-1;Y<re;ce=Y++){var le=(q[Y][0]-q[ce][0])*(q[ce][1]+q[Y][1]),ne=P+le;Z+=Math.abs(P)>=Math.abs(le)?P-ne+le:le-ne+P,P=ne}P+Z>=0!=!!I&&q.reverse()}var $t=o.getDefaultExportFromCjs(function q(I,P){var Z,Y=I&&I.type;if(Y==="FeatureCollection")for(Z=0;Z<I.features.length;Z++)q(I.features[Z],P);else if(Y==="GeometryCollection")for(Z=0;Z<I.geometries.length;Z++)q(I.geometries[Z],P);else if(Y==="Feature")q(I.geometry,P);else if(Y==="Polygon")ht(I.coordinates,P);else if(Y==="MultiPolygon")for(Z=0;Z<I.coordinates.length;Z++)ht(I.coordinates[Z],P);return I});let Yi=o.VectorTileFeature.prototype.toGeoJSON;var Bi={exports:{}},li=o.pointGeometry,Nt=o.vectorTile.VectorTileFeature,et=ut;function ut(q,I){this.options=I||{},this.features=q,this.length=q.length}function He(q,I){this.id=typeof q.id=="number"?q.id:void 0,this.type=q.type,this.rawGeometry=q.type===1?[q.geometry]:q.geometry,this.properties=q.tags,this.extent=I||4096}ut.prototype.feature=function(q){return new He(this.features[q],this.options.extent)},He.prototype.loadGeometry=function(){var q=this.rawGeometry;this.geometry=[];for(var I=0;I<q.length;I++){for(var P=q[I],Z=[],Y=0;Y<P.length;Y++)Z.push(new li(P[Y][0],P[Y][1]));this.geometry.push(Z)}return this.geometry},He.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var q=this.geometry,I=1/0,P=-1/0,Z=1/0,Y=-1/0,re=0;re<q.length;re++)for(var ce=q[re],le=0;le<ce.length;le++){var ne=ce[le];I=Math.min(I,ne.x),P=Math.max(P,ne.x),Z=Math.min(Z,ne.y),Y=Math.max(Y,ne.y)}return[I,Z,P,Y]},He.prototype.toGeoJSON=Nt.prototype.toGeoJSON;var at=o.pbf,ct=et;function yt(q){var I=new at;return function(P,Z){for(var Y in P.layers)Z.writeMessage(3,Se,P.layers[Y])}(q,I),I.finish()}function Se(q,I){var P;I.writeVarintField(15,q.version||1),I.writeStringField(1,q.name||""),I.writeVarintField(5,q.extent||4096);var Z={keys:[],values:[],keycache:{},valuecache:{}};for(P=0;P<q.length;P++)Z.feature=q.feature(P),I.writeMessage(2,ai,Z);var Y=Z.keys;for(P=0;P<Y.length;P++)I.writeStringField(3,Y[P]);var re=Z.values;for(P=0;P<re.length;P++)I.writeMessage(4,ys,re[P])}function ai(q,I){var P=q.feature;P.id!==void 0&&I.writeVarintField(1,P.id),I.writeMessage(2,Ln,q),I.writeVarintField(3,P.type),I.writeMessage(4,Zl,P)}function Ln(q,I){var P=q.feature,Z=q.keys,Y=q.values,re=q.keycache,ce=q.valuecache;for(var le in P.properties){var ne=P.properties[le],_e=re[le];if(ne!==null){_e===void 0&&(Z.push(le),re[le]=_e=Z.length-1),I.writeVarint(_e);var Ne=typeof ne;Ne!=="string"&&Ne!=="boolean"&&Ne!=="number"&&(ne=JSON.stringify(ne));var Ue=Ne+":"+ne,Be=ce[Ue];Be===void 0&&(Y.push(ne),ce[Ue]=Be=Y.length-1),I.writeVarint(Be)}}}function Mt(q,I){return(I<<3)+(7&q)}function xi(q){return q<<1^q>>31}function Zl(q,I){for(var P=q.loadGeometry(),Z=q.type,Y=0,re=0,ce=P.length,le=0;le<ce;le++){var ne=P[le],_e=1;Z===1&&(_e=ne.length),I.writeVarint(Mt(1,_e));for(var Ne=Z===3?ne.length-1:ne.length,Ue=0;Ue<Ne;Ue++){Ue===1&&Z!==1&&I.writeVarint(Mt(2,Ne-1));var Be=ne[Ue].x-Y,vt=ne[Ue].y-re;I.writeVarint(xi(Be)),I.writeVarint(xi(vt)),Y+=Be,re+=vt}Z===3&&I.writeVarint(Mt(7,1))}}function ys(q,I){var P=typeof q;P==="string"?I.writeStringField(1,q):P==="boolean"?I.writeBooleanField(7,q):P==="number"&&(q%1!=0?I.writeDoubleField(3,q):q<0?I.writeSVarintField(6,q):I.writeVarintField(5,q))}Bi.exports=yt,Bi.exports.fromVectorTileJs=yt,Bi.exports.fromGeojsonVt=function(q,I){I=I||{};var P={};for(var Z in q)P[Z]=new ct(q[Z].features,I),P[Z].name=Z,P[Z].version=I.version,P[Z].extent=I.extent;return yt({layers:P})},Bi.exports.GeoJSONWrapper=ct;var go=o.getDefaultExportFromCjs(Bi.exports);let vs={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:q=>q},Pt=Math.fround||(xr=new Float32Array(1),q=>(xr[0]=+q,xr[0]));var xr;let Oi=3,Fi=5,In=6;class Mi{constructor(I){this.options=Object.assign(Object.create(vs),I),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(I){let{log:P,minZoom:Z,maxZoom:Y}=this.options;P&&console.time("total time");let re=`prepare ${I.length} points`;P&&console.time(re),this.points=I;let ce=[];for(let ne=0;ne<I.length;ne++){let _e=I[ne];if(!_e.geometry)continue;let[Ne,Ue]=_e.geometry.coordinates,Be=Pt(kn(Ne)),vt=Pt(sn(Ue));ce.push(Be,vt,1/0,ne,-1,1),this.options.reduce&&ce.push(0)}let le=this.trees[Y+1]=this._createTree(ce);P&&console.timeEnd(re);for(let ne=Y;ne>=Z;ne--){let _e=+Date.now();le=this.trees[ne]=this._createTree(this._cluster(le,ne)),P&&console.log("z%d: %d clusters in %dms",ne,le.numItems,+Date.now()-_e)}return P&&console.timeEnd("total time"),this}getClusters(I,P){let Z=((I[0]+180)%360+360)%360-180,Y=Math.max(-90,Math.min(90,I[1])),re=I[2]===180?180:((I[2]+180)%360+360)%360-180,ce=Math.max(-90,Math.min(90,I[3]));if(I[2]-I[0]>=360)Z=-180,re=180;else if(Z>re){let Ue=this.getClusters([Z,Y,180,ce],P),Be=this.getClusters([-180,Y,re,ce],P);return Ue.concat(Be)}let le=this.trees[this._limitZoom(P)],ne=le.range(kn(Z),sn(ce),kn(re),sn(Y)),_e=le.data,Ne=[];for(let Ue of ne){let Be=this.stride*Ue;Ne.push(_e[Be+Fi]>1?Pn(_e,Be,this.clusterProps):this.points[_e[Be+Oi]])}return Ne}getChildren(I){let P=this._getOriginId(I),Z=this._getOriginZoom(I),Y="No cluster with the specified id.",re=this.trees[Z];if(!re)throw new Error(Y);let ce=re.data;if(P*this.stride>=ce.length)throw new Error(Y);let le=this.options.radius/(this.options.extent*Math.pow(2,Z-1)),ne=re.within(ce[P*this.stride],ce[P*this.stride+1],le),_e=[];for(let Ne of ne){let Ue=Ne*this.stride;ce[Ue+4]===I&&_e.push(ce[Ue+Fi]>1?Pn(ce,Ue,this.clusterProps):this.points[ce[Ue+Oi]])}if(_e.length===0)throw new Error(Y);return _e}getLeaves(I,P,Z){let Y=[];return this._appendLeaves(Y,I,P=P||10,Z=Z||0,0),Y}getTile(I,P,Z){let Y=this.trees[this._limitZoom(I)],re=Math.pow(2,I),{extent:ce,radius:le}=this.options,ne=le/ce,_e=(Z-ne)/re,Ne=(Z+1+ne)/re,Ue={features:[]};return this._addTileFeatures(Y.range((P-ne)/re,_e,(P+1+ne)/re,Ne),Y.data,P,Z,re,Ue),P===0&&this._addTileFeatures(Y.range(1-ne/re,_e,1,Ne),Y.data,re,Z,re,Ue),P===re-1&&this._addTileFeatures(Y.range(0,_e,ne/re,Ne),Y.data,-1,Z,re,Ue),Ue.features.length?Ue:null}getClusterExpansionZoom(I){let P=this._getOriginZoom(I)-1;for(;P<=this.options.maxZoom;){let Z=this.getChildren(I);if(P++,Z.length!==1)break;I=Z[0].properties.cluster_id}return P}_appendLeaves(I,P,Z,Y,re){let ce=this.getChildren(P);for(let le of ce){let ne=le.properties;if(ne&&ne.cluster?re+ne.point_count<=Y?re+=ne.point_count:re=this._appendLeaves(I,ne.cluster_id,Z,Y,re):re<Y?re++:I.push(le),I.length===Z)break}return re}_createTree(I){let P=new o.KDBush(I.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Z=0;Z<I.length;Z+=this.stride)P.add(I[Z],I[Z+1]);return P.finish(),P.data=I,P}_addTileFeatures(I,P,Z,Y,re,ce){for(let le of I){let ne=le*this.stride,_e=P[ne+Fi]>1,Ne,Ue,Be;if(_e)Ne=br(P,ne,this.clusterProps),Ue=P[ne],Be=P[ne+1];else{let xt=this.points[P[ne+Oi]];Ne=xt.properties;let[Ct,Rt]=xt.geometry.coordinates;Ue=kn(Ct),Be=sn(Rt)}let vt={type:1,geometry:[[Math.round(this.options.extent*(Ue*re-Z)),Math.round(this.options.extent*(Be*re-Y))]],tags:Ne},Tt;Tt=_e||this.options.generateId?P[ne+Oi]:this.points[P[ne+Oi]].id,Tt!==void 0&&(vt.id=Tt),ce.features.push(vt)}}_limitZoom(I){return Math.max(this.options.minZoom,Math.min(Math.floor(+I),this.options.maxZoom+1))}_cluster(I,P){let{radius:Z,extent:Y,reduce:re,minPoints:ce}=this.options,le=Z/(Y*Math.pow(2,P)),ne=I.data,_e=[],Ne=this.stride;for(let Ue=0;Ue<ne.length;Ue+=Ne){if(ne[Ue+2]<=P)continue;ne[Ue+2]=P;let Be=ne[Ue],vt=ne[Ue+1],Tt=I.within(ne[Ue],ne[Ue+1],le),xt=ne[Ue+Fi],Ct=xt;for(let Rt of Tt){let fi=Rt*Ne;ne[fi+2]>P&&(Ct+=ne[fi+Fi])}if(Ct>xt&&Ct>=ce){let Rt,fi=Be*xt,zi=vt*xt,aa=-1,ki=((Ue/Ne|0)<<5)+(P+1)+this.points.length;for(let Za of Tt){let Vi=Za*Ne;if(ne[Vi+2]<=P)continue;ne[Vi+2]=P;let ca=ne[Vi+Fi];fi+=ne[Vi]*ca,zi+=ne[Vi+1]*ca,ne[Vi+4]=ki,re&&(Rt||(Rt=this._map(ne,Ue,!0),aa=this.clusterProps.length,this.clusterProps.push(Rt)),re(Rt,this._map(ne,Vi)))}ne[Ue+4]=ki,_e.push(fi/Ct,zi/Ct,1/0,ki,-1,Ct),re&&_e.push(aa)}else{for(let Rt=0;Rt<Ne;Rt++)_e.push(ne[Ue+Rt]);if(Ct>1)for(let Rt of Tt){let fi=Rt*Ne;if(!(ne[fi+2]<=P)){ne[fi+2]=P;for(let zi=0;zi<Ne;zi++)_e.push(ne[fi+zi])}}}}return _e}_getOriginId(I){return I-this.points.length>>5}_getOriginZoom(I){return(I-this.points.length)%32}_map(I,P,Z){if(I[P+Fi]>1){let ce=this.clusterProps[I[P+In]];return Z?Object.assign({},ce):ce}let Y=this.points[I[P+Oi]].properties,re=this.options.map(Y);return Z&&re===Y?Object.assign({},re):re}}function Pn(q,I,P){return{type:"Feature",id:q[I+Oi],properties:br(q,I,P),geometry:{type:"Point",coordinates:[(Z=q[I],360*(Z-.5)),xs(q[I+1])]}};var Z}function br(q,I,P){let Z=q[I+Fi],Y=Z>=1e4?`${Math.round(Z/1e3)}k`:Z>=1e3?Math.round(Z/100)/10+"k":Z,re=q[I+In],ce=re===-1?{}:Object.assign({},P[re]);return Object.assign(ce,{cluster:!0,cluster_id:q[I+Oi],point_count:Z,point_count_abbreviated:Y})}function kn(q){return q/360+.5}function sn(q){let I=Math.sin(q*Math.PI/180),P=.5-.25*Math.log((1+I)/(1-I))/Math.PI;return P<0?0:P>1?1:P}function xs(q){let I=(180-360*q)*Math.PI/180;return 360*Math.atan(Math.exp(I))/Math.PI-90}function Kn(q,I,P,Z){for(var Y,re=Z,ce=P-I>>1,le=P-I,ne=q[I],_e=q[I+1],Ne=q[P],Ue=q[P+1],Be=I+3;Be<P;Be+=3){var vt=wr(q[Be],q[Be+1],ne,_e,Ne,Ue);if(vt>re)Y=Be,re=vt;else if(vt===re){var Tt=Math.abs(Be-ce);Tt<le&&(Y=Be,le=Tt)}}re>Z&&(Y-I>3&&Kn(q,I,Y,Z),q[Y+2]=re,P-Y>3&&Kn(q,Y,P,Z))}function wr(q,I,P,Z,Y,re){var ce=Y-P,le=re-Z;if(ce!==0||le!==0){var ne=((q-P)*ce+(I-Z)*le)/(ce*ce+le*le);ne>1?(P=Y,Z=re):ne>0&&(P+=ce*ne,Z+=le*ne)}return(ce=q-P)*ce+(le=I-Z)*le}function Ot(q,I,P,Z){var Y={id:q===void 0?null:q,type:I,geometry:P,tags:Z,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(re){var ce=re.geometry,le=re.type;if(le==="Point"||le==="MultiPoint"||le==="LineString")Mr(re,ce);else if(le==="Polygon"||le==="MultiLineString")for(var ne=0;ne<ce.length;ne++)Mr(re,ce[ne]);else if(le==="MultiPolygon")for(ne=0;ne<ce.length;ne++)for(var _e=0;_e<ce[ne].length;_e++)Mr(re,ce[ne][_e])}(Y),Y}function Mr(q,I){for(var P=0;P<I.length;P+=3)q.minX=Math.min(q.minX,I[P]),q.minY=Math.min(q.minY,I[P+1]),q.maxX=Math.max(q.maxX,I[P]),q.maxY=Math.max(q.maxY,I[P+1])}function va(q,I,P,Z){if(I.geometry){var Y=I.geometry.coordinates,re=I.geometry.type,ce=Math.pow(P.tolerance/((1<<P.maxZoom)*P.extent),2),le=[],ne=I.id;if(P.promoteId?ne=I.properties[P.promoteId]:P.generateId&&(ne=Z||0),re==="Point")_o(Y,le);else if(re==="MultiPoint")for(var _e=0;_e<Y.length;_e++)_o(Y[_e],le);else if(re==="LineString")mi(Y,le,ce,!1);else if(re==="MultiLineString"){if(P.lineMetrics){for(_e=0;_e<Y.length;_e++)mi(Y[_e],le=[],ce,!1),q.push(Ot(ne,"LineString",le,I.properties));return}Aa(Y,le,ce,!1)}else if(re==="Polygon")Aa(Y,le,ce,!0);else{if(re!=="MultiPolygon"){if(re==="GeometryCollection"){for(_e=0;_e<I.geometry.geometries.length;_e++)va(q,{id:ne,geometry:I.geometry.geometries[_e],properties:I.properties},P,Z);return}throw new Error("Input data is not a valid GeoJSON object.")}for(_e=0;_e<Y.length;_e++){var Ne=[];Aa(Y[_e],Ne,ce,!0),le.push(Ne)}}q.push(Ot(ne,re,le,I.properties))}}function _o(q,I){I.push(bs(q[0])),I.push(ln(q[1])),I.push(0)}function mi(q,I,P,Z){for(var Y,re,ce=0,le=0;le<q.length;le++){var ne=bs(q[le][0]),_e=ln(q[le][1]);I.push(ne),I.push(_e),I.push(0),le>0&&(ce+=Z?(Y*_e-ne*re)/2:Math.sqrt(Math.pow(ne-Y,2)+Math.pow(_e-re,2))),Y=ne,re=_e}var Ne=I.length-3;I[2]=1,Kn(I,0,Ne,P),I[Ne+2]=1,I.size=Math.abs(ce),I.start=0,I.end=I.size}function Aa(q,I,P,Z){for(var Y=0;Y<q.length;Y++){var re=[];mi(q[Y],re,P,Z),I.push(re)}}function bs(q){return q/360+.5}function ln(q){var I=Math.sin(q*Math.PI/180),P=.5-.25*Math.log((1+I)/(1-I))/Math.PI;return P<0?0:P>1?1:P}function xa(q,I,P,Z,Y,re,ce,le){if(Z/=I,re>=(P/=I)&&ce<Z)return q;if(ce<P||re>=Z)return null;for(var ne=[],_e=0;_e<q.length;_e++){var Ne=q[_e],Ue=Ne.geometry,Be=Ne.type,vt=Y===0?Ne.minX:Ne.minY,Tt=Y===0?Ne.maxX:Ne.maxY;if(vt>=P&&Tt<Z)ne.push(Ne);else if(!(Tt<P||vt>=Z)){var xt=[];if(Be==="Point"||Be==="MultiPoint")yo(Ue,xt,P,Z,Y);else if(Be==="LineString")zr(Ue,xt,P,Z,Y,!1,le.lineMetrics);else if(Be==="MultiLineString")Dn(Ue,xt,P,Z,Y,!1);else if(Be==="Polygon")Dn(Ue,xt,P,Z,Y,!0);else if(Be==="MultiPolygon")for(var Ct=0;Ct<Ue.length;Ct++){var Rt=[];Dn(Ue[Ct],Rt,P,Z,Y,!0),Rt.length&&xt.push(Rt)}if(xt.length){if(le.lineMetrics&&Be==="LineString"){for(Ct=0;Ct<xt.length;Ct++)ne.push(Ot(Ne.id,Be,xt[Ct],Ne.tags));continue}Be!=="LineString"&&Be!=="MultiLineString"||(xt.length===1?(Be="LineString",xt=xt[0]):Be="MultiLineString"),Be!=="Point"&&Be!=="MultiPoint"||(Be=xt.length===3?"Point":"MultiPoint"),ne.push(Ot(Ne.id,Be,xt,Ne.tags))}}}return ne.length?ne:null}function yo(q,I,P,Z,Y){for(var re=0;re<q.length;re+=3){var ce=q[re+Y];ce>=P&&ce<=Z&&(I.push(q[re]),I.push(q[re+1]),I.push(q[re+2]))}}function zr(q,I,P,Z,Y,re,ce){for(var le,ne,_e=vo(q),Ne=Y===0?ws:Ms,Ue=q.start,Be=0;Be<q.length-3;Be+=3){var vt=q[Be],Tt=q[Be+1],xt=q[Be+2],Ct=q[Be+3],Rt=q[Be+4],fi=Y===0?vt:Tt,zi=Y===0?Ct:Rt,aa=!1;ce&&(le=Math.sqrt(Math.pow(vt-Ct,2)+Math.pow(Tt-Rt,2))),fi<P?zi>P&&(ne=Ne(_e,vt,Tt,Ct,Rt,P),ce&&(_e.start=Ue+le*ne)):fi>Z?zi<Z&&(ne=Ne(_e,vt,Tt,Ct,Rt,Z),ce&&(_e.start=Ue+le*ne)):Ar(_e,vt,Tt,xt),zi<P&&fi>=P&&(ne=Ne(_e,vt,Tt,Ct,Rt,P),aa=!0),zi>Z&&fi<=Z&&(ne=Ne(_e,vt,Tt,Ct,Rt,Z),aa=!0),!re&&aa&&(ce&&(_e.end=Ue+le*ne),I.push(_e),_e=vo(q)),ce&&(Ue+=le)}var ki=q.length-3;vt=q[ki],Tt=q[ki+1],xt=q[ki+2],(fi=Y===0?vt:Tt)>=P&&fi<=Z&&Ar(_e,vt,Tt,xt),ki=_e.length-3,re&&ki>=3&&(_e[ki]!==_e[0]||_e[ki+1]!==_e[1])&&Ar(_e,_e[0],_e[1],_e[2]),_e.length&&I.push(_e)}function vo(q){var I=[];return I.size=q.size,I.start=q.start,I.end=q.end,I}function Dn(q,I,P,Z,Y,re){for(var ce=0;ce<q.length;ce++)zr(q[ce],I,P,Z,Y,re,!1)}function Ar(q,I,P,Z){q.push(I),q.push(P),q.push(Z)}function ws(q,I,P,Z,Y,re){var ce=(re-I)/(Z-I);return q.push(re),q.push(P+(Y-P)*ce),q.push(1),ce}function Ms(q,I,P,Z,Y,re){var ce=(re-P)/(Y-P);return q.push(I+(Z-I)*ce),q.push(re),q.push(1),ce}function Ta(q,I){for(var P=[],Z=0;Z<q.length;Z++){var Y,re=q[Z],ce=re.type;if(ce==="Point"||ce==="MultiPoint"||ce==="LineString")Y=On(re.geometry,I);else if(ce==="MultiLineString"||ce==="Polygon"){Y=[];for(var le=0;le<re.geometry.length;le++)Y.push(On(re.geometry[le],I))}else if(ce==="MultiPolygon")for(Y=[],le=0;le<re.geometry.length;le++){for(var ne=[],_e=0;_e<re.geometry[le].length;_e++)ne.push(On(re.geometry[le][_e],I));Y.push(ne)}P.push(Ot(re.id,ce,Y,re.tags))}return P}function On(q,I){var P=[];P.size=q.size,q.start!==void 0&&(P.start=q.start,P.end=q.end);for(var Z=0;Z<q.length;Z+=3)P.push(q[Z]+I,q[Z+1],q[Z+2]);return P}function xo(q,I){if(q.transformed)return q;var P,Z,Y,re=1<<q.z,ce=q.x,le=q.y;for(P=0;P<q.features.length;P++){var ne=q.features[P],_e=ne.geometry,Ne=ne.type;if(ne.geometry=[],Ne===1)for(Z=0;Z<_e.length;Z+=2)ne.geometry.push(Yn(_e[Z],_e[Z+1],I,re,ce,le));else for(Z=0;Z<_e.length;Z++){var Ue=[];for(Y=0;Y<_e[Z].length;Y+=2)Ue.push(Yn(_e[Z][Y],_e[Z][Y+1],I,re,ce,le));ne.geometry.push(Ue)}}return q.transformed=!0,q}function Yn(q,I,P,Z,Y,re){return[Math.round(P*(q*Z-Y)),Math.round(P*(I*Z-re))]}function Tr(q,I,P,Z,Y){for(var re=I===Y.maxZoom?0:Y.tolerance/((1<<I)*Y.extent),ce={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:P,y:Z,z:I,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},le=0;le<q.length;le++){ce.numFeatures++,bo(ce,q[le],re,Y);var ne=q[le].minX,_e=q[le].minY,Ne=q[le].maxX,Ue=q[le].maxY;ne<ce.minX&&(ce.minX=ne),_e<ce.minY&&(ce.minY=_e),Ne>ce.maxX&&(ce.maxX=Ne),Ue>ce.maxY&&(ce.maxY=Ue)}return ce}function bo(q,I,P,Z){var Y=I.geometry,re=I.type,ce=[];if(re==="Point"||re==="MultiPoint")for(var le=0;le<Y.length;le+=3)ce.push(Y[le]),ce.push(Y[le+1]),q.numPoints++,q.numSimplified++;else if(re==="LineString")Jn(ce,Y,q,P,!1,!1);else if(re==="MultiLineString"||re==="Polygon")for(le=0;le<Y.length;le++)Jn(ce,Y[le],q,P,re==="Polygon",le===0);else if(re==="MultiPolygon")for(var ne=0;ne<Y.length;ne++){var _e=Y[ne];for(le=0;le<_e.length;le++)Jn(ce,_e[le],q,P,!0,le===0)}if(ce.length){var Ne=I.tags||null;if(re==="LineString"&&Z.lineMetrics){for(var Ue in Ne={},I.tags)Ne[Ue]=I.tags[Ue];Ne.mapbox_clip_start=Y.start/Y.size,Ne.mapbox_clip_end=Y.end/Y.size}var Be={geometry:ce,type:re==="Polygon"||re==="MultiPolygon"?3:re==="LineString"||re==="MultiLineString"?2:1,tags:Ne};I.id!==null&&(Be.id=I.id),q.features.push(Be)}}function Jn(q,I,P,Z,Y,re){var ce=Z*Z;if(Z>0&&I.size<(Y?ce:Z))P.numPoints+=I.length/3;else{for(var le=[],ne=0;ne<I.length;ne+=3)(Z===0||I[ne+2]>ce)&&(P.numSimplified++,le.push(I[ne]),le.push(I[ne+1])),P.numPoints++;Y&&function(_e,Ne){for(var Ue=0,Be=0,vt=_e.length,Tt=vt-2;Be<vt;Tt=Be,Be+=2)Ue+=(_e[Be]-_e[Tt])*(_e[Be+1]+_e[Tt+1]);if(Ue>0===Ne)for(Be=0,vt=_e.length;Be<vt/2;Be+=2){var xt=_e[Be],Ct=_e[Be+1];_e[Be]=_e[vt-2-Be],_e[Be+1]=_e[vt-1-Be],_e[vt-2-Be]=xt,_e[vt-1-Be]=Ct}}(le,re),q.push(le)}}function Rn(q,I){var P=(I=this.options=function(Y,re){for(var ce in re)Y[ce]=re[ce];return Y}(Object.create(this.options),I)).debug;if(P&&console.time("preprocess data"),I.maxZoom<0||I.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(I.promoteId&&I.generateId)throw new Error("promoteId and generateId cannot be used together.");var Z=function(Y,re){var ce=[];if(Y.type==="FeatureCollection")for(var le=0;le<Y.features.length;le++)va(ce,Y.features[le],re,le);else va(ce,Y.type==="Feature"?Y:{geometry:Y},re);return ce}(q,I);this.tiles={},this.tileCoords=[],P&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",I.indexMaxZoom,I.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Z=function(Y,re){var ce=re.buffer/re.extent,le=Y,ne=xa(Y,1,-1-ce,ce,0,-1,2,re),_e=xa(Y,1,1-ce,2+ce,0,-1,2,re);return(ne||_e)&&(le=xa(Y,1,-ce,1+ce,0,-1,2,re)||[],ne&&(le=Ta(ne,1).concat(le)),_e&&(le=le.concat(Ta(_e,-1)))),le}(Z,I),Z.length&&this.splitTile(Z,0,0,0),P&&(Z.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Qn(q,I,P){return 32*((1<<q)*P+I)+q}function er(q,I){let P=q.tileID.canonical;if(!this._geoJSONIndex)return I(null,null);let Z=this._geoJSONIndex.getTile(P.z,P.x,P.y);if(!Z)return I(null,null);let Y=new class{constructor(ce){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=ce.length,this._features=ce}feature(ce){return new class{constructor(le){this._feature=le,this.extent=o.EXTENT,this.type=le.type,this.properties=le.tags,"id"in le&&!isNaN(le.id)&&(this.id=parseInt(le.id,10))}loadGeometry(){if(this._feature.type===1){let le=[];for(let ne of this._feature.geometry)le.push([new o.Point(ne[0],ne[1])]);return le}{let le=[];for(let ne of this._feature.geometry){let _e=[];for(let Ne of ne)_e.push(new o.Point(Ne[0],Ne[1]));le.push(_e)}return le}}toGeoJSON(le,ne,_e){return Yi.call(this,le,ne,_e)}}(this._features[ce])}}(Z.features),re=go(Y);re.byteOffset===0&&re.byteLength===re.buffer.byteLength||(re=new Uint8Array(re)),I(null,{vectorTile:Y,rawData:re.buffer})}Rn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Rn.prototype.splitTile=function(q,I,P,Z,Y,re,ce){for(var le=[q,I,P,Z],ne=this.options,_e=ne.debug;le.length;){Z=le.pop(),P=le.pop(),I=le.pop(),q=le.pop();var Ne=1<<I,Ue=Qn(I,P,Z),Be=this.tiles[Ue];if(!Be&&(_e>1&&console.time("creation"),Be=this.tiles[Ue]=Tr(q,I,P,Z,ne),this.tileCoords.push({z:I,x:P,y:Z}),_e)){_e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",I,P,Z,Be.numFeatures,Be.numPoints,Be.numSimplified),console.timeEnd("creation"));var vt="z"+I;this.stats[vt]=(this.stats[vt]||0)+1,this.total++}if(Be.source=q,Y){if(I===ne.maxZoom||I===Y)continue;var Tt=1<<Y-I;if(P!==Math.floor(re/Tt)||Z!==Math.floor(ce/Tt))continue}else if(I===ne.indexMaxZoom||Be.numPoints<=ne.indexMaxPoints)continue;if(Be.source=null,q.length!==0){_e>1&&console.time("clipping");var xt,Ct,Rt,fi,zi,aa,ki=.5*ne.buffer/ne.extent,Za=.5-ki,Vi=.5+ki,ca=1+ki;xt=Ct=Rt=fi=null,zi=xa(q,Ne,P-ki,P+Vi,0,Be.minX,Be.maxX,ne),aa=xa(q,Ne,P+Za,P+ca,0,Be.minX,Be.maxX,ne),q=null,zi&&(xt=xa(zi,Ne,Z-ki,Z+Vi,1,Be.minY,Be.maxY,ne),Ct=xa(zi,Ne,Z+Za,Z+ca,1,Be.minY,Be.maxY,ne),zi=null),aa&&(Rt=xa(aa,Ne,Z-ki,Z+Vi,1,Be.minY,Be.maxY,ne),fi=xa(aa,Ne,Z+Za,Z+ca,1,Be.minY,Be.maxY,ne),aa=null),_e>1&&console.timeEnd("clipping"),le.push(xt||[],I+1,2*P,2*Z),le.push(Ct||[],I+1,2*P,2*Z+1),le.push(Rt||[],I+1,2*P+1,2*Z),le.push(fi||[],I+1,2*P+1,2*Z+1)}}},Rn.prototype.getTile=function(q,I,P){var Z=this.options,Y=Z.extent,re=Z.debug;if(q<0||q>24)return null;var ce=1<<q,le=Qn(q,I=(I%ce+ce)%ce,P);if(this.tiles[le])return xo(this.tiles[le],Y);re>1&&console.log("drilling down to z%d-%d-%d",q,I,P);for(var ne,_e=q,Ne=I,Ue=P;!ne&&_e>0;)_e--,Ne=Math.floor(Ne/2),Ue=Math.floor(Ue/2),ne=this.tiles[Qn(_e,Ne,Ue)];return ne&&ne.source?(re>1&&console.log("found parent tile z%d-%d-%d",_e,Ne,Ue),re>1&&console.time("drilling down"),this.splitTile(ne.source,_e,Ne,Ue,q,I,P),re>1&&console.timeEnd("drilling down"),this.tiles[le]?xo(this.tiles[le],Y):null):null};class Cr extends o.VectorTileWorkerSource{constructor(I,P,Z,Y,re){super(I,P,Z,Y,er),re&&(this.loadGeoJSON=re)}loadData(I,P){let Z=I&&I.request,Y=Z&&Z.collectResourceTiming;this.loadGeoJSON(I,(re,ce)=>{if(re||!ce)return P(re);if(typeof ce!="object")return P(new Error(`Input data given to '${I.source}' is not a valid GeoJSON object.`));{$t(ce,!0);try{if(I.filter){let ne=o.createExpression(I.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ne.result==="error")throw new Error(ne.value.map(Ne=>`${Ne.key}: ${Ne.message}`).join(", "));ce={type:"FeatureCollection",features:ce.features.filter(Ne=>ne.value.evaluate({zoom:0},Ne))}}this._geoJSONIndex=I.cluster?new Mi(function({superclusterOptions:ne,clusterProperties:_e}){if(!_e||!ne)return ne;let Ne={},Ue={},Be={accumulated:null,zoom:0},vt={properties:null},Tt=Object.keys(_e);for(let xt of Tt){let[Ct,Rt]=_e[xt],fi=o.createExpression(Rt),zi=o.createExpression(typeof Ct=="string"?[Ct,["accumulated"],["get",xt]]:Ct);Ne[xt]=fi.value,Ue[xt]=zi.value}return ne.map=xt=>{vt.properties=xt;let Ct={};for(let Rt of Tt)Ct[Rt]=Ne[Rt].evaluate(Be,vt);return Ct},ne.reduce=(xt,Ct)=>{vt.properties=Ct;for(let Rt of Tt)Be.accumulated=xt[Rt],xt[Rt]=Ue[Rt].evaluate(Be,vt)},ne}(I)).load(ce.features):function(ne,_e){return new Rn(ne,_e)}(ce,I.geojsonVtOptions)}catch(ne){return P(ne)}this.loaded={};let le={};if(Y){let ne=o.getPerformanceMeasurement(Z);ne&&(le.resourceTiming={},le.resourceTiming[I.source]=JSON.parse(JSON.stringify(ne)))}P(null,le)}})}reloadTile(I,P){let Z=this.loaded;return Z&&Z[I.uid]?super.reloadTile(I,P):this.loadTile(I,P)}loadGeoJSON(I,P){if(I.request)o.getJSON(I.request,P);else{if(typeof I.data!="string")return P(new Error(`Input data given to '${I.source}' is not a valid GeoJSON object.`));try{return P(null,JSON.parse(I.data))}catch{return P(new Error(`Input data given to '${I.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(I,P){try{P(null,this._geoJSONIndex.getClusterExpansionZoom(I.clusterId))}catch(Z){P(Z)}}getClusterChildren(I,P){try{P(null,this._geoJSONIndex.getChildren(I.clusterId))}catch(Z){P(Z)}}getClusterLeaves(I,P){try{P(null,this._geoJSONIndex.getLeaves(I.clusterId,I.limit,I.offset))}catch(Z){P(Z)}}}class zs{constructor(I){this.self=I,this.actor=new o.Actor(I,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=o.getProjection({name:"mercator"}),this.workerSourceTypes={vector:o.VectorTileWorkerSource,geojson:Cr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(P,Z)=>{if(this.workerSourceTypes[P])throw new Error(`Worker source with name "${P}" already registered.`);this.workerSourceTypes[P]=Z},this.self.registerRTLTextPlugin=P=>{if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=P.applyArabicShaping,o.plugin.processBidirectionalText=P.processBidirectionalText,o.plugin.processStyledBidirectionalText=P.processStyledBidirectionalText}}clearCaches(I,P,Z){delete this.layerIndexes[I],delete this.availableImages[I],delete this.workerSources[I],delete this.demWorkerSources[I],Z()}checkIfReady(I,P,Z){Z()}setReferrer(I,P){this.referrer=P}spriteLoaded(I,P){this.isSpriteLoaded[I]=P;for(let Z in this.workerSources[I]){let Y=this.workerSources[I][Z];for(let re in Y)Y[re]instanceof o.VectorTileWorkerSource&&(Y[re].isSpriteLoaded=P,Y[re].fire(new o.Event("isSpriteLoaded")))}}setImages(I,P,Z){this.availableImages[I]=P;for(let Y in this.workerSources[I]){let re=this.workerSources[I][Y];for(let ce in re)re[ce].availableImages=P}Z()}enableTerrain(I,P,Z){this.terrain=P,Z()}setProjection(I,P){this.projections[I]=o.getProjection(P)}setLayers(I,P,Z){this.getLayerIndex(I).replace(P),Z()}updateLayers(I,P,Z){this.getLayerIndex(I).update(P.layers,P.removedIds),Z()}loadTile(I,P,Z){let Y=this.enableTerrain?o.extend({enableTerrain:this.terrain},P):P;Y.projection=this.projections[I]||this.defaultProjection,this.getWorkerSource(I,P.type,P.source).loadTile(Y,Z)}loadDEMTile(I,P,Z){let Y=this.enableTerrain?o.extend({buildQuadTree:this.terrain},P):P;this.getDEMWorkerSource(I,P.source).loadTile(Y,Z)}reloadTile(I,P,Z){let Y=this.enableTerrain?o.extend({enableTerrain:this.terrain},P):P;Y.projection=this.projections[I]||this.defaultProjection,this.getWorkerSource(I,P.type,P.source).reloadTile(Y,Z)}abortTile(I,P,Z){this.getWorkerSource(I,P.type,P.source).abortTile(P,Z)}removeTile(I,P,Z){this.getWorkerSource(I,P.type,P.source).removeTile(P,Z)}removeSource(I,P,Z){if(!this.workerSources[I]||!this.workerSources[I][P.type]||!this.workerSources[I][P.type][P.source])return;let Y=this.workerSources[I][P.type][P.source];delete this.workerSources[I][P.type][P.source],Y.removeSource!==void 0?Y.removeSource(P,Z):Z()}loadWorkerSource(I,P,Z){try{this.self.importScripts(P.url),Z()}catch(Y){Z(Y.toString())}}syncRTLPluginState(I,P,Z){try{o.plugin.setState(P);let Y=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&Y!=null){this.self.importScripts(Y);let re=o.plugin.isParsed();Z(re?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Y}`),re)}}catch(Y){Z(Y.toString())}}getAvailableImages(I){let P=this.availableImages[I];return P||(P=[]),P}getLayerIndex(I){let P=this.layerIndexes[I];return P||(P=this.layerIndexes[I]=new pt),P}getWorkerSource(I,P,Z){if(this.workerSources[I]||(this.workerSources[I]={}),this.workerSources[I][P]||(this.workerSources[I][P]={}),!this.workerSources[I][P][Z]){let Y={send:(re,ce,le,ne,_e,Ne)=>{this.actor.send(re,ce,le,I,_e,Ne)},scheduler:this.actor.scheduler};this.workerSources[I][P][Z]=new this.workerSourceTypes[P](Y,this.getLayerIndex(I),this.getAvailableImages(I),this.isSpriteLoaded[I])}return this.workerSources[I][P][Z]}getDEMWorkerSource(I,P){return this.demWorkerSources[I]||(this.demWorkerSources[I]={}),this.demWorkerSources[I][P]||(this.demWorkerSources[I][P]=new Je),this.demWorkerSources[I][P]}enforceCacheSizeLimit(I,P){o.enforceCacheSizeLimit(P)}getWorkerPerformanceMetrics(I,P,Z){Z(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new zs(self)),zs}),w(["./shared"],function(o){"use strict";function ae(l,a){if(Array.isArray(l)){if(!Array.isArray(a)||l.length!==a.length)return!1;for(let r=0;r<l.length;r++)if(!ae(l[r],a[r]))return!1;return!0}if(typeof l=="object"&&l!==null&&a!==null){if(typeof a!="object"||Object.keys(l).length!==Object.keys(a).length)return!1;for(let r in l)if(!ae(l[r],a[r]))return!1;return!0}return l===a}var Qe=pt;function pt(l){return!function(a){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var h,d,m=new Blob([""],{type:"text/javascript"}),_=URL.createObjectURL(m);try{d=new Worker(_),h=!0}catch{h=!1}return d&&d.terminate(),URL.revokeObjectURL(_),h}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var h=document.createElement("canvas");h.width=h.height=1;var d=h.getContext("2d");if(!d)return!1;var m=d.getImageData(0,0,1,1);return m&&m.width===h.width}()?(Je[r=a&&a.failIfMajorPerformanceCaveat]===void 0&&(Je[r]=function(h){var d,m=function(_){var y=document.createElement("canvas"),x=Object.create(pt.webGLContextAttributes);return x.failIfMajorPerformanceCaveat=_,y.getContext("webgl",x)||y.getContext("experimental-webgl",x)}(h);if(!m)return!1;try{d=m.createShader(m.VERTEX_SHADER)}catch{return!1}return!(!d||m.isContextLost())&&(m.shaderSource(d,"void main() {}"),m.compileShader(d),m.getShaderParameter(d,m.COMPILE_STATUS)===!0)}(r)),Je[r]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var r}(l)}var Je={};function ht(l,a,r){let h=o.window.document.createElement(l);return a!==void 0&&(h.className=a),r&&r.appendChild(h),h}function Ht(l,a,r){let h=o.window.document.createElementNS("http://www.w3.org/2000/svg",l);for(let d of Object.keys(a))h.setAttributeNS(null,d,a[d]);return r&&r.appendChild(h),h}pt.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};let $t=o.window.document&&o.window.document.documentElement.style,Yi=$t&&$t.userSelect!==void 0?"userSelect":"WebkitUserSelect",Bi;function li(){$t&&Yi&&(Bi=$t[Yi],$t[Yi]="none")}function Nt(){$t&&Yi&&($t[Yi]=Bi)}function et(l){l.preventDefault(),l.stopPropagation(),o.window.removeEventListener("click",et,!0)}function ut(){o.window.addEventListener("click",et,!0),o.window.setTimeout(()=>{o.window.removeEventListener("click",et,!0)},0)}function He(l,a){let r=l.getBoundingClientRect();return yt(l,r,a)}function at(l,a){let r=l.getBoundingClientRect(),h=[];for(let d=0;d<a.length;d++)h.push(yt(l,r,a[d]));return h}function ct(l){return o.window.InstallTrigger!==void 0&&l.button===2&&l.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:l.button}function yt(l,a,r){let h=l.offsetWidth===a.width?1:l.offsetWidth/a.width;return new o.Point((r.clientX-a.left)*h,(r.clientY-a.top)*h)}function Se(l,a){var r=a[0],h=a[1],d=a[2],m=a[3],_=r*m-d*h;return _?(l[0]=m*(_=1/_),l[1]=-h*_,l[2]=-d*_,l[3]=r*_,l):null}function ai(l){let{userImage:a}=l;return!!(a&&a.render&&a.render())&&(l.data.replace(new Uint8Array(a.data.buffer)),!0)}class Ln extends o.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(let{ids:r,callback:h}of this.requestors)this._notify(r,h);this.requestors=[]}}hasImage(a){return!!this.getImage(a)}getImage(a){return this.images[a]}addImage(a,r){this._validate(a,r)&&(this.images[a]=r)}_validate(a,r){let h=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new o.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),h=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new o.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),h=!1),this._validateContent(r.content,r)||(this.fire(new o.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),h=!1),h}_validateStretch(a,r){if(!a)return!0;let h=0;for(let d of a){if(d[0]<h||d[1]<d[0]||r<d[1])return!1;h=d[1]}return!0}_validateContent(a,r){return!(a&&(a.length!==4||a[0]<0||r.data.width<a[0]||a[1]<0||r.data.height<a[1]||a[2]<0||r.data.width<a[2]||a[3]<0||r.data.height<a[3]||a[2]<a[0]||a[3]<a[1]))}updateImage(a,r){r.version=this.images[a].version+1,this.images[a]=r,this.updatedImages[a]=!0}removeImage(a){let r=this.images[a];delete this.images[a],delete this.patterns[a],r.userImage&&r.userImage.onRemove&&r.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,r){let h=!0;if(!this.isLoaded())for(let d of a)this.images[d]||(h=!1);this.isLoaded()||h?this._notify(a,r):this.requestors.push({ids:a,callback:r})}_notify(a,r){let h={};for(let d of a){this.images[d]||this.fire(new o.Event("styleimagemissing",{id:d}));let m=this.images[d];m?h[d]={data:m.data.clone(),pixelRatio:m.pixelRatio,sdf:m.sdf,version:m.version,stretchX:m.stretchX,stretchY:m.stretchY,content:m.content,hasRenderCallback:!!(m.userImage&&m.userImage.render)}:o.warnOnce(`Image "${d}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}r(null,h)}getPixelSize(){let{width:a,height:r}=this.atlasImage;return{width:a,height:r}}getPattern(a){let r=this.patterns[a],h=this.getImage(a);if(!h)return null;if(r&&r.position.version===h.version)return r.position;if(r)r.position.version=h.version;else{let d={w:h.data.width+2,h:h.data.height+2,x:0,y:0},m=new o.ImagePosition(d,h);this.patterns[a]={bin:d,position:m}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){let r=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(a,this.atlasImage,r.RGBA),this.atlasTexture&&this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}_updatePatternAtlas(){let a=[];for(let m in this.patterns)a.push(this.patterns[m].bin);let{w:r,h}=o.potpack(a),d=this.atlasImage;d.resize({width:r||1,height:h||1});for(let m in this.patterns){let{bin:_}=this.patterns[m],y=_.x+1,x=_.y+1,A=this.images[m].data,z=A.width,E=A.height;o.RGBAImage.copy(A,d,{x:0,y:0},{x:y,y:x},{width:z,height:E}),o.RGBAImage.copy(A,d,{x:0,y:E-1},{x:y,y:x-1},{width:z,height:1}),o.RGBAImage.copy(A,d,{x:0,y:0},{x:y,y:x+E},{width:z,height:1}),o.RGBAImage.copy(A,d,{x:z-1,y:0},{x:y-1,y:x},{width:1,height:E}),o.RGBAImage.copy(A,d,{x:0,y:0},{x:y+z,y:x},{width:1,height:E})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(let r of a){if(this.callbackDispatchedThisFrame[r])continue;this.callbackDispatchedThisFrame[r]=!0;let h=this.images[r];ai(h)&&this.updateImage(r,h)}}}let Mt=new o.Properties({anchor:new o.DataConstantProperty(o.spec.light.anchor),position:new class{constructor(){this.specification=o.spec.light.position}possiblyEvaluate(l,a){return function([r,h,d]){let m=o.degToRad(h+90),_=o.degToRad(d);return{x:r*Math.cos(m)*Math.sin(_),y:r*Math.sin(m)*Math.sin(_),z:r*Math.cos(_),azimuthal:h,polar:d}}(l.expression.evaluate(a))}interpolate(l,a,r){return{x:o.number(l.x,a.x,r),y:o.number(l.y,a.y,r),z:o.number(l.z,a.z,r),azimuthal:o.number(l.azimuthal,a.azimuthal,r),polar:o.number(l.polar,a.polar,r)}}},color:new o.DataConstantProperty(o.spec.light.color),intensity:new o.DataConstantProperty(o.spec.light.intensity)});class xi extends o.Evented{constructor(a){super(),this._transitionable=new o.Transitionable(Mt),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,r={}){if(!this._validate(o.validateLight,a,r))for(let h in a){let d=a[h];o.endsWith(h,"-transition")?this._transitionable.setTransition(h.slice(0,-11),d):this._transitionable.setValue(h,d)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,r,h){return(!h||h.validate!==!1)&&o.emitValidationErrors(this,a.call(o.validateStyle,o.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:o.spec})))}}let Zl=new o.Properties({source:new o.DataConstantProperty(o.spec.terrain.source),exaggeration:new o.DataConstantProperty(o.spec.terrain.exaggeration)}),ys=class extends o.Evented{constructor(l,a){super(),this._transitionable=new o.Transitionable(Zl),this.set(l),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=a}get(){return this._transitionable.serialize()}set(l){for(let a in l){let r=l[a];o.endsWith(a,"-transition")?this._transitionable.setTransition(a.slice(0,-11),r):this._transitionable.setValue(a,r)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}};function go(l,a,r,h){let d=o.smoothstep(45,65,r),[m,_]=vs(l,h),y=o.length(a),x=1-Math.min(1,Math.exp((y-m)/(_-m)*-6));return x*=x*x,x=Math.min(1,1.00747*x),x*d*l.alpha}function vs(l,a){let r=.5/Math.tan(.5*a);return[l.range[0]+r,l.range[1]+r]}let Pt=new o.Properties({range:new o.DataConstantProperty(o.spec.fog.range),color:new o.DataConstantProperty(o.spec.fog.color),"high-color":new o.DataConstantProperty(o.spec.fog["high-color"]),"space-color":new o.DataConstantProperty(o.spec.fog["space-color"]),"horizon-blend":new o.DataConstantProperty(o.spec.fog["horizon-blend"]),"star-intensity":new o.DataConstantProperty(o.spec.fog["star-intensity"])});class xr extends o.Evented{constructor(a,r){super(),this._transitionable=new o.Transitionable(Pt),this.set(a),this._transitioning=this._transitionable.untransitioned(),this._transform=r}get state(){let a=this._transform,r=a.projection.name==="globe",h=o.globeToMercatorTransition(a.zoom),d=this.properties.get("range"),m=[.5,3];return{range:r?[o.number(m[0],d[0],h),o.number(m[1],d[1],h)]:d,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(a,r={}){if(!this._validate(o.validateFog,a,r)){for(let h of Object.keys(o.spec.fog))a&&a[h]===void 0&&(a[h]=o.spec.fog[h].default);for(let h in a){let d=a[h];o.endsWith(h,"-transition")?this._transitionable.setTransition(h.slice(0,-11),d):this._transitionable.setValue(h,d)}}}getOpacity(a){if(!this._transform.projection.supportsFog)return 0;let r=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:o.smoothstep(45,65,a))*r.a}getOpacityAtLatLng(a,r){return this._transform.projection.supportsFog?function(h,d,m){let _=o.MercatorCoordinate.fromLngLat(d),y=m.elevation?m.elevation.getAtPointOrZero(_):0,x=[_.x,_.y,y];return o.transformMat4(x,x,m.mercatorFogMatrix),go(h,x,m.pitch,m._fov)}(this.state,a,r):0}getFovAdjustedRange(a){return this._transform.projection.supportsFog?vs(this.state,a):[0,1]}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,r,h){return(!h||h.validate!==!1)&&o.emitValidationErrors(this,a.call(o.validateStyle,o.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:o.spec})))}}class Oi{constructor(a,r){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=o.uniqueId();let h=this.workerPool.acquire(this.id);for(let d=0;d<h.length;d++){let m=new Oi.Actor(h[d],r,this.id);m.name=`Worker ${d}`,this.actors.push(m)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(a,r,h){o.asyncAll(this.actors,(d,m)=>{d.send(a,r,m)},h=h||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(a=>{a.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Fi(l,a,r){return a*(o.EXTENT/(l.tileSize*Math.pow(2,r-l.tileID.overscaledZ)))}Oi.Actor=o.Actor;class In{constructor(a,r,h,d){this.screenBounds=a,this.cameraPoint=r,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=h,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,d)}static createFromScreenPoints(a,r){let h,d;if(a instanceof o.Point||typeof a[0]=="number"){let m=o.Point.convert(a);h=[m],d=r.isPointAboveHorizon(m)}else{let m=o.Point.convert(a[0]),_=o.Point.convert(a[1]);h=[m,_],d=o.polygonizeBounds(m,_).every(y=>r.isPointAboveHorizon(y))}return new In(h,r.getCameraPoint(),d,r)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(a){return o.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],a)}bufferedCameraGeometry(a){let r=this.screenBounds[0],h=this.screenBounds.length===1?this.screenBounds[0].add(new o.Point(1,1)):this.screenBounds[1],d=o.polygonizeBounds(r,h,0,!1);return this.cameraPoint.y>h.y&&(this.cameraPoint.x>r.x&&this.cameraPoint.x<h.x?d.splice(3,0,this.cameraPoint):this.cameraPoint.x>=h.x?d[2]=this.cameraPoint:this.cameraPoint.x<=r.x&&(d[3]=this.cameraPoint)),o.bufferConvexPolygon(d,a)}bufferedCameraGeometryGlobe(a){let r=this.screenBounds[0],h=this.screenBounds.length===1?this.screenBounds[0].add(new o.Point(1,1)):this.screenBounds[1],d=o.polygonizeBounds(r,h,a),m=this.cameraPoint.clone();switch(3*((m.y>r.y)+(m.y>h.y))+((m.x>r.x)+(m.x>h.x))){case 0:d[0]=m,d[4]=m.clone();break;case 1:d.splice(1,0,m);break;case 2:d[1]=m;break;case 3:d.splice(4,0,m);break;case 5:d.splice(2,0,m);break;case 6:d[3]=m;break;case 7:d.splice(3,0,m);break;case 8:d[2]=m}return d}containsTile(a,r,h,d=0){let m=a.queryPadding/r._pixelsPerMercatorPixel+1,_=h?this._bufferedCameraMercator(m,r):this._bufferedScreenMercator(m,r),y=a.tileID.wrap+(_.unwrapped?d:0),x=_.polygon.map(N=>o.getTilePoint(a.tileTransform,N,y));if(!o.polygonIntersectsBox(x,0,0,o.EXTENT,o.EXTENT))return;y=a.tileID.wrap+(this.screenGeometryMercator.unwrapped?d:0);let A=this.screenGeometryMercator.polygon.map(N=>o.getTileVec3(a.tileTransform,N,y)),z=A.map(N=>new o.Point(N[0],N[1])),E=r.getFreeCameraOptions().position||new o.MercatorCoordinate(0,0,0),k=o.getTileVec3(a.tileTransform,E,y),R=A.map(N=>{let S=o.sub(N,N,k);return o.normalize(S,S),new o.Ray(k,S)}),F=Fi(a,1,r.zoom)*r._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:z,tilespaceRays:R,bufferedTilespaceGeometry:x,bufferedTilespaceBounds:(B=o.getBounds(x),B.min.x=o.clamp(B.min.x,0,o.EXTENT),B.min.y=o.clamp(B.min.y,0,o.EXTENT),B.max.x=o.clamp(B.max.x,0,o.EXTENT),B.max.y=o.clamp(B.max.y,0,o.EXTENT),B),tile:a,tileID:a.tileID,pixelToTileUnitsFactor:F};var B}_bufferedScreenMercator(a,r){let h=br(a);if(this._screenRaycastCache[h])return this._screenRaycastCache[h];{let d;return d=r.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(a),r):{polygon:this.bufferedScreenGeometry(a).map(m=>r.pointCoordinate3D(m)),unwrapped:!0},this._screenRaycastCache[h]=d,d}}_bufferedCameraMercator(a,r){let h=br(a);if(this._cameraRaycastCache[h])return this._cameraRaycastCache[h];{let d;return d=r.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(a),r):{polygon:this.bufferedCameraGeometry(a).map(m=>r.pointCoordinate3D(m)),unwrapped:!0},this._cameraRaycastCache[h]=d,d}}_projectAndResample(a,r){let h=function(m,_){let y=o.multiply([],_.pixelMatrix,_.globeMatrix),x=[0,-o.GLOBE_RADIUS,0,1],A=[0,o.GLOBE_RADIUS,0,1],z=[0,0,0,1];o.transformMat4$1(x,x,y),o.transformMat4$1(A,A,y),o.transformMat4$1(z,z,y);let E=new o.Point(x[0]/x[3],x[1]/x[3]),k=new o.Point(A[0]/A[3],A[1]/A[3]),R=o.polygonContainsPoint(m,E)&&x[3]<z[3],F=o.polygonContainsPoint(m,k)&&A[3]<z[3];if(!R&&!F)return null;let B=function(Q,se,oe){for(let pe=1;pe<Q.length;pe++){let Pe=Pn(se.pointCoordinate3D(Q[pe-1]).x),he=Pn(se.pointCoordinate3D(Q[pe]).x);if(oe<0){if(Pe<he)return{idx:pe,t:-Pe/(he-1-Pe)}}else if(he<Pe)return{idx:pe,t:(1-Pe)/(he+1-Pe)}}return null}(m,_,R?-1:1);if(!B)return null;let{idx:N,t:S}=B,O=N>1?Mi(m.slice(0,N),_):[],H=N<m.length?Mi(m.slice(N),_):[];O=O.map(Q=>new o.Point(Pn(Q.x),Q.y)),H=H.map(Q=>new o.Point(Pn(Q.x),Q.y));let G=[...O];G.length===0&&G.push(H[H.length-1]);let J=o.number(G[G.length-1].y,(H.length===0?O[0]:H[0]).y,S),ee;return ee=R?[new o.Point(0,J),new o.Point(0,0),new o.Point(1,0),new o.Point(1,J)]:[new o.Point(1,J),new o.Point(1,1),new o.Point(0,1),new o.Point(0,J)],G.push(...ee),H.length===0?G.push(O[0]):G.push(...H),{polygon:G.map(Q=>new o.MercatorCoordinate(Q.x,Q.y)),unwrapped:!1}}(a,r);if(h)return h;let d=function(m,_){let y=!1,x=-1/0,A=0;for(let E=0;E<m.length-1;E++)m[E].x>x&&(x=m[E].x,A=E);for(let E=0;E<m.length-1;E++){let k=(A+E)%(m.length-1),R=m[k],F=m[k+1];Math.abs(R.x-F.x)>.5&&(R.x<F.x?(R.x+=1,k===0&&(m[m.length-1].x+=1)):(F.x+=1,k+1===m.length-1&&(m[0].x+=1)),y=!0)}let z=o.mercatorXfromLng(_.center.lng);return y&&z<Math.abs(z-1)&&m.forEach(E=>{E.x-=1}),{polygon:m,unwrapped:y}}(Mi(a,r).map(m=>new o.Point(Pn(m.x),m.y)),r);return{polygon:d.polygon.map(m=>new o.MercatorCoordinate(m.x,m.y)),unwrapped:d.unwrapped}}}function Mi(l,a){return o.resample(l,r=>{let h=a.pointCoordinate3D(r);r.x=h.x,r.y=h.y},1/256)}function Pn(l){return l<0?1+l%1:l%1}function br(l){return 100*l|0}function kn(l,a,r,h,d){let m=function(_,y){if(_)return d(_);if(y){l.url&&y.tiles&&l.tiles&&delete l.tiles;let x=o.pick(o.extend(y,l),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);y.vector_layers&&(x.vectorLayers=y.vector_layers,x.vectorLayerIds=x.vectorLayers.map(A=>A.id)),x.tiles=a.canonicalizeTileset(x,l.url),d(null,x)}};return l.url?o.getJSON(a.transformRequest(a.normalizeSourceURL(l.url,null,r,h),o.ResourceType.Source),m):o.exported.frame(()=>m(null,l))}class sn{constructor(a,r,h){this.bounds=o.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=r||0,this.maxzoom=h||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){let r=Math.pow(2,a.z),h=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*r),d=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*r),m=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*r),_=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*r);return a.x>=h&&a.x<m&&a.y>=d&&a.y<_}}class xs{constructor(a,r,h){this.context=a;let d=a.gl;this.buffer=d.createBuffer(),this.dynamicDraw=!!h,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),d.bufferData(d.ELEMENT_ARRAY_BUFFER,r.arrayBuffer,this.dynamicDraw?d.DYNAMIC_DRAW:d.STATIC_DRAW),this.dynamicDraw||r.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){let r=this.context.gl;this.context.unbindVAO(),this.bind(),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let Kn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class wr{constructor(a,r,h,d){this.length=r.length,this.attributes=h,this.itemSize=r.bytesPerElement,this.dynamicDraw=d,this.context=a;let m=a.gl;this.buffer=m.createBuffer(),a.bindVertexBuffer.set(this.buffer),m.bufferData(m.ARRAY_BUFFER,r.arrayBuffer,this.dynamicDraw?m.DYNAMIC_DRAW:m.STATIC_DRAW),this.dynamicDraw||r.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){let r=this.context.gl;this.bind(),r.bufferSubData(r.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,r){for(let h=0;h<this.attributes.length;h++){let d=r.attributes[this.attributes[h].name];d!==void 0&&a.enableVertexAttribArray(d)}}setVertexAttribPointers(a,r,h){for(let d=0;d<this.attributes.length;d++){let m=this.attributes[d],_=r.attributes[m.name];_!==void 0&&a.vertexAttribPointer(_,m.components,a[Kn[m.type]],!1,this.itemSize,m.offset+this.itemSize*(h||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ot{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Mr extends Ot{getDefault(){return o.Color.transparent}set(a){let r=this.current;(a.r!==r.r||a.g!==r.g||a.b!==r.b||a.a!==r.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class va extends Ot{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class _o extends Ot{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class mi extends Ot{getDefault(){return[!0,!0,!0,!0]}set(a){let r=this.current;(a[0]!==r[0]||a[1]!==r[1]||a[2]!==r[2]||a[3]!==r[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Aa extends Ot{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class bs extends Ot{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class ln extends Ot{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){let r=this.current;(a.func!==r.func||a.ref!==r.ref||a.mask!==r.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class xa extends Ot{getDefault(){let a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){let r=this.current;(a[0]!==r[0]||a[1]!==r[1]||a[2]!==r[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class yo extends Ot{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;a?r.enable(r.STENCIL_TEST):r.disable(r.STENCIL_TEST),this.current=a,this.dirty=!1}}class zr extends Ot{getDefault(){return[0,1]}set(a){let r=this.current;(a[0]!==r[0]||a[1]!==r[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class vo extends Ot{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;a?r.enable(r.DEPTH_TEST):r.disable(r.DEPTH_TEST),this.current=a,this.dirty=!1}}class Dn extends Ot{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Ar extends Ot{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;a?r.enable(r.BLEND):r.disable(r.BLEND),this.current=a,this.dirty=!1}}class ws extends Ot{getDefault(){let a=this.gl;return[a.ONE,a.ZERO]}set(a){let r=this.current;(a[0]!==r[0]||a[1]!==r[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Ms extends Ot{getDefault(){return o.Color.transparent}set(a){let r=this.current;(a.r!==r.r||a.g!==r.g||a.b!==r.b||a.a!==r.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Ta extends Ot{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class On extends Ot{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;a?r.enable(r.CULL_FACE):r.disable(r.CULL_FACE),this.current=a,this.dirty=!1}}class xo extends Ot{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Yn extends Ot{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}let Tr,bo=class extends Ot{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}};class Jn extends Ot{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class Rn extends Ot{getDefault(){let a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){let r=this.current;(a[0]!==r[0]||a[1]!==r[1]||a[2]!==r[2]||a[3]!==r[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Qn extends Ot{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;r.bindFramebuffer(r.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class er extends Ot{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;r.bindRenderbuffer(r.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Cr extends Ot{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;r.bindTexture(r.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class zs extends Ot{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class q extends Ot{getDefault(){return null}set(a){let r=this.gl;r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class I extends Ot{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class P extends Ot{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;r.pixelStorei(r.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class Z extends Ot{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Y extends Ot{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;let r=this.gl;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class re extends Ot{constructor(a,r){super(a),this.context=a,this.parent=r}getDefault(){return null}}class ce extends re{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let r=this.gl;r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class le extends re{attachment(){return this.gl.DEPTH_ATTACHMENT}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let r=this.gl;r.framebufferRenderbuffer(r.FRAMEBUFFER,this.attachment(),r.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class ne extends le{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class _e{constructor(a,r,h,d){this.context=a,this.width=r,this.height=h;let m=this.framebuffer=a.gl.createFramebuffer();this.colorAttachment=new ce(a,m),d&&(this.depthAttachment=new le(a,m))}destroy(){let a=this.context.gl,r=this.colorAttachment.get();if(r&&a.deleteTexture(r),this.depthAttachment){let h=this.depthAttachment.get();h&&a.deleteRenderbuffer(h)}a.deleteFramebuffer(this.framebuffer)}}class Ne{constructor(a,r=!1){if(this.gl=a,this.isWebGL2=r,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),r){let h=a;this.extVertexArrayObject={createVertexArrayOES:h.createVertexArray.bind(a),deleteVertexArrayOES:h.deleteVertexArray.bind(a),bindVertexArrayOES:h.bindVertexArray.bind(a)}}this.clearColor=new Mr(this),this.clearDepth=new va(this),this.clearStencil=new _o(this),this.colorMask=new mi(this),this.depthMask=new Aa(this),this.stencilMask=new bs(this),this.stencilFunc=new ln(this),this.stencilOp=new xa(this),this.stencilTest=new yo(this),this.depthRange=new zr(this),this.depthTest=new vo(this),this.depthFunc=new Dn(this),this.blend=new Ar(this),this.blendFunc=new ws(this),this.blendColor=new Ms(this),this.blendEquation=new Ta(this),this.cullFace=new On(this),this.cullFaceSide=new xo(this),this.frontFace=new Yn(this),this.program=new bo(this),this.activeTexture=new Jn(this),this.viewport=new Rn(this),this.bindFramebuffer=new Qn(this),this.bindRenderbuffer=new er(this),this.bindTexture=new Cr(this),this.bindVertexBuffer=new zs(this),this.bindElementBuffer=new q(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new I(this),this.pixelStoreUnpack=new P(this),this.pixelStoreUnpackPremultiplyAlpha=new Z(this),this.pixelStoreUnpackFlipY=new Y(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=a.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=a.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=a.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),r||(this.extTextureHalfFloat=a.getExtension("OES_texture_half_float")),(r||this.extTextureHalfFloat&&a.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=r||a.getExtension("OES_standard_derivatives"),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,r){return new xs(this,a,r)}createVertexBuffer(a,r,h){return new wr(this,a,r,h)}createRenderbuffer(a,r,h){let d=this.gl,m=d.createRenderbuffer();return this.bindRenderbuffer.set(m),d.renderbufferStorage(d.RENDERBUFFER,a,r,h),this.bindRenderbuffer.set(null),m}createFramebuffer(a,r,h){return new _e(this,a,r,h)}clear({color:a,depth:r,stencil:h}){let d=this.gl,m=0;a&&(m|=d.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),r!==void 0&&(m|=d.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),h!==void 0&&(m|=d.STENCIL_BUFFER_BIT,this.clearStencil.set(h),this.stencilMask.set(255)),d.clear(m)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){ae(a.blendFunction,o.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ue extends o.Evented{constructor(a,r,h,d){if(super(),this.id=a,this.dispatcher=h,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(r,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(d),this._tileWorkers={},this._deduped=new o.DedupedRequest}load(a){this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"}));let r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,h=this.map._worldview;this._tileJSONRequest=kn(this._options,this.map._requestManager,r,h,(d,m)=>{this._tileJSONRequest=null,this._loaded=!0,d?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),h&&h.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${h}`),this.fire(new o.ErrorEvent(d))):m&&(o.extend(this,m),m.bounds&&(this.tileBounds=new sn(m.bounds,this.minzoom,this.maxzoom)),o.postTurnstileEvent(m.tiles,this.map._requestManager._customAccessToken),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))),a&&a(d)})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(a){return this._options.tiles=a,this.reload(),this}setUrl(a){return this.url=a,this._options.url=a,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return o.extend({},this._options)}loadTile(a,r){let h=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme)),d={request:this.map._requestManager.transformRequest(h,o.ResourceType.Tile),data:void 0,uid:a.uid,tileID:a.tileID,tileZoom:a.tileZoom,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:a.isSymbolTile};if(d.request.collectResourceTiming=this._collectResourceTiming,a.actor&&a.state!=="expired")a.state==="loading"?a.reloadCallback=r:a.request=a.actor.send("reloadTile",d,m.bind(this));else if(a.actor=this._tileWorkers[h]=this._tileWorkers[h]||this.dispatcher.getActor(),this.dispatcher.ready)a.request=a.actor.send("loadTile",d,m.bind(this),void 0,!0);else{let _=o.loadVectorTile.call({deduped:this._deduped},d,(y,x)=>{y||!x?m.call(this,y):(d.data={cacheControl:x.cacheControl,expires:x.expires,rawData:x.rawData.slice(0)},a.actor&&a.actor.send("loadTile",d,m.bind(this),void 0,!0))},!0);a.request={cancel:_}}function m(_,y){return delete a.request,a.aborted?r(null):_&&_.status!==404?r(_):(y&&y.resourceTiming&&(a.resourceTiming=y.resourceTiming),this.map._refreshExpiredTiles&&y&&a.setExpiryData(y),a.loadVectorData(y,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id})}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Be extends o.Evented{constructor(a,r,h,d){super(),this.id=a,this.dispatcher=h,this.setEventedParent(d),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},r),o.extend(this,o.pick(r,["url","scheme","tileSize"]))}load(a){this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=kn(this._options,this.map._requestManager,null,null,(r,h)=>{this._tileJSONRequest=null,this._loaded=!0,r?this.fire(new o.ErrorEvent(r)):h&&(o.extend(this,h),h.bounds&&(this.tileBounds=new sn(h.bounds,this.minzoom,this.maxzoom)),o.postTurnstileEvent(h.tiles),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))),a&&a(r)})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(a){return this._options.tiles=a,this.reload(),this}setUrl(a){return this.url=a,this._options.url=a,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return o.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,r){let h=o.exported.devicePixelRatio>=2,d=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme),h,this.tileSize);a.request=o.getImage(this.map._requestManager.transformRequest(d,o.ResourceType.Tile),(m,_,y,x)=>(delete a.request,a.aborted?(a.state="unloaded",r(null)):m?(a.state="errored",r(m)):_?(this.map._refreshExpiredTiles&&a.setExpiryData({cacheControl:y,expires:x}),a.setTexture(_,this.map.painter),a.state="loaded",o.cacheEntryPossiblyAdded(this.dispatcher),void r(null)):r(null)))}static loadTileData(a,r,h){a.setTexture(r,h)}static unloadTileData(a,r){a.texture&&r.saveTileTexture(a.texture)}abortTile(a,r){a.request&&(a.request.cancel(),delete a.request),r()}unloadTile(a,r){a.texture&&this.map.painter.saveTileTexture(a.texture),r()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function vt(l,a,r,h,d,m,_,y){let x=[l,r,d,a,h,m,1,1,1],A=[_,y,1],z=o.adjoint([],x),[E,k,R]=o.transformMat3(A,A,o.transpose(z,z));return o.multiply$1(x,[E,0,0,0,k,0,0,0,R],x)}class Tt extends o.Evented{constructor(a,r,h,d){super(),this.id=a,this.dispatcher=h,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(d),this.options=r,this._dirty=!1}load(a,r){this._loaded=r||!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),(h,d)=>{if(this._imageRequest=null,this._loaded=!0,h)this.fire(new o.ErrorEvent(h));else if(d){let{HTMLImageElement:m}=o.window;this.image=d instanceof m?o.exported.getImageData(d):d,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading()}})}loaded(){return this._loaded}updateImage(a){return this.image&&a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(a){this.coordinates=a,this._boundsArray=void 0;let r=a.map(o.MercatorCoordinate.fromLngLat);return this.tileID=function(h){let d=1/0,m=1/0,_=-1/0,y=-1/0;for(let E of h)d=Math.min(d,E.x),m=Math.min(m,E.y),_=Math.max(_,E.x),y=Math.max(y,E.y);let x=Math.max(_-d,y-m),A=Math.max(0,Math.floor(-Math.log(x)/Math.LN2)),z=Math.pow(2,A);return new o.CanonicalTileID(A,Math.floor((d+_)/2*z),Math.floor((m+y)/2*z))}(r),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(a){for(let x in this.tiles){let A=this.tiles[x];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture)}if(this._boundsArray)return;let r=o.tileTransform(this.tileID,this.map.transform.projection),[h,d,m,_]=this.coordinates.map(x=>{let A=r.projection.project(x[0],x[1]);return o.getTilePoint(r,A)._round()});this.perspectiveTransform=function(x,A,z,E,k,R,F,B,N,S){let O=vt(0,0,x,0,0,A,x,A),H=vt(z,E,k,R,F,B,N,S);return o.multiply$1(H,o.adjoint(O,O),H),[H[6]/H[8]*x/o.EXTENT,H[7]/H[8]*A/o.EXTENT]}(this.width,this.height,h.x,h.y,d.x,d.y,_.x,_.y,m.x,m.y);let y=this._boundsArray=new o.StructArrayLayout4i8;y.emplaceBack(h.x,h.y,0,0),y.emplaceBack(d.x,d.y,o.EXTENT,0),y.emplaceBack(_.x,_.y,0,o.EXTENT),y.emplaceBack(m.x,m.y,o.EXTENT,o.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=a.createVertexBuffer(y,o.boundsAttributes.members),this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let a=this.map.painter.context,r=a.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new o.Texture(a,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(a)}loadTile(a,r){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},r(null)):(a.state="errored",r(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}let xt={vector:Ue,raster:Be,"raster-dem":class extends Be{constructor(l,a,r,h){super(l,a,r,h),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},a),this.encoding=a.encoding||"mapbox"}loadTile(l,a){let r=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function h(d,m){d&&(l.state="errored",a(d)),m&&(l.dem=m,l.dem.onDeserialize(),l.needsHillshadePrepare=!0,l.needsDEMTextureUpload=!0,l.state="loaded",a(null))}l.request=o.getImage(this.map._requestManager.transformRequest(r,o.ResourceType.Tile),function(d,m,_,y){if(delete l.request,l.aborted)l.state="unloaded",a(null);else if(d)l.state="errored",a(d);else if(m){this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:_,expires:y});let x=o.window.ImageBitmap&&m instanceof o.window.ImageBitmap&&(Tr==null&&(Tr=o.window.OffscreenCanvas&&new o.window.OffscreenCanvas(1,1).getContext("2d")&&typeof o.window.createImageBitmap=="function"),Tr),A=1-(m.width-o.prevPowerOfTwo(m.width))/2;A<1||l.neighboringTiles||(l.neighboringTiles=this._getNeighboringTiles(l.tileID));let z=x?m:o.exported.getImageData(m,A),E={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:z,encoding:this.encoding,padding:A};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",E,h.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(l){let a=l.canonical,r=Math.pow(2,a.z),h=(a.x-1+r)%r,d=a.x===0?l.wrap-1:l.wrap,m=(a.x+1+r)%r,_=a.x+1===r?l.wrap+1:l.wrap,y={};return y[new o.OverscaledTileID(l.overscaledZ,d,a.z,h,a.y).key]={backfilled:!1},y[new o.OverscaledTileID(l.overscaledZ,_,a.z,m,a.y).key]={backfilled:!1},a.y>0&&(y[new o.OverscaledTileID(l.overscaledZ,d,a.z,h,a.y-1).key]={backfilled:!1},y[new o.OverscaledTileID(l.overscaledZ,l.wrap,a.z,a.x,a.y-1).key]={backfilled:!1},y[new o.OverscaledTileID(l.overscaledZ,_,a.z,m,a.y-1).key]={backfilled:!1}),a.y+1<r&&(y[new o.OverscaledTileID(l.overscaledZ,d,a.z,h,a.y+1).key]={backfilled:!1},y[new o.OverscaledTileID(l.overscaledZ,l.wrap,a.z,a.x,a.y+1).key]={backfilled:!1},y[new o.OverscaledTileID(l.overscaledZ,_,a.z,m,a.y+1).key]={backfilled:!1}),y}unloadTile(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded"}},geojson:class extends o.Evented{constructor(l,a,r,h){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=r.getActor(),this.setEventedParent(h),this._data=a.data,this._options=o.extend({},a),this._collectResourceTiming=a.collectResourceTiming,a.maxzoom!==void 0&&(this.maxzoom=a.maxzoom),a.type&&(this.type=a.type),a.attribution&&(this.attribution=a.attribution),this.promoteId=a.promoteId;let d=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:(a.buffer!==void 0?a.buffer:128)*d,tolerance:(a.tolerance!==void 0?a.tolerance:.375)*d,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:a.clusterMaxZoom!==void 0?a.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,a.clusterMinPoints||2),extent:o.EXTENT,radius:(a.clusterRadius!==void 0?a.clusterRadius:50)*d,log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions)}onAdd(l){this.map=l,this.setData(this._data)}setData(l){return this._data=l,this._updateWorkerData(),this}getClusterExpansionZoom(l,a){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},a),this}getClusterChildren(l,a){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},a),this}getClusterLeaves(l,a,r,h){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:a,offset:r},h),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new o.Event("dataloading",{dataType:"source"})),this._loaded=!1;let l=o.extend({},this.workerOptions),a=this._data;typeof a=="string"?(l.request=this.map._requestManager.transformRequest(o.exported.resolveURL(a),o.ResourceType.Source),l.request.collectResourceTiming=this._collectResourceTiming):l.data=JSON.stringify(a),this._pendingLoad=this.actor.send(`${this.type}.loadData`,l,(r,h)=>{if(this._loaded=!0,this._pendingLoad=null,r)this.fire(new o.ErrorEvent(r));else{let d={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&h&&h.resourceTiming&&h.resourceTiming[this.id]&&(d.resourceTiming=h.resourceTiming[this.id]),this.fire(new o.Event("data",d)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(l,a){let r=l.actor?"reloadTile":"loadTile";l.actor=this.actor,l.request=this.actor.send(r,{type:this.type,uid:l.uid,tileID:l.tileID,tileZoom:l.tileZoom,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(h,d)=>(delete l.request,l.unloadVectorData(),l.aborted?a(null):h?a(h):(l.loadVectorData(d,this.map.painter,r==="reloadTile"),a(null))),void 0,r==="loadTile")}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0}unloadTile(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return o.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Tt{constructor(l,a,r,h){super(l,a,r,h),this.roundZoom=!0,this.type="video",this.options=a}load(){this._loaded=!1;let l=this.options;this.urls=[];for(let a of l.urls)this.urls.push(this.map._requestManager.transformRequest(a,o.ResourceType.Source).url);o.getVideo(this.urls,(a,r)=>{this._loaded=!0,a?this.fire(new o.ErrorEvent(a)):r&&(this.video=r,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){let a=this.video.seekable;l<a.start(0)||l>a.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${a.start(0)} and ${a.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let l=this.map.painter.context,a=l.gl;this.texture?this.video.paused||(this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(l,this.video,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(l)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Tt,canvas:class extends Tt{constructor(l,a,r,h){super(l,a,r,h),a.coordinates?Array.isArray(a.coordinates)&&a.coordinates.length===4&&!a.coordinates.some(d=>!Array.isArray(d)||d.length!==2||d.some(m=>typeof m!="number"))||this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${l}`,null,'missing required property "coordinates"'))),a.animate&&typeof a.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),a.canvas?typeof a.canvas=="string"||a.canvas instanceof o.window.HTMLCanvasElement||this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${l}`,null,'missing required property "canvas"'))),this.options=a,this.animate=a.animate===void 0||a.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let a=this.map.painter.context;this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(a,this.canvas,a.gl.RGBA,{premultiply:!0}),this._prepareData(a)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}},custom:class extends o.Evented{constructor(l,a,r,h){super(),this.id=l,this.type="custom",this._dataType="raster",this._dispatcher=r,this._implementation=a,this.setEventedParent(h),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new o.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new o.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new sn(this._implementation.bounds,this.minzoom,this.maxzoom)),a.update=this._update.bind(this),a.clearTiles=this._clearTiles.bind(this),a.coveringTiles=this._coveringTiles.bind(this),o.extend(this,o.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return o.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(l){this._map=l,this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(l),this.load()}onRemove(l){this._implementation.onRemove&&this._implementation.onRemove(l)}hasTile(l){if(this._implementation.hasTile){let{x:a,y:r,z:h}=l.canonical;return this._implementation.hasTile({x:a,y:r,z:h})}return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,a){let{x:r,y:h,z:d}=l.tileID.canonical,m=new o.window.AbortController;l.request=Promise.resolve(this._implementation.loadTile({x:r,y:h,z:d},{signal:m.signal})).then(function(_){return delete l.request,l.aborted?(l.state="unloaded",a(null)):_===void 0?(l.state="errored",a(null)):_===null?(this.loadTileData(l,{width:this.tileSize,height:this.tileSize,data:null}),l.state="loaded",a(null)):function(y){return y instanceof o.window.ImageData||y instanceof o.window.HTMLCanvasElement||y instanceof o.window.ImageBitmap||y instanceof o.window.HTMLImageElement}(_)?(this.loadTileData(l,_),l.state="loaded",void a(null)):(l.state="errored",a(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(_=>{_.code!==20&&(l.state="errored",a(_))}),l.request.cancel=()=>m.abort()}loadTileData(l,a){Be.loadTileData(l,a,this._map.painter)}unloadTileData(l){Be.unloadTileData(l,this._map.painter)}unloadTile(l,a){if(this.unloadTileData(l),this._implementation.unloadTile){let{x:r,y:h,z:d}=l.tileID.canonical;this._implementation.unloadTile({x:r,y:h,z:d})}a()}abortTile(l,a){l.request&&l.request.cancel&&(l.request.cancel(),delete l.request),a()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(l=>({x:l.canonical.x,y:l.canonical.y,z:l.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ct=function(l,a,r,h){let d=new xt[a.type](l,a,r,h);if(d.id!==l)throw new Error(`Expected Source id to be ${l} instead of ${d.id}`);return o.bindAll(["load","abort","unload","serialize","prepare"],d),d};function Rt(l,a){let r=o.identity([]);return o.scale(r,r,[.5*l.width,.5*-l.height,1]),o.translate(r,r,[1,-1,0]),o.multiply(r,r,l.calculateProjMatrix(a.toUnwrapped())),Float32Array.from(r)}function fi(l,a,r,h,d,m,_,y=!1){let x=l.tilesIn(h,_,y);x.sort(aa);let A=[];for(let E of x)A.push({wrappedTileID:E.tile.tileID.wrapped().key,queryResults:E.tile.queryRenderedFeatures(a,r,l._state,E,d,m,Rt(l.transform,E.tile.tileID),y)});let z=function(E){let k={},R={};for(let F of E){let B=F.queryResults,N=F.wrappedTileID,S=R[N]=R[N]||{};for(let O in B){let H=B[O],G=S[O]=S[O]||{},J=k[O]=k[O]||[];for(let ee of H)G[ee.featureIndex]||(G[ee.featureIndex]=!0,J.push(ee))}}return k}(A);for(let E in z)z[E].forEach(k=>{let R=k.feature,F=R.layer;F&&F.type!=="background"&&F.type!=="sky"&&(R.source=F.source,F["source-layer"]&&(R.sourceLayer=F["source-layer"]),R.state=R.id!==void 0?l.getFeatureState(F["source-layer"],R.id):{})});return z}function zi(l,a){let r=l.getRenderableIds().map(m=>l.getTileByID(m)),h=[],d={};for(let m=0;m<r.length;m++){let _=r[m],y=_.tileID.canonical.key;d[y]||(d[y]=!0,_.querySourceFeatures(h,a))}return h}function aa(l,a){let r=l.tileID,h=a.tileID;return r.overscaledZ-h.overscaledZ||r.canonical.y-h.canonical.y||r.wrap-h.wrap||r.canonical.x-h.canonical.x}function ki(){return $r.workerClass!=null?new $r.workerClass:new o.window.Worker($r.workerUrl)}let Za="mapboxgl_preloaded_worker_pool";class Vi{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Vi.workerCount;)this.workers.push(new ki);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(r=>{r.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Za]}numActive(){return Object.keys(this.active).length}}let ca;function Er(){return ca||(ca=new Vi),ca}function Mh(l,a){let r={};for(let h in l)h!=="ref"&&(r[h]=l[h]);return o.refProperties.forEach(h=>{h in a&&(r[h]=a[h])}),r}function S0(l){l=l.slice();let a=Object.create(null);for(let r=0;r<l.length;r++)a[l[r].id]=l[r];for(let r=0;r<l.length;r++)"ref"in l[r]&&(l[r]=Mh(l[r],a[l[r].ref]));return l}Vi.workerCount=2;let Gt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function $l(l,a,r){r.push({command:Gt.addSource,args:[l,a[l]]})}function wo(l,a,r){a.push({command:Gt.removeSource,args:[l]}),r[l]=!0}function ql(l,a,r,h){wo(l,r,h),$l(l,a,r)}function As(l,a,r){let h;for(h in l[r])if(l[r].hasOwnProperty(h)&&h!=="data"&&!ae(l[r][h],a[r][h]))return!1;for(h in a[r])if(a[r].hasOwnProperty(h)&&h!=="data"&&!ae(l[r][h],a[r][h]))return!1;return!0}function $a(l,a,r,h,d,m){let _;for(_ in a=a||{},l=l||{})l.hasOwnProperty(_)&&(ae(l[_],a[_])||r.push({command:m,args:[h,_,a[_],d]}));for(_ in a)a.hasOwnProperty(_)&&!l.hasOwnProperty(_)&&(ae(l[_],a[_])||r.push({command:m,args:[h,_,a[_],d]}))}function cn(l){return l.id}function Wl(l,a){return l[a.id]=a,l}class Xl{constructor(a,r){this.reset(a,r)}reset(a,r){this.points=a||[],this._distances=[0];for(let h=1;h<this.points.length;h++)this._distances[h]=this._distances[h-1]+this.points[h].dist(this.points[h-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(r||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.clamp(a,0,1);let r=1,h=this._distances[r],d=a*this.paddedLength+this.padding;for(;h<d&&r<this._distances.length;)h=this._distances[++r];let m=r-1,_=this._distances[m],y=h-_,x=y>0?(d-_)/y:0;return this.points[m].mult(1-x).add(this.points[r].mult(x))}}class tr{constructor(a,r,h){let d=this.boxCells=[],m=this.circleCells=[];this.xCellCount=Math.ceil(a/h),this.yCellCount=Math.ceil(r/h);for(let _=0;_<this.xCellCount*this.yCellCount;_++)d.push([]),m.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=r,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/r,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,r,h,d,m){this._forEachCell(r,h,d,m,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(r),this.bboxes.push(h),this.bboxes.push(d),this.bboxes.push(m)}insertCircle(a,r,h,d){this._forEachCell(r-d,h-d,r+d,h+d,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(r),this.circles.push(h),this.circles.push(d)}_insertBoxCell(a,r,h,d,m,_){this.boxCells[m].push(_)}_insertCircleCell(a,r,h,d,m,_){this.circleCells[m].push(_)}_query(a,r,h,d,m,_){if(h<0||a>this.width||d<0||r>this.height)return!m&&[];let y=[];if(a<=0&&r<=0&&this.width<=h&&this.height<=d){if(m)return!0;for(let x=0;x<this.boxKeys.length;x++)y.push({key:this.boxKeys[x],x1:this.bboxes[4*x],y1:this.bboxes[4*x+1],x2:this.bboxes[4*x+2],y2:this.bboxes[4*x+3]});for(let x=0;x<this.circleKeys.length;x++){let A=this.circles[3*x],z=this.circles[3*x+1],E=this.circles[3*x+2];y.push({key:this.circleKeys[x],x1:A-E,y1:z-E,x2:A+E,y2:z+E})}return _?y.filter(_):y}return this._forEachCell(a,r,h,d,this._queryCell,y,{hitTest:m,seenUids:{box:{},circle:{}}},_),m?y.length>0:y}_queryCircle(a,r,h,d,m){let _=a-h,y=a+h,x=r-h,A=r+h;if(y<0||_>this.width||A<0||x>this.height)return!d&&[];let z=[];return this._forEachCell(_,x,y,A,this._queryCellCircle,z,{hitTest:d,circle:{x:a,y:r,radius:h},seenUids:{box:{},circle:{}}},m),d?z.length>0:z}query(a,r,h,d,m){return this._query(a,r,h,d,!1,m)}hitTest(a,r,h,d,m){return this._query(a,r,h,d,!0,m)}hitTestCircle(a,r,h,d){return this._queryCircle(a,r,h,!0,d)}_queryCell(a,r,h,d,m,_,y,x){let A=y.seenUids,z=this.boxCells[m];if(z!==null){let k=this.bboxes;for(let R of z)if(!A.box[R]){A.box[R]=!0;let F=4*R;if(a<=k[F+2]&&r<=k[F+3]&&h>=k[F+0]&&d>=k[F+1]&&(!x||x(this.boxKeys[R]))){if(y.hitTest)return _.push(!0),!0;_.push({key:this.boxKeys[R],x1:k[F],y1:k[F+1],x2:k[F+2],y2:k[F+3]})}}}let E=this.circleCells[m];if(E!==null){let k=this.circles;for(let R of E)if(!A.circle[R]){A.circle[R]=!0;let F=3*R;if(this._circleAndRectCollide(k[F],k[F+1],k[F+2],a,r,h,d)&&(!x||x(this.circleKeys[R]))){if(y.hitTest)return _.push(!0),!0;{let B=k[F],N=k[F+1],S=k[F+2];_.push({key:this.circleKeys[R],x1:B-S,y1:N-S,x2:B+S,y2:N+S})}}}}}_queryCellCircle(a,r,h,d,m,_,y,x){let A=y.circle,z=y.seenUids,E=this.boxCells[m];if(E!==null){let R=this.bboxes;for(let F of E)if(!z.box[F]){z.box[F]=!0;let B=4*F;if(this._circleAndRectCollide(A.x,A.y,A.radius,R[B+0],R[B+1],R[B+2],R[B+3])&&(!x||x(this.boxKeys[F])))return _.push(!0),!0}}let k=this.circleCells[m];if(k!==null){let R=this.circles;for(let F of k)if(!z.circle[F]){z.circle[F]=!0;let B=3*F;if(this._circlesCollide(R[B],R[B+1],R[B+2],A.x,A.y,A.radius)&&(!x||x(this.circleKeys[F])))return _.push(!0),!0}}}_forEachCell(a,r,h,d,m,_,y,x){let A=this._convertToXCellCoord(a),z=this._convertToYCellCoord(r),E=this._convertToXCellCoord(h),k=this._convertToYCellCoord(d);for(let R=A;R<=E;R++)for(let F=z;F<=k;F++)if(m.call(this,a,r,h,d,this.xCellCount*F+R,_,y,x))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,r,h,d,m,_){let y=d-a,x=m-r,A=h+_;return A*A>y*y+x*x}_circleAndRectCollide(a,r,h,d,m,_,y){let x=(_-d)/2,A=Math.abs(a-(d+x));if(A>x+h)return!1;let z=(y-m)/2,E=Math.abs(r-(m+z));if(E>z+h)return!1;if(A<=x||E<=z)return!0;let k=A-x,R=E-z;return k*k+R*R<=h*h}}let hn={unknown:0,flipRequired:1,flipNotRequired:2},Mo=Math.tan(85*Math.PI/180);function ve(l,a,r,h,d,m,_){let y=o.create();if(r)if(m.name==="globe"){let x=o.calculateGlobeLabelMatrix(d,a);o.multiply(y,y,x)}else{let x=Se([],_);y[0]=x[0],y[1]=x[1],y[4]=x[2],y[5]=x[3],h||o.rotateZ(y,y,d.angle)}else o.multiply(y,d.labelPlaneMatrix,l);return y}function un(l,a,r,h,d,m,_){let y=ve(l,a,r,h,d,m,_);return m.name==="globe"&&r||(y[2]=y[6]=y[10]=y[14]=0),y}function Ai(l,a,r,h,d,m,_){if(r){if(m.name==="globe"){let y=ve(l,a,r,h,d,m,_);return o.invert(y,y),o.multiply(y,l,y),y}{let y=o.clone(l),x=o.identity([]);return x[0]=_[0],x[1]=_[1],x[4]=_[2],x[5]=_[3],o.multiply(y,y,x),h||o.rotateZ(y,y,-d.angle),y}}return d.glCoordMatrix}function Ni(l,a,r,h){let d=[l,a,r,1];r?o.transformMat4$1(d,d,h):Lt(d,d,h);let m=d[3];return d[0]/=m,d[1]/=m,d[2]/=m,d}function L0(l,a){return Math.min(.5+l/a*.5,1.5)}function qa(l,a){let r=l[0]/l[3],h=l[1]/l[3];return r>=-a[0]&&r<=a[0]&&h>=-a[1]&&h<=a[1]}function Kl(l,a,r,h,d,m,_,y,x,A){let z=r.transform,E=h?l.textSizeData:l.iconSizeData,k=o.evaluateSizeForZoom(E,r.transform.zoom),R=z.projection.name==="globe",F=[256/r.width*2+1,256/r.height*2+1],B=h?l.text.dynamicLayoutVertexArray:l.icon.dynamicLayoutVertexArray;B.clear();let N=null;R&&(N=h?l.text.globeExtVertexArray:l.icon.globeExtVertexArray);let S=l.lineVertexArray,O=h?l.text.placedSymbolArray:l.icon.placedSymbolArray,H=r.transform.width/r.transform.height,G,J=!1;for(let ee=0;ee<O.length;ee++){let Q=O.get(ee),{numGlyphs:se,writingMode:oe}=Q;if(oe!==o.WritingMode.vertical||J||G===o.WritingMode.horizontal||(J=!0),G=oe,(Q.hidden||oe===o.WritingMode.vertical)&&!J){Va(se,B);continue}J=!1;let pe=new o.Point(Q.tileAnchorX,Q.tileAnchorY),{x:Pe,y:he,z:we}=z.projection.projectTilePoint(pe.x,pe.y,A.canonical);if(x){let[dt,Ke,st]=x(pe);Pe+=dt,he+=Ke,we+=st}let fe=[Pe,he,we,1];if(o.transformMat4$1(fe,fe,a),!qa(fe,F)){Va(se,B);continue}let Ie=L0(r.transform.cameraToCenterDistance,fe[3]),de=o.evaluateSizeForFeature(E,k,Q),be=_?de/Ie:de*Ie,De=Ni(Pe,he,we,d);if(De[3]<=0){Va(se,B);continue}let Te={},Re=_?null:x,nt=$e(Q,be,!1,y,a,d,m,l.glyphOffsetArray,S,B,N,De,pe,Te,H,Re,z.projection,A,_);J=nt.useVertical,Re&&nt.needsFlipping&&(Te={}),(nt.notEnoughRoom||J||nt.needsFlipping&&$e(Q,be,!0,y,a,d,m,l.glyphOffsetArray,S,B,N,De,pe,Te,H,Re,z.projection,A,_).notEnoughRoom)&&Va(se,B)}h?(l.text.dynamicLayoutVertexBuffer.updateData(B),N&&l.text.globeExtVertexBuffer.updateData(N)):(l.icon.dynamicLayoutVertexBuffer.updateData(B),N&&l.icon.globeExtVertexBuffer.updateData(N))}function I0(l,a,r,h,d,m,_,y,x,A,z,E,k,R,F,B){let{lineStartIndex:N,glyphStartIndex:S,segment:O}=y,H=S+y.numGlyphs,G=N+y.lineLength,J=a.getoffsetX(S),ee=a.getoffsetX(H-1),Q=ba(l*J,r,h,d,m,_,O,N,G,x,A,z,E,k,!0,R,F,B);if(!Q)return null;let se=ba(l*ee,r,h,d,m,_,O,N,G,x,A,z,E,k,!0,R,F,B);return se?{first:Q,last:se}:null}function Sr(l,a,r,h){return l===o.WritingMode.horizontal&&Math.abs(h)>Math.abs(r)?{useVertical:!0}:l===o.WritingMode.vertical?h>0?{needsFlipping:!0}:null:a!==hn.unknown&&function(d,m){return d===0||Math.abs(m/d)>Mo}(r,h)?a===hn.flipRequired?{needsFlipping:!0}:null:r<0?{needsFlipping:!0}:null}function $e(l,a,r,h,d,m,_,y,x,A,z,E,k,R,F,B,N,S,O){let H=a/24,G=l.lineOffsetX*H,J=l.lineOffsetY*H,{lineStartIndex:ee,glyphStartIndex:Q,numGlyphs:se,segment:oe,writingMode:pe,flipState:Pe}=l,he=ee+l.lineLength,we=fe=>{if(z){let[De,Te,Re]=fe.up,nt=A.length;o.updateGlobeVertexNormal(z,nt+0,De,Te,Re),o.updateGlobeVertexNormal(z,nt+1,De,Te,Re),o.updateGlobeVertexNormal(z,nt+2,De,Te,Re),o.updateGlobeVertexNormal(z,nt+3,De,Te,Re)}let[Ie,de,be]=fe.point;o.addDynamicAttributes(A,Ie,de,be,fe.angle)};if(se>1){let fe=I0(H,y,G,J,r,E,k,l,x,m,R,B,!1,N,S,O);if(!fe)return{notEnoughRoom:!0};if(h&&!r){let[Ie,de,be]=fe.first.point,[De,Te,Re]=fe.last.point;[Ie,de]=Ni(Ie,de,be,_),[De,Te]=Ni(De,Te,Re,_);let nt=Sr(pe,Pe,(De-Ie)*F,Te-de);if(l.flipState=nt&&nt.needsFlipping?hn.flipRequired:hn.flipNotRequired,nt)return nt}we(fe.first);for(let Ie=Q+1;Ie<Q+se-1;Ie++){let de=ba(H*y.getoffsetX(Ie),G,J,r,E,k,oe,ee,he,x,m,R,B,!1,!1,N,S,O);if(!de)return A.length-=4*(Ie-Q),{notEnoughRoom:!0};we(de)}we(fe.last)}else{if(h&&!r){let Ie=Ni(k.x,k.y,0,d),de=ee+oe+1,be=new o.Point(x.getx(de),x.gety(de)),De=Ni(be.x,be.y,0,d),Te=De[3]>0?De:St(k,be,Ie,1,d,void 0,N,S.canonical),Re=Sr(pe,Pe,(Te[0]-Ie[0])*F,Te[1]-Ie[1]);if(l.flipState=Re&&Re.needsFlipping?hn.flipRequired:hn.flipNotRequired,Re)return Re}let fe=ba(H*y.getoffsetX(Q),G,J,r,E,k,oe,ee,he,x,m,R,B,!1,!1,N,S,O);if(!fe)return{notEnoughRoom:!0};we(fe)}return{}}function kt(l,a,r,h,d){let{x:m,y:_,z:y}=h.projectTilePoint(l.x,l.y,a);if(!d)return Ni(m,_,y,r);let[x,A,z]=d(l);return Ni(m+x,_+A,y+z,r)}function St(l,a,r,h,d,m,_,y){let x=kt(l.sub(a)._unit()._add(l),y,d,_,m);return o.sub(x,r,x),o.normalize(x,x),o.scaleAndAdd(x,r,x,h)}function ba(l,a,r,h,d,m,_,y,x,A,z,E,k,R,F,B,N,S){let O=h?l-a:l+a,H=O>0?1:-1,G=0;h&&(H*=-1,G=Math.PI),H<0&&(G+=Math.PI);let J=y+_+(H>0?0:1)|0,ee=d,Q=d,se=0,oe=0,pe=Math.abs(O),Pe=[],he=[],we=m,fe=we,Ie=()=>St(fe,we,Q,pe-se+1,z,k,B,N.canonical);for(;se+oe<=pe;){if(J+=H,J<y||J>=x)return null;if(Q=ee,fe=we,Pe.push(Q),R&&he.push(fe),we=new o.Point(A.getx(J),A.gety(J)),ee=E[J],!ee){let st=kt(we,N.canonical,z,B,k);ee=st[3]>0?E[J]=st:Ie()}se+=oe,oe=o.distance(Q,ee)}F&&k&&(E[J]&&(ee=Ie(),oe=o.distance(Q,ee)),E[J]=ee);let de=(pe-se)/oe,be=we.sub(fe)._mult(de)._add(fe),De=o.sub([],ee,Q),Te=o.scaleAndAdd([],Q,De,de),Re=[0,0,1],nt=De[0],dt=De[1];if(S&&(Re=B.upVector(N.canonical,be.x,be.y),Re[0]!==0||Re[1]!==0||Re[2]!==1)){let st=[Re[2],0,-Re[0]],It=o.cross([],Re,st);o.normalize(st,st),o.normalize(It,It),nt=o.dot(De,st),dt=o.dot(De,It)}if(r){let st=o.cross([],Re,De);o.normalize(st,st),o.scaleAndAdd(Te,Te,st,r*H)}let Ke=G+Math.atan2(dt,nt);return Pe.push(Te),R&&he.push(be),{point:Te,angle:Ke,path:Pe,tilePath:he,up:Re}}function Va(l,a){let r=a.length,h=r+4*l;a.resize(h),a.float32.fill(-1/0,4*r,4*h)}function Lt(l,a,r){let h=a[0],d=a[1];return l[0]=r[0]*h+r[4]*d+r[12],l[1]=r[1]*h+r[5]*d+r[13],l[3]=r[3]*h+r[7]*d+r[15],l}let wa=100;class zo{constructor(a,r,h=new tr(a.width+200,a.height+200,25),d=new tr(a.width+200,a.height+200,25)){this.transform=a,this.grid=h,this.ignoredGrid=d,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+wa,this.screenBottomBoundary=a.height+wa,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.fogState=r}placeCollisionBox(a,r,h,d,m,_,y,x){let A=h.projectedAnchorX,z=h.projectedAnchorY,E=h.projectedAnchorZ,k=h.elevation,R=h.tileID,F=a.getProjection();if(k&&R){let[ee,Q,se]=F.upVector(R.canonical,h.tileAnchorX,h.tileAnchorY),oe=F.upVectorScale(R.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;A+=ee*k*oe,z+=Q*k*oe,E+=se*k*oe}let B=this.projectAndGetPerspectiveRatio(y,A,z,E,h.tileID,F.name==="globe"||!!k||this.transform.pitch>0,F),N=_*B.perspectiveRatio,S=(h.x1*r+d.x-h.padding)*N+B.point.x,O=(h.y1*r+d.y-h.padding)*N+B.point.y,H=(h.x2*r+d.x+h.padding)*N+B.point.x,G=(h.y2*r+d.y+h.padding)*N+B.point.y,J=B.perspectiveRatio<=.55||B.occluded;return!this.isInsideGrid(S,O,H,G)||!m&&this.grid.hitTest(S,O,H,G,x)||J?{box:[],offscreen:!1,occluded:B.occluded}:{box:[S,O,H,G],offscreen:this.isOffscreen(S,O,H,G),occluded:!1}}placeCollisionCircles(a,r,h,d,m,_,y,x,A,z,E,k,R,F,B){let N=[],S=this.transform.elevation,O=a.getProjection(),H=S?S.getAtTileOffsetFunc(B,this.transform.center.lat,this.transform.worldSize,O):null,G=new o.Point(h.tileAnchorX,h.tileAnchorY),{x:J,y:ee,z:Q}=O.projectTilePoint(G.x,G.y,B.canonical);if(H){let[be,De,Te]=H(G);J+=be,ee+=De,Q+=Te}let se=O.name==="globe",oe=this.projectAndGetPerspectiveRatio(y,J,ee,Q,B,se||!!S||this.transform.pitch>0,O),{perspectiveRatio:pe}=oe,Pe=(E?_/pe:_*pe)/o.ONE_EM,he=Ni(J,ee,Q,x),we=oe.signedDistanceFromCamera>0?I0(Pe,m,h.lineOffsetX*Pe,h.lineOffsetY*Pe,!1,he,G,h,d,x,{},S&&!E?H:null,E&&!!S,O,B,E):null,fe=!1,Ie=!1,de=!0;if(we&&!oe.occluded){let be=.5*R*pe+F,De=new o.Point(-100,-100),Te=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),Re=new Xl,{first:nt,last:dt}=we,Ke=nt.path.length,st=[];for(let tt=Ke-1;tt>=1;tt--)st.push(nt.path[tt]);for(let tt=1;tt<dt.path.length;tt++)st.push(dt.path[tt]);let It=2.5*be;A&&(st=st.map(([tt,qt,Wt],Xt)=>(H&&!se&&(Wt=H(Xt<Ke-1?nt.tilePath[Ke-1-Xt]:dt.tilePath[Xt-Ke+2])[2]),Ni(tt,qt,Wt,A))),st.some(tt=>tt[3]<=0)&&(st=[]));let Et=[];if(st.length>0){let tt=1/0,qt=-1/0,Wt=1/0,Xt=-1/0;for(let Kt of st)tt=Math.min(tt,Kt[0]),Wt=Math.min(Wt,Kt[1]),qt=Math.max(qt,Kt[0]),Xt=Math.max(Xt,Kt[1]);qt>=De.x&&tt<=Te.x&&Xt>=De.y&&Wt<=Te.y&&(Et=[st.map(Kt=>new o.Point(Kt[0],Kt[1]))],(tt<De.x||qt>Te.x||Wt<De.y||Xt>Te.y)&&(Et=o.clipLine(Et,De.x,De.y,Te.x,Te.y)))}for(let tt of Et){Re.reset(tt,.25*be);let qt=0;qt=Re.length<=.5*be?1:Math.ceil(Re.paddedLength/It)+1;for(let Wt=0;Wt<qt;Wt++){let Xt=Wt/Math.max(qt-1,1),Kt=Re.lerp(Xt),ra=Kt.x+wa,ji=Kt.y+wa;N.push(ra,ji,be,0);let Ia=ra-be,Ya=ji-be,pi=ra+be,Yt=ji+be;if(de=de&&this.isOffscreen(Ia,Ya,pi,Yt),Ie=Ie||this.isInsideGrid(Ia,Ya,pi,Yt),!r&&this.grid.hitTestCircle(ra,ji,be,k)&&(fe=!0,!z))return{circles:[],offscreen:!1,collisionDetected:fe,occluded:!1}}}}return{circles:!z&&fe||!Ie?[]:N,offscreen:de,collisionDetected:fe,occluded:oe.occluded}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let r=[],h=1/0,d=1/0,m=-1/0,_=-1/0;for(let z of a){let E=new o.Point(z.x+wa,z.y+wa);h=Math.min(h,E.x),d=Math.min(d,E.y),m=Math.max(m,E.x),_=Math.max(_,E.y),r.push(E)}let y=this.grid.query(h,d,m,_).concat(this.ignoredGrid.query(h,d,m,_)),x={},A={};for(let z of y){let E=z.key;if(x[E.bucketInstanceId]===void 0&&(x[E.bucketInstanceId]={}),x[E.bucketInstanceId][E.featureIndex])continue;let k=[new o.Point(z.x1,z.y1),new o.Point(z.x2,z.y1),new o.Point(z.x2,z.y2),new o.Point(z.x1,z.y2)];o.polygonIntersectsPolygon(r,k)&&(x[E.bucketInstanceId][E.featureIndex]=!0,A[E.bucketInstanceId]===void 0&&(A[E.bucketInstanceId]=[]),A[E.bucketInstanceId].push(E.featureIndex))}return A}insertCollisionBox(a,r,h,d,m){(r?this.ignoredGrid:this.grid).insert({bucketInstanceId:h,featureIndex:d,collisionGroupID:m},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,r,h,d,m){let _=r?this.ignoredGrid:this.grid,y={bucketInstanceId:h,featureIndex:d,collisionGroupID:m};for(let x=0;x<a.length;x+=4)_.insertCircle(y,a[x],a[x+1],a[x+2])}projectAndGetPerspectiveRatio(a,r,h,d,m,_,y){let x=[r,h,d,1],A=!1;d||this.transform.pitch>0?(o.transformMat4$1(x,x,a),this.fogState&&m&&y.name!=="globe"&&(A=function(k,R,F,B,N,S){let O=S.calculateFogTileMatrix(N),H=[R,F,B];return o.transformMat4(H,H,O),go(k,H,S.pitch,S._fov)}(this.fogState,r,h,d,m.toUnwrapped(),this.transform)>.9)):Lt(x,x,a);let z=x[3];return{point:new o.Point((x[0]/z+1)/2*this.transform.width+wa,(-x[1]/z+1)/2*this.transform.height+wa),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(y)/z*.5,1.5),signedDistanceFromCamera:z,occluded:_&&x[2]>z||A}}isOffscreen(a,r,h,d){return h<wa||a>=this.screenRightBoundary||d<wa||r>this.screenBottomBoundary}isInsideGrid(a,r,h,d){return h>=0&&a<this.gridRightBoundary&&d>=0&&r<this.gridBottomBoundary}getViewportMatrix(){let a=o.identity([]);return o.translate(a,a,[-100,-100,0]),a}}function ir(l,a,r){let h=a.createTileMatrix(l,l.worldSize,r.toUnwrapped());return o.multiply(new Float32Array(16),l.projMatrix,h)}function Ca(l,a,r){if(a.projection.name===r.projection.name)return l.projMatrix;let h=r.clone();return h.setProjection(a.projection),ir(h,a.getProjection(),l)}function di(l,a,r){return a.name===r.projection.name?l.projMatrix:ir(r,a,l)}class P0{constructor(a,r,h,d){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?r:-r))):d&&h?1:0,this.placed=h}isHidden(){return this.opacity===0&&!this.placed}}class dn{constructor(a,r,h,d,m,_=!1){this.text=new P0(a?a.text:null,r,h,m),this.icon=new P0(a?a.icon:null,r,d,m),this.clipped=_}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ao{constructor(a,r,h,d=!1){this.text=a,this.icon=r,this.skipFade=h,this.clipped=d}}class To{constructor(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]}}class Yl{constructor(a,r,h,d,m){this.bucketInstanceId=a,this.featureIndex=r,this.sourceLayerIndex=h,this.bucketIndex=d,this.tileID=m}}class k0{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){let r=++this.maxGroupID;this.collisionGroups[a]={ID:r,predicate:h=>h.collisionGroupID===r}}return this.collisionGroups[a]}}function Co(l,a,r,h,d){let{horizontalAlign:m,verticalAlign:_}=o.getAnchorAlignment(l),y=-(m-.5)*a,x=-(_-.5)*r,A=o.evaluateVariableOffset(l,h);return new o.Point(y+A[0]*d,x+A[1]*d)}function Eo(l,a,r,h,d){let m=new o.Point(l,a);return r&&m._rotate(h?d:-d),m}class Ts{constructor(a,r,h,d,m){this.transform=a.clone(),this.projection=a.projection.name,this.collisionIndex=new zo(this.transform,m),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=r,this.retainedQueryData={},this.collisionGroups=new k0(h),this.collisionCircleArrays={},this.prevPlacement=d,d&&(d.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,r,h,d){let m=h.getBucket(r),_=h.latestFeatureIndex;if(!m||!_||r.id!==m.layerIds[0])return;let y=m.layers[0].layout,x=h.collisionBoxArray,A=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),z=h.tileSize/o.EXTENT,E=h.tileID.toUnwrapped();this.transform.setProjection(m.projection);let k=(R=h.tileID,F=m.getProjection(),B=this.transform,F.name===this.projection?B.calculateProjMatrix(R.toUnwrapped()):ir(B,F,R));var R,F,B;let N=y.get("text-pitch-alignment")==="map",S=y.get("text-rotation-alignment")==="map";r.compileFilter();let O=r.dynamicFilter(),H=r.dynamicFilterNeedsFeature(),G=this.transform.calculatePixelsToTileUnitsMatrix(h),J=un(k,h.tileID.canonical,N,S,this.transform,m.getProjection(),G),ee=null;if(N){let oe=Ai(k,h.tileID.canonical,N,S,this.transform,m.getProjection(),G);ee=o.multiply([],this.transform.labelPlaneMatrix,oe)}let Q=null;O&&h.latestFeatureIndex&&(Q={unwrappedTileID:E,dynamicFilter:O,dynamicFilterNeedsFeature:H,featureIndex:h.latestFeatureIndex}),this.retainedQueryData[m.bucketInstanceId]=new Yl(m.bucketInstanceId,_,m.sourceLayerIndex,m.index,h.tileID);let se={bucket:m,layout:y,posMatrix:k,textLabelPlaneMatrix:J,labelToScreenMatrix:ee,clippingData:Q,scale:A,textPixelRatio:z,holdingForFade:h.holdingForFade(),collisionBoxArray:x,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(m.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:o.evaluateSizeForZoom(m.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(m.sourceID)};if(d)for(let oe of m.sortKeyRanges){let{sortKey:pe,symbolInstanceStart:Pe,symbolInstanceEnd:he}=oe;a.push({sortKey:pe,symbolInstanceStart:Pe,symbolInstanceEnd:he,parameters:se})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:m.symbolInstances.length,parameters:se})}attemptAnchorPlacement(a,r,h,d,m,_,y,x,A,z,E,k,R,F,B,N,S,O){let{textOffset0:H,textOffset1:G,crossTileID:J}=k,ee=[H,G],Q=Co(a,h,d,ee,m),se=this.collisionIndex.placeCollisionBox(F,m,r,Eo(Q.x,Q.y,_,y,this.transform.angle),E,x,A,z.predicate);if(N){let oe=F.getSymbolInstanceIconSize(O,this.transform.zoom,k.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(F,oe,N,Eo(Q.x,Q.y,_,y,this.transform.angle),E,x,A,z.predicate).box.length===0)return}if(se.box.length>0){let oe;return this.prevPlacement&&this.prevPlacement.variableOffsets[J]&&this.prevPlacement.placements[J]&&this.prevPlacement.placements[J].text&&(oe=this.prevPlacement.variableOffsets[J].anchor),this.variableOffsets[J]={textOffset:ee,width:h,height:d,anchor:a,textScale:m,prevAnchor:oe},this.markUsedJustification(F,a,k,B),F.allowVerticalPlacement&&(this.markUsedOrientation(F,B,k),this.placedOrientations[J]=B),{shift:Q,placedGlyphBoxes:se}}}placeLayerBucketPart(a,r,h,d){let{bucket:m,layout:_,posMatrix:y,textLabelPlaneMatrix:x,labelToScreenMatrix:A,clippingData:z,textPixelRatio:E,holdingForFade:k,collisionBoxArray:R,partiallyEvaluatedTextSize:F,partiallyEvaluatedIconSize:B,collisionGroup:N}=a.parameters,S=_.get("text-optional"),O=_.get("icon-optional"),H=_.get("text-allow-overlap"),G=_.get("icon-allow-overlap"),J=_.get("text-rotation-alignment")==="map",ee=_.get("text-pitch-alignment")==="map",Q=_.get("icon-text-fit")!=="none",se=_.get("symbol-z-order")==="viewport-y";this.transform.setProjection(m.projection);let oe=H&&(G||!m.hasIconData()||O),pe=G&&(H||!m.hasTextData()||S);!m.collisionArrays&&R&&m.deserializeCollisionBoxes(R),h&&d&&m.updateCollisionDebugBuffers(this.transform.zoom,R);let Pe=(he,we,fe)=>{let{crossTileID:Ie,numVerticalGlyphVertices:de}=he;if(z){let pi={zoom:this.transform.zoom,pitch:this.transform.pitch},Yt=null;if(z.dynamicFilterNeedsFeature){let Ut=this.retainedQueryData[m.bucketInstanceId];Yt=z.featureIndex.loadFeature({featureIndex:he.featureIndex,bucketIndex:Ut.bucketIndex,sourceLayerIndex:Ut.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,z.dynamicFilter)(pi,Yt,this.retainedQueryData[m.bucketInstanceId].tileID.canonical,new o.Point(he.tileAnchorX,he.tileAnchorY),this.transform.calculateDistanceTileData(z.unwrappedTileID)))return this.placements[Ie]=new Ao(!1,!1,!1,!0),void r.add(Ie)}if(r.has(Ie))return;if(k)return void(this.placements[Ie]=new Ao(!1,!1,!1));let be=!1,De=!1,Te=!0,Re=!1,nt=!1,dt=null,Ke={box:null,offscreen:null,occluded:null},st={box:null,offscreen:null,occluded:null},It=null,Et=null,tt=null,qt=0,Wt=0,Xt=0;fe.textFeatureIndex?qt=fe.textFeatureIndex:he.useRuntimeCollisionCircles&&(qt=he.featureIndex),fe.verticalTextFeatureIndex&&(Wt=fe.verticalTextFeatureIndex);let Kt=pi=>{pi.tileID=this.retainedQueryData[m.bucketInstanceId].tileID;let Yt=this.transform.elevation;(Yt||pi.elevation)&&(pi.elevation=Yt?Yt.getAtTileOffset(pi.tileID,pi.tileAnchorX,pi.tileAnchorY):0)},ra=fe.textBox;if(ra){Kt(ra);let pi=Ut=>{let Ti=o.WritingMode.horizontal;if(m.allowVerticalPlacement&&!Ut&&this.prevPlacement){let ha=this.prevPlacement.placedOrientations[Ie];ha&&(this.placedOrientations[Ie]=ha,Ti=ha,this.markUsedOrientation(m,Ti,he))}return Ti},Yt=(Ut,Ti)=>{if(m.allowVerticalPlacement&&de>0&&fe.verticalTextBox){for(let ha of m.writingModes)if(ha===o.WritingMode.vertical?(Ke=Ti(),st=Ke):Ke=Ut(),Ke&&Ke.box&&Ke.box.length)break}else Ke=Ut()};if(_.get("text-variable-anchor")){let Ut=_.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ie]){let hi=this.prevPlacement.variableOffsets[Ie];Ut.indexOf(hi.anchor)>0&&(Ut=Ut.filter(pa=>pa!==hi.anchor),Ut.unshift(hi.anchor))}let Ti=(hi,pa,Qs)=>{let hr=m.getSymbolInstanceTextSize(F,he,this.transform.zoom,we),Wo=(hi.x2-hi.x1)*hr+2*hi.padding,vn=(hi.y2-hi.y1)*hr+2*hi.padding,Vn=Q&&!G?pa:null;Vn&&Kt(Vn);let ur={box:[],offscreen:!1,occluded:!1},el=H?2*Ut.length:Ut.length;for(let Xo=0;Xo<el;++Xo){let Uc=this.attemptAnchorPlacement(Ut[Xo%Ut.length],hi,Wo,vn,hr,J,ee,E,y,N,Xo>=Ut.length,he,we,m,Qs,Vn,F,B);if(Uc&&(ur=Uc.placedGlyphBoxes,ur&&ur.box&&ur.box.length)){be=!0,dt=Uc.shift;break}}return ur};Yt(()=>Ti(ra,fe.iconBox,o.WritingMode.horizontal),()=>{let hi=fe.verticalTextBox;return hi&&Kt(hi),m.allowVerticalPlacement&&!(Ke&&Ke.box&&Ke.box.length)&&de>0&&hi?Ti(hi,fe.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Ke&&(be=Ke.box,Te=Ke.offscreen,Re=Ke.occluded);let ha=pi(!(!Ke||!Ke.box));if(!be&&this.prevPlacement){let hi=this.prevPlacement.variableOffsets[Ie];hi&&(this.variableOffsets[Ie]=hi,this.markUsedJustification(m,hi.anchor,he,ha))}}else{let Ut=(Ti,ha)=>{let hi=m.getSymbolInstanceTextSize(F,he,this.transform.zoom,we),pa=this.collisionIndex.placeCollisionBox(m,hi,Ti,new o.Point(0,0),H,E,y,N.predicate);return pa&&pa.box&&pa.box.length&&(this.markUsedOrientation(m,ha,he),this.placedOrientations[Ie]=ha),pa};Yt(()=>Ut(ra,o.WritingMode.horizontal),()=>{let Ti=fe.verticalTextBox;return m.allowVerticalPlacement&&de>0&&Ti?(Kt(Ti),Ut(Ti,o.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),pi(!!(Ke&&Ke.box&&Ke.box.length))}}if(It=Ke,be=It&&It.box&&It.box.length>0,Te=It&&It.offscreen,Re=It&&It.occluded,he.useRuntimeCollisionCircles){let pi=m.text.placedSymbolArray.get(he.centerJustifiedTextSymbolIndex>=0?he.centerJustifiedTextSymbolIndex:he.verticalPlacedTextSymbolIndex),Yt=o.evaluateSizeForFeature(m.textSizeData,F,pi),Ut=_.get("text-padding");Et=this.collisionIndex.placeCollisionCircles(m,H,pi,m.lineVertexArray,m.glyphOffsetArray,Yt,y,x,A,h,ee,N.predicate,he.collisionCircleDiameter*Yt/o.ONE_EM,Ut,this.retainedQueryData[m.bucketInstanceId].tileID),be=H||Et.circles.length>0&&!Et.collisionDetected,Te=Te&&Et.offscreen,Re=Et.occluded}if(fe.iconFeatureIndex&&(Xt=fe.iconFeatureIndex),fe.iconBox){let pi=Yt=>{Kt(Yt);let Ut=Q&&dt?Eo(dt.x,dt.y,J,ee,this.transform.angle):new o.Point(0,0),Ti=m.getSymbolInstanceIconSize(B,this.transform.zoom,he.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(m,Ti,Yt,Ut,G,E,y,N.predicate)};st&&st.box&&st.box.length&&fe.verticalIconBox?(tt=pi(fe.verticalIconBox),De=tt.box.length>0):(tt=pi(fe.iconBox),De=tt.box.length>0),Te=Te&&tt.offscreen,nt=tt.occluded}let ji=S||he.numHorizontalGlyphVertices===0&&de===0,Ia=O||he.numIconVertices===0;if(ji||Ia?Ia?ji||(De=De&&be):be=De&&be:De=be=De&&be,be&&It&&It.box&&this.collisionIndex.insertCollisionBox(It.box,_.get("text-ignore-placement"),m.bucketInstanceId,st&&st.box&&Wt?Wt:qt,N.ID),De&&tt&&this.collisionIndex.insertCollisionBox(tt.box,_.get("icon-ignore-placement"),m.bucketInstanceId,Xt,N.ID),Et&&(be&&this.collisionIndex.insertCollisionCircles(Et.circles,_.get("text-ignore-placement"),m.bucketInstanceId,qt,N.ID),h)){let pi=m.bucketInstanceId,Yt=this.collisionCircleArrays[pi];Yt===void 0&&(Yt=this.collisionCircleArrays[pi]=new To);for(let Ut=0;Ut<Et.circles.length;Ut+=4)Yt.circles.push(Et.circles[Ut+0]),Yt.circles.push(Et.circles[Ut+1]),Yt.circles.push(Et.circles[Ut+2]),Yt.circles.push(Et.collisionDetected?1:0)}let Ya=m.projection.name!=="globe";oe=oe&&(Ya||!Re),pe=pe&&(Ya||!nt),this.placements[Ie]=new Ao(be||oe,De||pe,Te||m.justReloaded),r.add(Ie)};if(se){let he=m.getSortedSymbolIndexes(this.transform.angle);for(let we=he.length-1;we>=0;--we){let fe=he[we];Pe(m.symbolInstances.get(fe),fe,m.collisionArrays[fe])}}else for(let he=a.symbolInstanceStart;he<a.symbolInstanceEnd;he++)Pe(m.symbolInstances.get(he),he,m.collisionArrays[he]);if(h&&m.bucketInstanceId in this.collisionCircleArrays){let he=this.collisionCircleArrays[m.bucketInstanceId];o.invert(he.invProjMatrix,y),he.viewportMatrix=this.collisionIndex.getViewportMatrix()}m.justReloaded=!1}markUsedJustification(a,r,h,d){let{leftJustifiedTextSymbolIndex:m,centerJustifiedTextSymbolIndex:_,rightJustifiedTextSymbolIndex:y,verticalPlacedTextSymbolIndex:x,crossTileID:A}=h,z=o.getAnchorJustification(r),E=d===o.WritingMode.vertical?x:z==="left"?m:z==="center"?_:z==="right"?y:-1;m>=0&&(a.text.placedSymbolArray.get(m).crossTileID=E>=0&&m!==E?0:A),_>=0&&(a.text.placedSymbolArray.get(_).crossTileID=E>=0&&_!==E?0:A),y>=0&&(a.text.placedSymbolArray.get(y).crossTileID=E>=0&&y!==E?0:A),x>=0&&(a.text.placedSymbolArray.get(x).crossTileID=E>=0&&x!==E?0:A)}markUsedOrientation(a,r,h){let d=r===o.WritingMode.horizontal||r===o.WritingMode.horizontalOnly?r:0,m=r===o.WritingMode.vertical?r:0,{leftJustifiedTextSymbolIndex:_,centerJustifiedTextSymbolIndex:y,rightJustifiedTextSymbolIndex:x,verticalPlacedTextSymbolIndex:A}=h,z=a.text.placedSymbolArray;_>=0&&(z.get(_).placedOrientation=d),y>=0&&(z.get(y).placedOrientation=d),x>=0&&(z.get(x).placedOrientation=d),A>=0&&(z.get(A).placedOrientation=m)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;let r=this.prevPlacement,h=!1;this.prevZoomAdjustment=r?r.zoomAdjustment(this.transform.zoom):0;let d=r?r.symbolFadeChange(a):1,m=r?r.opacities:{},_=r?r.variableOffsets:{},y=r?r.placedOrientations:{};for(let x in this.placements){let A=this.placements[x],z=m[x];z?(this.opacities[x]=new dn(z,d,A.text,A.icon,null,A.clipped),h=h||A.text!==z.text.placed||A.icon!==z.icon.placed):(this.opacities[x]=new dn(null,d,A.text,A.icon,A.skipFade,A.clipped),h=h||A.text||A.icon)}for(let x in m){let A=m[x];if(!this.opacities[x]){let z=new dn(A,d,!1,!1);z.isHidden()||(this.opacities[x]=z,h=h||A.text.placed||A.icon.placed)}}for(let x in _)this.variableOffsets[x]||!this.opacities[x]||this.opacities[x].isHidden()||(this.variableOffsets[x]=_[x]);for(let x in y)this.placedOrientations[x]||!this.opacities[x]||this.opacities[x].isHidden()||(this.placedOrientations[x]=y[x]);h?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=r?r.lastPlacementChangeTime:a)}updateLayerOpacities(a,r){let h=new Set;for(let d of r){let m=d.getBucket(a);m&&d.latestFeatureIndex&&a.id===m.layerIds[0]&&this.updateBucketOpacities(m,h,d.collisionBoxArray)}}updateBucketOpacities(a,r,h){a.hasTextData()&&a.text.opacityVertexArray.clear(),a.hasIconData()&&a.icon.opacityVertexArray.clear(),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();let d=a.layers[0].layout,m=!!a.layers[0].dynamicFilter(),_=new dn(null,0,!1,!1,!0),y=d.get("text-allow-overlap"),x=d.get("icon-allow-overlap"),A=d.get("text-variable-anchor"),z=d.get("text-rotation-alignment")==="map",E=d.get("text-pitch-alignment")==="map",k=d.get("icon-text-fit")!=="none",R=new dn(null,0,y&&(x||!a.hasIconData()||d.get("icon-optional")),x&&(y||!a.hasTextData()||d.get("text-optional")),!0);!a.collisionArrays&&h&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(h);let F=(N,S,O)=>{for(let H=0;H<S/4;H++)N.opacityVertexArray.emplaceBack(O)},B=0;for(let N=0;N<a.symbolInstances.length;N++){let S=a.symbolInstances.get(N),{numHorizontalGlyphVertices:O,numVerticalGlyphVertices:H,crossTileID:G,numIconVertices:J}=S,ee=r.has(G),Q=this.opacities[G];ee?Q=_:Q||(Q=R,this.opacities[G]=Q),r.add(G);let se=O>0||H>0,oe=J>0,pe=this.placedOrientations[G],Pe=pe===o.WritingMode.vertical,he=pe===o.WritingMode.horizontal||pe===o.WritingMode.horizontalOnly;if(!se&&!oe||Q.isHidden()||B++,se){let we=So(Q.text);F(a.text,O,Pe?yi:we),F(a.text,H,he?yi:we);let fe=Q.text.isHidden(),{leftJustifiedTextSymbolIndex:Ie,centerJustifiedTextSymbolIndex:de,rightJustifiedTextSymbolIndex:be,verticalPlacedTextSymbolIndex:De}=S,Te=a.text.placedSymbolArray,Re=fe||Pe?1:0;Ie>=0&&(Te.get(Ie).hidden=Re),de>=0&&(Te.get(de).hidden=Re),be>=0&&(Te.get(be).hidden=Re),De>=0&&(Te.get(De).hidden=fe||he?1:0);let nt=this.variableOffsets[G];nt&&this.markUsedJustification(a,nt.anchor,S,pe);let dt=this.placedOrientations[G];dt&&(this.markUsedJustification(a,"left",S,dt),this.markUsedOrientation(a,dt,S))}if(oe){let we=So(Q.icon),{placedIconSymbolIndex:fe,verticalPlacedIconSymbolIndex:Ie}=S,de=a.icon.placedSymbolArray,be=Q.icon.isHidden()?1:0;fe>=0&&(F(a.icon,J,Pe?yi:we),de.get(fe).hidden=be),Ie>=0&&(F(a.icon,S.numVerticalIconVertices,he?yi:we),de.get(Ie).hidden=be)}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){let we=a.collisionArrays[N];if(we){let fe=new o.Point(0,0),Ie=!0;if(we.textBox||we.verticalTextBox){if(A){let be=this.variableOffsets[G];be?(fe=Co(be.anchor,be.width,be.height,be.textOffset,be.textScale),z&&fe._rotate(E?this.transform.angle:-this.transform.angle)):Ie=!1}m&&(Ie=!Q.clipped),we.textBox&&Lr(a.textCollisionBox.collisionVertexArray,Q.text.placed,!Ie||Pe,fe.x,fe.y),we.verticalTextBox&&Lr(a.textCollisionBox.collisionVertexArray,Q.text.placed,!Ie||he,fe.x,fe.y)}let de=Ie&&!!(!he&&we.verticalIconBox);we.iconBox&&Lr(a.iconCollisionBox.collisionVertexArray,Q.icon.placed,de,k?fe.x:0,k?fe.y:0),we.verticalIconBox&&Lr(a.iconCollisionBox.collisionVertexArray,Q.icon.placed,!de,k?fe.x:0,k?fe.y:0)}}}if(a.fullyClipped=B===0,a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.bucketInstanceId in this.collisionCircleArrays){let N=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=N.invProjMatrix,a.placementViewportMatrix=N.viewportMatrix,a.collisionCircleArray=N.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,r){let h=this.zoomAtLastRecencyCheck===r?1-this.zoomAdjustment(r):1;return this.zoomAtLastRecencyCheck=r,this.commitTime+this.fadeDuration*h>a}setStale(){this.stale=!0}}function Lr(l,a,r,h,d){l.emplaceBack(a?1:0,r?1:0,h||0,d||0),l.emplaceBack(a?1:0,r?1:0,h||0,d||0),l.emplaceBack(a?1:0,r?1:0,h||0,d||0),l.emplaceBack(a?1:0,r?1:0,h||0,d||0)}let ua=Math.pow(2,25),bi=Math.pow(2,24),Jl=Math.pow(2,17),Ql=Math.pow(2,16),da=Math.pow(2,9),Ea=Math.pow(2,8),D0=Math.pow(2,1);function So(l){if(l.opacity===0&&!l.placed)return 0;if(l.opacity===1&&l.placed)return 4294967295;let a=l.placed?1:0,r=Math.floor(127*l.opacity);return r*ua+a*bi+r*Jl+a*Ql+r*da+a*Ea+r*D0+a}let yi=0;class Lo{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&a.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(a,r,h,d,m){let _=this._bucketParts;for(;this._currentTileIndex<a.length;)if(r.getBucketParts(_,d,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,m())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,_.sort((y,x)=>y.sortKey-x.sortKey));this._currentPartIndex<_.length;){let y=_[this._currentPartIndex];if(r.placeLayerBucketPart(y,this._seenCrossTileIDs,h,y.symbolInstanceStart===0),this._currentPartIndex++,m())return!0}return!1}}class ec{constructor(a,r,h,d,m,_,y,x){this.placement=new Ts(a,m,_,y,x),this._currentPlacementIndex=r.length-1,this._forceFullPlacement=h,this._showCollisionBoxes=d,this._done=!1}isDone(){return this._done}continuePlacement(a,r,h){let d=o.exported.now(),m=()=>{let _=o.exported.now()-d;return!this._forceFullPlacement&&_>2};for(;this._currentPlacementIndex>=0;){let _=r[a[this._currentPlacementIndex]],y=this.placement.collisionIndex.transform.zoom;if(_.type==="symbol"&&(!_.minzoom||_.minzoom<=y)&&(!_.maxzoom||_.maxzoom>y)){if(this._inProgressLayer||(this._inProgressLayer=new Lo(_)),this._inProgressLayer.continuePlacement(h[_.source],this.placement,this._showCollisionBoxes,_,m))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}let ar=512/o.EXTENT/2;class Ji{constructor(a,r,h){this.tileID=a,this.bucketInstanceId=h,this.index=new o.KDBush(r.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];let d=a.canonical.x*o.EXTENT,m=a.canonical.y*o.EXTENT;for(let _=0;_<r.length;_++){let{key:y,crossTileID:x,tileAnchorX:A,tileAnchorY:z}=r.get(_),E=Math.floor((d+A)*ar),k=Math.floor((m+z)*ar);this.index.add(E,k),this.keys.push(y),this.crossTileIDs.push(x)}this.index.finish()}findMatches(a,r,h){let d=this.tileID.canonical.z<r.canonical.z?1:Math.pow(2,this.tileID.canonical.z-r.canonical.z),m=ar/Math.pow(2,r.canonical.z-this.tileID.canonical.z),_=r.canonical.x*o.EXTENT,y=r.canonical.y*o.EXTENT;for(let x=0;x<a.length;x++){let A=a.get(x);if(A.crossTileID)continue;let{key:z,tileAnchorX:E,tileAnchorY:k}=A,R=Math.floor((_+E)*m),F=Math.floor((y+k)*m),B=this.index.range(R-d,F-d,R+d,F+d);for(let N of B){let S=this.crossTileIDs[N];if(this.keys[N]===z&&!h.has(S)){h.add(S),A.crossTileID=S;break}}}}}class tc{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class ic{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){let r=Math.round((a-this.lng)/360);if(r!==0)for(let h in this.indexes){let d=this.indexes[h],m={};for(let _ in d){let y=d[_];y.tileID=y.tileID.unwrapTo(y.tileID.wrap+r),m[y.tileID.key]=y}this.indexes[h]=m}this.lng=a}addBucket(a,r,h){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===r.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let m=0;m<r.symbolInstances.length;m++)r.symbolInstances.get(m).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]=new Set);let d=this.usedCrossTileIDs[a.overscaledZ];for(let m in this.indexes){let _=this.indexes[m];if(Number(m)>a.overscaledZ)for(let y in _){let x=_[y];x.tileID.isChildOf(a)&&x.findMatches(r.symbolInstances,a,d)}else{let y=_[a.scaledTo(Number(m)).key];y&&y.findMatches(r.symbolInstances,a,d)}}for(let m=0;m<r.symbolInstances.length;m++){let _=r.symbolInstances.get(m);_.crossTileID||(_.crossTileID=h.generate(),d.add(_.crossTileID))}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Ji(a,r.symbolInstances,r.bucketInstanceId),!0}removeBucketCrossTileIDs(a,r){for(let h of r.crossTileIDs)this.usedCrossTileIDs[a].delete(h)}removeStaleBuckets(a){let r=!1;for(let h in this.indexes){let d=this.indexes[h];for(let m in d)a[d[m].bucketInstanceId]||(this.removeBucketCrossTileIDs(h,d[m]),delete d[m],r=!0)}return r}}class pn{constructor(){this.layerIndexes={},this.crossTileIDs=new tc,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,r,h,d){let m=this.layerIndexes[a.id];m===void 0&&(m=this.layerIndexes[a.id]=new ic);let _=!1,y={};d.name!=="globe"&&m.handleWrapJump(h);for(let x of r){let A=x.getBucket(a);A&&a.id===A.layerIds[0]&&(A.bucketInstanceId||(A.bucketInstanceId=++this.maxBucketInstanceId),m.addBucket(x.tileID,A,this.crossTileIDs)&&(_=!0),y[A.bucketInstanceId]=!0)}return m.removeStaleBuckets(y)&&(_=!0),_}pruneUnusedLayers(a){let r={};a.forEach(h=>{r[h]=!0});for(let h in this.layerIndexes)r[h]||delete this.layerIndexes[h]}}let Bn=(l,a)=>o.emitValidationErrors(l,a&&a.filter(r=>r.identifier!=="source.canvas")),Cs=o.pick(Gt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),zh=o.pick(Gt,["setCenter","setZoom","setBearing","setPitch"]),ac={version:8,layers:[],sources:{}},Ir={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Wa extends o.Evented{constructor(a,r={}){super(),this.map=a,this.dispatcher=new Oi(Er(),this),this.imageManager=new Ln,this.imageManager.setEventedParent(this),this.glyphManager=new o.GlyphManager(a._requestManager,r.localFontFamily?o.LocalGlyphMode.all:r.localIdeographFontFamily?o.LocalGlyphMode.ideographs:o.LocalGlyphMode.none,r.localFontFamily||r.localIdeographFontFamily),this.crossTileSymbolIndex=new pn,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());let h=this;this._rtlTextPluginCallback=Wa.registerForPluginStateChange(d=>{h.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:d.pluginStatus,pluginURL:d.pluginURL},(m,_)=>{if(o.triggerPluginCompletionEvent(m),_&&_.every(y=>y))for(let y in h._sourceCaches){let x=h._sourceCaches[y],A=x.getSource().type;A!=="vector"&&A!=="geojson"||x.reload()}})}),this.on("data",d=>{if(d.dataType!=="source"||d.sourceDataType!=="metadata")return;let m=this.getSource(d.sourceId);if(m&&m.vectorLayerIds)for(let _ in this._layers){let y=this._layers[_];y.source===m.id&&this._validateLayer(y)}})}loadURL(a,r={}){this.fire(new o.Event("dataloading",{dataType:"style"}));let h=typeof r.validate=="boolean"?r.validate:!o.isMapboxURL(a);a=this.map._requestManager.normalizeStyleURL(a,r.accessToken);let d=this.map._requestManager.transformRequest(a,o.ResourceType.Style);this._request=o.getJSON(d,(m,_)=>{this._request=null,m?this.fire(new o.ErrorEvent(m)):_&&this._load(_,h)})}loadJSON(a,r={}){this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.exported.frame(()=>{this._request=null,this._load(a,r.validate!==!1)})}loadEmpty(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(ac,!1)}_updateLayerCount(a,r){let h=r?1:-1;a.is3D()&&(this._num3DLayers+=h),a.type==="circle"&&(this._numCircleLayers+=h),a.type==="symbol"&&(this._numSymbolLayers+=h)}_load(a,r){if(r&&Bn(this,o.validateStyle(a)))return;this._loaded=!0,this.stylesheet=o.clone$1(a),this._updateMapProjection();for(let d in a.sources)this.addSource(d,a.sources[d],{validate:!1});this._changed=!1,a.sprite?this._loadSprite(a.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(a.glyphs);let h=S0(this.stylesheet.layers);this._order=h.map(d=>d.id),this._layers={},this._serializedLayers={};for(let d of h){let m=o.createStyleLayer(d);m.setEventedParent(this,{layer:{id:m.id}}),this._layers[m.id]=m,this._serializedLayers[m.id]=m.serialize(),this._updateLayerCount(m,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new xi(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(a){a?this.stylesheet.projection=a:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(a){this._spriteRequest=function(r,h,d){let m,_,y,x=o.exported.devicePixelRatio>1?"@2x":"",A=o.getJSON(h.transformRequest(h.normalizeSpriteURL(r,x,".json"),o.ResourceType.SpriteJSON),(k,R)=>{A=null,y||(y=k,m=R,E())}),z=o.getImage(h.transformRequest(h.normalizeSpriteURL(r,x,".png"),o.ResourceType.SpriteImage),(k,R)=>{z=null,y||(y=k,_=R,E())});function E(){if(y)d(y);else if(m&&_){let k=o.exported.getImageData(_),R={};for(let F in m){let{width:B,height:N,x:S,y:O,sdf:H,pixelRatio:G,stretchX:J,stretchY:ee,content:Q}=m[F],se=new o.RGBAImage({width:B,height:N});o.RGBAImage.copy(k,se,{x:S,y:O},{x:0,y:0},{width:B,height:N}),R[F]={data:se,pixelRatio:G,sdf:H,stretchX:J,stretchY:ee,content:Q}}d(null,R)}}return{cancel(){A&&(A.cancel(),A=null),z&&(z.cancel(),z=null)}}}(a,this.map._requestManager,(r,h)=>{if(this._spriteRequest=null,r)this.fire(new o.ErrorEvent(r));else if(h)for(let d in h)this.imageManager.addImage(d,h[d]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new o.Event("data",{dataType:"style"}))})}_validateLayer(a){let r=this.getSource(a.source);if(!r)return;let h=a.sourceLayer;h&&(r.type==="geojson"||r.vectorLayerIds&&r.vectorLayerIds.indexOf(h)===-1)&&this.fire(new o.ErrorEvent(new Error(`Source layer "${h}" does not exist on source "${r.id}" as specified by style layer "${a.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let a in this._sourceCaches)if(!this._sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){let r=[];for(let h of a){let d=this._layers[h];d.type!=="custom"&&r.push(d.serialize())}return r}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(let a in this._sourceCaches)if(this._sourceCaches[a].hasTransition())return!0;for(let a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(a){return!!this.terrain&&(typeof a.isLayerDraped=="function"?a.isLayerDraped():Ir[a.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(a){if(!this._loaded)return;let r=this._changed;if(this._changed){let d=Object.keys(this._updatedLayers),m=Object.keys(this._removedLayers);(d.length||m.length)&&this._updateWorkerLayers(d,m);for(let _ in this._updatedSources){let y=this._updatedSources[_];y==="reload"?this._reloadSource(_):y==="clear"&&this._clearSource(_)}this._updateTilesForChangedImages();for(let _ in this._updatedPaintProps)this._layers[_].updateTransitions(a);this.light.updateTransitions(a),this.fog&&this.fog.updateTransitions(a),this._resetUpdates()}let h={};for(let d in this._sourceCaches){let m=this._sourceCaches[d];h[d]=m.used,m.used=!1}for(let d of this._order){let m=this._layers[d];if(m.recalculate(a,this._availableImages),!m.isHidden(a.zoom)){let y=this._getLayerSourceCache(m);y&&(y.used=!0)}let _=this.map.painter;if(_){let y=m.getProgramIds();if(!y)continue;let x=m.getProgramConfiguration(a.zoom);for(let A of y)_.useProgram(A,x)}}for(let d in h){let m=this._sourceCaches[d];h[d]!==m.used&&m.getSource().fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:m.getSource().id}))}this.light.recalculate(a),this.terrain&&this.terrain.recalculate(a),this.fog&&this.fog.recalculate(a),this.z=a.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),r&&this.fire(new o.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){let a=Object.keys(this._changedImages);if(a.length){for(let r in this._sourceCaches)this._sourceCaches[r].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateWorkerLayers(a,r){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:r})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(a){if(this._checkLoaded(),Bn(this,o.validateStyle(a)))return!1;(a=o.clone$1(a)).layers=S0(a.layers);let r=function(d,m){if(!d)return[{command:Gt.setStyle,args:[m]}];let _=[];try{if(!ae(d.version,m.version))return[{command:Gt.setStyle,args:[m]}];ae(d.center,m.center)||_.push({command:Gt.setCenter,args:[m.center]}),ae(d.zoom,m.zoom)||_.push({command:Gt.setZoom,args:[m.zoom]}),ae(d.bearing,m.bearing)||_.push({command:Gt.setBearing,args:[m.bearing]}),ae(d.pitch,m.pitch)||_.push({command:Gt.setPitch,args:[m.pitch]}),ae(d.sprite,m.sprite)||_.push({command:Gt.setSprite,args:[m.sprite]}),ae(d.glyphs,m.glyphs)||_.push({command:Gt.setGlyphs,args:[m.glyphs]}),ae(d.transition,m.transition)||_.push({command:Gt.setTransition,args:[m.transition]}),ae(d.light,m.light)||_.push({command:Gt.setLight,args:[m.light]}),ae(d.fog,m.fog)||_.push({command:Gt.setFog,args:[m.fog]}),ae(d.projection,m.projection)||_.push({command:Gt.setProjection,args:[m.projection]});let y={},x=[];(function(E,k,R,F){let B;for(B in k=k||{},E=E||{})E.hasOwnProperty(B)&&(k.hasOwnProperty(B)||wo(B,R,F));for(B in k){if(!k.hasOwnProperty(B))continue;let N=k[B];E.hasOwnProperty(B)?ae(E[B],N)||(E[B].type==="geojson"&&N.type==="geojson"&&As(E,k,B)?R.push({command:Gt.setGeoJSONSourceData,args:[B,N.data]}):ql(B,k,R,F)):$l(B,k,R)}})(d.sources,m.sources,x,y);let A=[];d.layers&&d.layers.forEach(E=>{E.source&&y[E.source]?_.push({command:Gt.removeLayer,args:[E.id]}):A.push(E)});let z=d.terrain;z&&y[z.source]&&(_.push({command:Gt.setTerrain,args:[void 0]}),z=void 0),_=_.concat(x),ae(z,m.terrain)||_.push({command:Gt.setTerrain,args:[m.terrain]}),function(E,k,R){k=k||[];let F=(E=E||[]).map(cn),B=k.map(cn),N=E.reduce(Wl,{}),S=k.reduce(Wl,{}),O=F.slice(),H=Object.create(null),G,J,ee,Q,se,oe,pe;for(G=0,J=0;G<F.length;G++)ee=F[G],S.hasOwnProperty(ee)?J++:(R.push({command:Gt.removeLayer,args:[ee]}),O.splice(O.indexOf(ee,J),1));for(G=0,J=0;G<B.length;G++)ee=B[B.length-1-G],O[O.length-1-G]!==ee&&(N.hasOwnProperty(ee)?(R.push({command:Gt.removeLayer,args:[ee]}),O.splice(O.lastIndexOf(ee,O.length-J),1)):J++,oe=O[O.length-G],R.push({command:Gt.addLayer,args:[S[ee],oe]}),O.splice(O.length-G,0,ee),H[ee]=!0);for(G=0;G<B.length;G++)if(ee=B[G],Q=N[ee],se=S[ee],!H[ee]&&!ae(Q,se))if(ae(Q.source,se.source)&&ae(Q["source-layer"],se["source-layer"])&&ae(Q.type,se.type)){for(pe in $a(Q.layout,se.layout,R,ee,null,Gt.setLayoutProperty),$a(Q.paint,se.paint,R,ee,null,Gt.setPaintProperty),ae(Q.filter,se.filter)||R.push({command:Gt.setFilter,args:[ee,se.filter]}),ae(Q.minzoom,se.minzoom)&&ae(Q.maxzoom,se.maxzoom)||R.push({command:Gt.setLayerZoomRange,args:[ee,se.minzoom,se.maxzoom]}),Q)Q.hasOwnProperty(pe)&&pe!=="layout"&&pe!=="paint"&&pe!=="filter"&&pe!=="metadata"&&pe!=="minzoom"&&pe!=="maxzoom"&&(pe.indexOf("paint.")===0?$a(Q[pe],se[pe],R,ee,pe.slice(6),Gt.setPaintProperty):ae(Q[pe],se[pe])||R.push({command:Gt.setLayerProperty,args:[ee,pe,se[pe]]}));for(pe in se)se.hasOwnProperty(pe)&&!Q.hasOwnProperty(pe)&&pe!=="layout"&&pe!=="paint"&&pe!=="filter"&&pe!=="metadata"&&pe!=="minzoom"&&pe!=="maxzoom"&&(pe.indexOf("paint.")===0?$a(Q[pe],se[pe],R,ee,pe.slice(6),Gt.setPaintProperty):ae(Q[pe],se[pe])||R.push({command:Gt.setLayerProperty,args:[ee,pe,se[pe]]}))}else R.push({command:Gt.removeLayer,args:[ee]}),oe=O[O.lastIndexOf(ee)+1],R.push({command:Gt.addLayer,args:[se,oe]})}(A,m.layers,_)}catch(y){console.warn("Unable to compute style diff:",y),_=[{command:Gt.setStyle,args:[m]}]}return _}(this.serialize(),a).filter(d=>!(d.command in zh));if(r.length===0)return!1;let h=r.filter(d=>!(d.command in Cs));if(h.length>0)throw new Error(`Unimplemented: ${h.map(d=>d.command).join(", ")}.`);return r.forEach(d=>{d.command!=="setTransition"&&d.command!=="setProjection"&&this[d.command].apply(this,d.args)}),this.stylesheet=a,this._updateMapProjection(),!0}addImage(a,r){return this.getImage(a)?this.fire(new o.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(a,r),this._afterImageUpdated(a),this)}updateImage(a,r){this.imageManager.updateImage(a,r)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){return this.getImage(a)?(this.imageManager.removeImage(a),this._afterImageUpdated(a),this):this.fire(new o.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(a,r,h={}){if(this._checkLoaded(),this.getSource(a)!==void 0)throw new Error("There is already a source with this ID");if(!r.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(r).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(o.validateSource,`sources.${a}`,r,null,h))return;this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);let d=Ct(a,r,this.dispatcher,this);d.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(a),source:d.serialize(),sourceId:a}));let m=_=>{let y=(_?"symbol:":"other:")+a,x=this._sourceCaches[y]=new o.SourceCache(y,d,_);(_?this._symbolSourceCaches:this._otherSourceCaches)[a]=x,x.style=this,x.onAdd(this.map)};m(!1),r.type!=="vector"&&r.type!=="geojson"||m(!0),d.onAdd&&d.onAdd(this.map),this._changed=!0}removeSource(a){this._checkLoaded();let r=this.getSource(a);if(!r)throw new Error("There is no source with this ID");for(let d in this._layers)if(this._layers[d].source===a)return this.fire(new o.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${d}" is using it.`)));if(this.terrain&&this.terrain.get().source===a)return this.fire(new o.ErrorEvent(new Error(`Source "${a}" cannot be removed while terrain is using it.`)));let h=this._getSourceCaches(a);for(let d of h)delete this._sourceCaches[d.id],delete this._updatedSources[d.id],d.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:d.getSource().id})),d.setEventedParent(null),d.clearTiles();return delete this._otherSourceCaches[a],delete this._symbolSourceCaches[a],r.setEventedParent(null),r.onRemove&&r.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(a,r){this._checkLoaded(),this.getSource(a).setData(r),this._changed=!0}getSource(a){let r=this._getSourceCache(a);return r&&r.getSource()}_getSources(){let a=[];for(let r in this._otherSourceCaches){let h=this._getSourceCache(r);h&&a.push(h.getSource())}return a}addLayer(a,r,h={}){this._checkLoaded();let d=a.id;if(this.getLayer(d))return void this.fire(new o.ErrorEvent(new Error(`Layer with id "${d}" already exists on this map`)));let m;if(a.type==="custom"){if(Bn(this,o.validateCustomStyleLayer(a)))return;m=o.createStyleLayer(a)}else{if(typeof a.source=="object"&&(this.addSource(d,a.source),a=o.clone$1(a),a=o.extend(a,{source:d})),this._validate(o.validateLayer,`layers.${d}`,a,{arrayIndex:-1},h))return;m=o.createStyleLayer(a),this._validateLayer(m),m.setEventedParent(this,{layer:{id:d}}),this._serializedLayers[m.id]=m.serialize(),this._updateLayerCount(m,!0)}let _=r?this._order.indexOf(r):this._order.length;if(r&&_===-1)return void this.fire(new o.ErrorEvent(new Error(`Layer with id "${r}" does not exist on this map.`)));this._order.splice(_,0,d),this._layerOrderChanged=!0,this._layers[d]=m;let y=this._getLayerSourceCache(m);if(this._removedLayers[d]&&m.source&&y&&m.type!=="custom"){let x=this._removedLayers[d];delete this._removedLayers[d],x.type!==m.type?this._updatedSources[m.source]="clear":(this._updatedSources[m.source]="reload",y.pause())}this._updateLayer(m),m.onAdd&&m.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(a,r){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===r)return;let h=this._order.indexOf(a);this._order.splice(h,1);let d=r?this._order.indexOf(r):this._order.length;r&&d===-1?this.fire(new o.ErrorEvent(new Error(`Layer with id "${r}" does not exist on this map.`))):(this._order.splice(d,0,a),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(a){this._checkLoaded();let r=this._layers[a];if(!r)return void this.fire(new o.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be removed.`)));r.setEventedParent(null),this._updateLayerCount(r,!1);let h=this._order.indexOf(a);this._order.splice(h,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=r,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],r.onRemove&&r.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}hasLayerType(a){for(let r in this._layers)if(this._layers[r].type===a)return!0;return!1}setLayerZoomRange(a,r,h){this._checkLoaded();let d=this.getLayer(a);d?d.minzoom===r&&d.maxzoom===h||(r!=null&&(d.minzoom=r),h!=null&&(d.maxzoom=h),this._updateLayer(d)):this.fire(new o.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(a,r,h={}){this._checkLoaded();let d=this.getLayer(a);if(d){if(!ae(d.filter,r))return r==null?(d.filter=void 0,void this._updateLayer(d)):void(this._validate(o.validateFilter,`layers.${d.id}.filter`,r,{layerType:d.type},h)||(d.filter=o.clone$1(r),this._updateLayer(d)))}else this.fire(new o.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be filtered.`)))}getFilter(a){let r=this.getLayer(a);return r&&o.clone$1(r.filter)}setLayoutProperty(a,r,h,d={}){this._checkLoaded();let m=this.getLayer(a);m?ae(m.getLayoutProperty(r),h)||(m.setLayoutProperty(r,h,d),this._updateLayer(m)):this.fire(new o.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(a,r){let h=this.getLayer(a);if(h)return h.getLayoutProperty(r);this.fire(new o.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style.`)))}setPaintProperty(a,r,h,d={}){this._checkLoaded();let m=this.getLayer(a);m?ae(m.getPaintProperty(r),h)||(m.setPaintProperty(r,h,d)&&this._updateLayer(m),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new o.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(a,r){let h=this.getLayer(a);return h&&h.getPaintProperty(r)}setFeatureState(a,r){this._checkLoaded();let h=a.source,d=a.sourceLayer,m=this.getSource(h);if(!m)return void this.fire(new o.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)));let _=m.type;if(_==="geojson"&&d)return void this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(_==="vector"&&!d)return void this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));a.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided.")));let y=this._getSourceCaches(h);for(let x of y)x.setFeatureState(d,a.id,r)}removeFeatureState(a,r){this._checkLoaded();let h=a.source,d=this.getSource(h);if(!d)return void this.fire(new o.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)));let m=d.type,_=m==="vector"?a.sourceLayer:void 0;if(m==="vector"&&!_)return void this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(r&&typeof a.id!="string"&&typeof a.id!="number")return void this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));let y=this._getSourceCaches(h);for(let x of y)x.removeFeatureState(_,a.id,r)}getFeatureState(a){this._checkLoaded();let r=a.source,h=a.sourceLayer,d=this.getSource(r);if(d){if(d.type!=="vector"||h)return a.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(r)[0].getFeatureState(h,a.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)))}getTransition(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){let a={};for(let r in this._sourceCaches){let h=this._sourceCaches[r].getSource();a[h.id]||(a[h.id]=h.serialize())}return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:a,layers:this._serializeLayers(this._order)},r=>r!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0;let r=this._getLayerSourceCache(a);a.source&&!this._updatedSources[a.source]&&r&&r.getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",r.pause()),this._changed=!0,a.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(a){let r=_=>this._layers[_].type==="fill-extrusion",h={},d=[];for(let _=this._order.length-1;_>=0;_--){let y=this._order[_];if(r(y)){h[y]=_;for(let x of a){let A=x[y];if(A)for(let z of A)d.push(z)}}}d.sort((_,y)=>y.intersectionZ-_.intersectionZ);let m=[];for(let _=this._order.length-1;_>=0;_--){let y=this._order[_];if(r(y))for(let x=d.length-1;x>=0;x--){let A=d[x].feature;if(h[A.layer.id]<_)break;m.push(A),d.pop()}else for(let x of a){let A=x[y];if(A)for(let z of A)m.push(z.feature)}}return m}queryRenderedFeatures(a,r,h){r&&r.filter&&this._validate(o.validateFilter,"queryRenderedFeatures.filter",r.filter,null,r);let d={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(let x of r.layers){let A=this._layers[x];if(!A)return this.fire(new o.ErrorEvent(new Error(`The layer '${x}' does not exist in the map's style and cannot be queried for features.`))),[];d[A.source]=!0}}let m=[];r.availableImages=this._availableImages;let _=r&&r.layers?r.layers.some(x=>{let A=this.getLayer(x);return A&&A.is3D()}):this.has3DLayers(),y=In.createFromScreenPoints(a,h);for(let x in this._sourceCaches){let A=this._sourceCaches[x].getSource().id;r.layers&&!d[A]||m.push(fi(this._sourceCaches[x],this._layers,this._serializedLayers,y,r,h,_,!!this.map._showQueryGeometry))}return this.placement&&m.push(function(x,A,z,E,k,R,F){let B={},N=R.queryRenderedSymbols(E),S=[];for(let O of Object.keys(N).map(Number))S.push(F[O]);S.sort(aa);for(let O of S){let H=O.featureIndex.lookupSymbolFeatures(N[O.bucketInstanceId],A,O.bucketIndex,O.sourceLayerIndex,k.filter,k.layers,k.availableImages,x);for(let G in H){let J=B[G]=B[G]||[],ee=H[G];ee.sort((Q,se)=>{let oe=O.featureSortOrder;if(oe){let pe=oe.indexOf(Q.featureIndex);return oe.indexOf(se.featureIndex)-pe}return se.featureIndex-Q.featureIndex});for(let Q of ee)J.push(Q)}}for(let O in B)B[O].forEach(H=>{let G=H.feature,J=z(x[O]);if(!J)return;let ee=J.getFeatureState(G.layer["source-layer"],G.id);G.source=G.layer.source,G.layer["source-layer"]&&(G.sourceLayer=G.layer["source-layer"]),G.state=ee});return B}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),y.screenGeometry,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(m)}querySourceFeatures(a,r){r&&r.filter&&this._validate(o.validateFilter,"querySourceFeatures.filter",r.filter,null,r);let h=this._getSourceCaches(a),d=[];for(let m of h)d=d.concat(zi(m,r));return d}addSourceType(a,r,h){return Wa.getSourceType(a)?h(new Error(`A source type called "${a}" already exists.`)):(Wa.setSourceType(a,r),r.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:r.workerSourceURL},h):h(null,null))}getLight(){return this.light.getLight()}setLight(a,r={}){this._checkLoaded();let h=this.light.getLight(),d=!1;for(let _ in a)if(!ae(a[_],h[_])){d=!0;break}if(!d)return;let m=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(a,r),this.light.updateTransitions(m)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(a,r=1){if(this._checkLoaded(),!a)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let h=a;if(r===1){if(typeof h.source=="object"){let d="terrain-dem-src";this.addSource(d,h.source),h=o.clone$1(h),h=o.extend(h,{source:d})}if(this._validate(o.validateTerrain,"terrain",h))return}if(!this.terrain||this.terrain&&r!==this.terrain.drapeRenderMode){if(!h)return;this._createTerrain(h,r)}else{let d=this.terrain,m=d.get();for(let _ of Object.keys(o.spec.terrain))!h.hasOwnProperty(_)&&o.spec.terrain[_].default&&(h[_]=o.spec.terrain[_].default);for(let _ in h)if(!ae(h[_],m[_])){d.set(h),this.stylesheet.terrain=h;let y=this._setTransitionParameters({duration:0});d.updateTransitions(y);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(a){let r=this.fog=new xr(a,this.map.transform);this.stylesheet.fog=a;let h=this._setTransitionParameters({duration:0});r.updateTransitions(h)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(let a of this.map._markers)a._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(a){if(this._checkLoaded(),!a)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){let r=this.fog,h=r.get();Object.keys(a).length===0&&r.set(a);for(let d in a)if(!ae(a[d],h[d])){r.set(a),this.stylesheet.fog=a;let m=this._setTransitionParameters({duration:0});r.updateTransitions(m);break}}else this._createFog(a);this._markersNeedUpdate=!0}_setTransitionParameters(a){return{now:o.exported.now(),transition:o.extend(a,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;let a=this._order.filter(h=>this.isLayerDraped(this._layers[h])),r=this._order.filter(h=>!this.isLayerDraped(this._layers[h]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...a),this._drapedFirstOrder.push(...r)}_createTerrain(a,r){let h=this.terrain=new ys(a,r);this.stylesheet.terrain=a,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();let d=this._setTransitionParameters({duration:0});h.updateTransitions(d)}_force3DLayerUpdate(){for(let a in this._layers){let r=this._layers[a];r.type==="fill-extrusion"&&this._updateLayer(r)}}_forceSymbolLayerUpdate(){for(let a in this._layers){let r=this._layers[a];r.type==="symbol"&&this._updateLayer(r)}}_validate(a,r,h,d,m={}){return(!m||m.validate!==!1)&&Bn(this,a.call(o.validateStyle,o.extend({key:r,style:this.serialize(),value:h,styleSpec:o.spec},d)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(let a in this._layers)this._layers[a].setEventedParent(null);for(let a in this._sourceCaches)this._sourceCaches[a].clearTiles(),this._sourceCaches[a].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(a){let r=this._getSourceCaches(a);for(let h of r)h.clearTiles()}_reloadSource(a){let r=this._getSourceCaches(a);for(let h of r)h.resume(),h.reload()}_reloadSources(){for(let a of this._getSources())a.reload&&a.reload()}_updateSources(a){for(let r in this._sourceCaches)this._sourceCaches[r].update(a)}_generateCollisionBoxes(){for(let a in this._sourceCaches){let r=this._sourceCaches[a];r.resume(),r.reload()}}_updatePlacement(a,r,h,d,m=!1){let _=!1,y=!1,x={};for(let A of this._order){let z=this._layers[A];if(z.type!=="symbol")continue;if(!x[z.source]){let k=this._getLayerSourceCache(z);if(!k)continue;x[z.source]=k.getRenderableIds(!0).map(R=>k.getTileByID(R)).sort((R,F)=>F.tileID.overscaledZ-R.tileID.overscaledZ||(R.tileID.isLessThan(F.tileID)?-1:1))}let E=this.crossTileSymbolIndex.addLayer(z,x[z.source],a.center.lng,a.projection);_=_||E}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),m=m||this._layerOrderChanged||h===0,this._layerOrderChanged&&this.fire(new o.Event("neworder")),(m||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.exported.now(),a.zoom))&&(this.pauseablePlacement=new ec(a,this._order,m,r,h,d,this.placement,this.fog&&a.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,x),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.exported.now()),y=!0),_&&this.pauseablePlacement.placement.setStale()),y||_)for(let A of this._order){let z=this._layers[A];z.type==="symbol"&&this.placement.updateLayerOpacities(z,x[z.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.exported.now())}_releaseSymbolFadeTiles(){for(let a in this._sourceCaches)this._sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,r,h){this.imageManager.getImages(r.icons,h),this._updateTilesForChangedImages();let d=m=>{m&&m.setDependencies(r.tileID.key,r.type,r.icons)};d(this._otherSourceCaches[r.source]),d(this._symbolSourceCaches[r.source])}getGlyphs(a,r,h){this.glyphManager.getGlyphs(r.stacks,h)}getResource(a,r,h){return o.makeRequest(r,h)}_getSourceCache(a){return this._otherSourceCaches[a]}_getLayerSourceCache(a){return a.type==="symbol"?this._symbolSourceCaches[a.source]:this._otherSourceCaches[a.source]}_getSourceCaches(a){let r=[];return this._otherSourceCaches[a]&&r.push(this._otherSourceCaches[a]),this._symbolSourceCaches[a]&&r.push(this._symbolSourceCaches[a]),r}_isSourceCacheLoaded(a){let r=this._getSourceCaches(a);return r.length===0?(this.fire(new o.ErrorEvent(new Error(`There is no source with ID '${a}'`))),!1):r.every(h=>h.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Wa.getSourceType=function(l){return xt[l]},Wa.setSourceType=function(l,a){xt[l]=a},Wa.registerForPluginStateChange=o.registerForPluginStateChange;var nc=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,nr="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",mn=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Io=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,fn=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Es={},Pr={},Po=[];kr(nc,Po),kr(mn,Po),kr(Io,Po),kr(fn,Po),Es=Zt("",mn),Pr=Zt(fn,Io);let O0=Zt(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Ss=nc,rc=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var oc={background:Zt(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Zt(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Zt(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Zt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Zt(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Zt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Zt("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Zt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Zt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Zt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Zt(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Zt(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Zt(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Zt(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Zt(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Zt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Zt(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Zt(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Zt(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Zt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Zt(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Zt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Zt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Zt(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Zt(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Zt(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nr),skyboxGradient:Zt(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nr),skyboxCapture:Zt(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Zt(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Zt(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function kr(l,a){let r=l.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let h of r)if(h=h.trim(),h[0]==="#"&&h.includes("if")&&!h.includes("endif")){h=h.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();let d=h.split(" ");for(let m of d)a.includes(m)||a.push(m)}}function Zt(l,a){let r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h=a.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),d={},m=[...Po];return kr(l,m),kr(a,m),{fragmentSource:l=l.replace(r,(_,y,x,A,z)=>(d[z]=!0,y==="define"?`
#ifndef HAS_UNIFORM_u_${z}
varying ${x} ${A} ${z};
#else
uniform ${x} ${A} u_${z};
#endif
`:`
#ifdef HAS_UNIFORM_u_${z}
    ${x} ${A} ${z} = u_${z};
#endif
`)),vertexSource:a=a.replace(r,(_,y,x,A,z)=>{let E=A==="float"?"vec2":"vec4",k=z.match(/color/)?"color":E;return d[z]?y==="define"?`
#ifndef HAS_UNIFORM_u_${z}
uniform lowp float u_${z}_t;
attribute ${x} ${E} a_${z};
varying ${x} ${A} ${z};
#else
uniform ${x} ${A} u_${z};
#endif
`:k==="vec4"?`
#ifndef HAS_UNIFORM_u_${z}
    ${z} = a_${z};
#else
    ${x} ${A} ${z} = u_${z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${z}
    ${z} = unpack_mix_${k}(a_${z}, u_${z}_t);
#else
    ${x} ${A} ${z} = u_${z};
#endif
`:y==="define"?`
#ifndef HAS_UNIFORM_u_${z}
uniform lowp float u_${z}_t;
attribute ${x} ${E} a_${z};
#else
uniform ${x} ${A} u_${z};
#endif
`:k==="vec4"?`
#ifndef HAS_UNIFORM_u_${z}
    ${x} ${A} ${z} = a_${z};
#else
    ${x} ${A} ${z} = u_${z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${z}
    ${x} ${A} ${z} = unpack_mix_${k}(a_${z}, u_${z}_t);
#else
    ${x} ${A} ${z} = u_${z};
#endif
`}),staticAttributes:h,usedDefines:m}}class Ah{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(a,r,h,d,m,_,y){this.context=a;let x=this.boundPaintVertexBuffers.length!==d.length;for(let z=0;!x&&z<d.length;z++)this.boundPaintVertexBuffers[z]!==d[z]&&(x=!0);let A=this.boundDynamicVertexBuffers.length!==y.length;for(let z=0;!A&&z<y.length;z++)this.boundDynamicVertexBuffers[z]!==y[z]&&(A=!0);if(!a.extVertexArrayObject||!this.vao||this.boundProgram!==r||this.boundLayoutVertexBuffer!==h||x||A||this.boundIndexBuffer!==m||this.boundVertexOffset!==_)this.freshBind(r,h,d,m,_,y);else{a.bindVertexArrayOES.set(this.vao);for(let z of y)z&&z.bind();m&&m.dynamicDraw&&m.bind()}}freshBind(a,r,h,d,m,_){let y,x=a.numAttributes,A=this.context,z=A.gl;if(A.extVertexArrayObject)this.vao&&this.destroy(),this.vao=A.extVertexArrayObject.createVertexArrayOES(),A.bindVertexArrayOES.set(this.vao),y=0,this.boundProgram=a,this.boundLayoutVertexBuffer=r,this.boundPaintVertexBuffers=h,this.boundIndexBuffer=d,this.boundVertexOffset=m,this.boundDynamicVertexBuffers=_;else{y=A.currentNumAttributes||0;for(let E=x;E<y;E++)z.disableVertexAttribArray(E)}r.enableAttributes(z,a),r.bind(),r.setVertexAttribPointers(z,a,m);for(let E of h)E.enableAttributes(z,a),E.bind(),E.setVertexAttribPointers(z,a,m);for(let E of _)E&&(E.enableAttributes(z,a),E.bind(),E.setVertexAttribPointers(z,a,m));d&&d.bind(),A.currentNumAttributes=x}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function sc(l,a){let r=Math.pow(2,a.canonical.z),h=a.canonical.y;return[new o.MercatorCoordinate(0,h/r).toLngLat().lat,new o.MercatorCoordinate(0,(h+1)/r).toLngLat().lat]}function R0(l,a,r,h,d,m,_){let y=l.context,x=y.gl,A=r.fbo;if(!A)return;l.prepareDrawTile();let z=l.useProgram("hillshade");y.activeTexture.set(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,A.colorAttachment.get());let E=((B,N,S,O)=>{let H=S.paint.get("hillshade-shadow-color"),G=S.paint.get("hillshade-highlight-color"),J=S.paint.get("hillshade-accent-color"),ee=S.paint.get("hillshade-illumination-direction")*(Math.PI/180);S.paint.get("hillshade-illumination-anchor")==="viewport"&&(ee-=B.transform.angle);let Q=!B.options.moving;return{u_matrix:O||B.transform.calculateProjMatrix(N.tileID.toUnwrapped(),Q),u_image:0,u_latrange:sc(0,N.tileID),u_light:[S.paint.get("hillshade-exaggeration"),ee],u_shadow:H,u_highlight:G,u_accent:J}})(l,r,h,l.terrain?a.projMatrix:null);l.prepareDrawProgram(y,z,a.toUnwrapped());let{tileBoundsBuffer:k,tileBoundsIndexBuffer:R,tileBoundsSegments:F}=l.getTileBoundsBuffers(r);z.draw(y,x.TRIANGLES,d,m,_,o.CullFaceMode.disabled,E,h.id,k,R,F)}function lc(l,a,r){if(!a.needsDEMTextureUpload)return;let h=l.context,d=h.gl;h.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||l.getTileTexture(r.stride);let m=r.getPixels();a.demTexture?a.demTexture.update(m,{premultiply:!1}):a.demTexture=new o.Texture(h,m,d.RGBA,{premultiply:!1}),a.needsDEMTextureUpload=!1}function B0(l,a,r,h,d,m){let _=l.context,y=_.gl;if(!a.dem)return;let x=a.dem;if(_.activeTexture.set(y.TEXTURE1),lc(l,a,x),!a.demTexture)return;a.demTexture.bind(y.NEAREST,y.CLAMP_TO_EDGE);let A=x.dim;_.activeTexture.set(y.TEXTURE0);let z=a.fbo;if(!z){let F=new o.Texture(_,{width:A,height:A,data:null},y.RGBA);F.bind(y.LINEAR,y.CLAMP_TO_EDGE),z=a.fbo=_.createFramebuffer(A,A,!0),z.colorAttachment.set(F.texture)}_.bindFramebuffer.set(z.framebuffer),_.viewport.set([0,0,A,A]);let{tileBoundsBuffer:E,tileBoundsIndexBuffer:k,tileBoundsSegments:R}=l.getMercatorTileBoundsBuffers();l.useProgram("hillshadePrepare").draw(_,y.TRIANGLES,h,d,m,o.CullFaceMode.disabled,((F,B)=>{let N=B.stride,S=o.create();return o.ortho(S,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(S,S,[0,-o.EXTENT,0]),{u_matrix:S,u_image:1,u_dimension:[N,N],u_zoom:F.overscaledZ,u_unpack:B.unpackVector}})(a.tileID,x),r.id,E,k,R),a.needsHillshadePrepare=!1}let cc=l=>({u_matrix:new o.UniformMatrix4f(l),u_image0:new o.Uniform1i(l),u_skirt_height:new o.Uniform1f(l)}),Dr=(l,a)=>({u_matrix:l,u_image0:0,u_skirt_height:a}),Ls=(l,a,r,h,d,m,_,y,x,A,z,E,k,R,F)=>({u_proj_matrix:Float32Array.from(l),u_globe_matrix:a,u_normalize_matrix:Float32Array.from(h),u_merc_matrix:r,u_zoom_transition:d,u_merc_center:m,u_image0:0,u_frustum_tl:_,u_frustum_tr:y,u_frustum_br:x,u_frustum_bl:A,u_globe_pos:z,u_globe_radius:E,u_viewport:k,u_grid_matrix:F?Float32Array.from(F):new Float32Array(9),u_skirt_height:R});function Or(l,a){return l!=null&&a!=null&&!(!l.hasData()||!a.hasData())&&l.demTexture!=null&&a.demTexture!=null&&l.tileID.key!==a.tileID.key}let gn=new class{constructor(){this.operations={}}newMorphing(l,a,r,h,d){if(l in this.operations){let m=this.operations[l];m.to.tileID.key!==r.tileID.key&&(m.queued=r)}else this.operations[l]={startTime:h,phase:0,duration:d,from:a,to:r,queued:null}}getMorphValuesForProxy(l){if(!(l in this.operations))return null;let a=this.operations[l];return{from:a.from,to:a.to,phase:a.phase}}update(l){for(let a in this.operations){let r=this.operations[a];for(r.phase=(l-r.startTime)/r.duration;r.phase>=1||!this._validOp(r);)if(!this._nextOp(r,l)){delete this.operations[a];break}}}_nextOp(l,a){return!!l.queued&&(l.from=l.to,l.to=l.queued,l.queued=null,l.phase=0,l.startTime=a,!0)}_validOp(l){return l.from.hasData()&&l.to.hasData()}},rr={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Is(l){return 6*Math.pow(1.5,22-l)}function F0(l,a){let r=1<<l.z;return!a&&(l.x===0||l.x===r-1)||l.y===0||l.y===r-1}let ko=l=>({u_matrix:l});function hc(l,a,r,h,d){if(d>0){let m=o.exported.now(),_=(m-l.timeAdded)/d,y=a?(m-a.timeAdded)/d:-1,x=r.getSource(),A=h.coveringZoomLevel({tileSize:x.tileSize,roundZoom:x.roundZoom}),z=!a||Math.abs(a.tileID.overscaledZ-A)>Math.abs(l.tileID.overscaledZ-A),E=z&&l.refreshedUponExpiration?1:o.clamp(z?_:1-y,0,1);return l.refreshedUponExpiration&&_>=1&&(l.refreshedUponExpiration=!1),a?{opacity:1,mix:1-E}:{opacity:E,mix:0}}return{opacity:1,mix:0}}class uc extends o.SourceCache{constructor(a){let r={type:"raster-dem",maxzoom:a.transform.maxZoom},h=new Oi(Er(),null),d=Ct("mock-dem",r,h,a.style);super("mock-dem",d,!1),d.setEventedParent(this),this._sourceLoaded=!0}_loadTile(a,r){a.state="loaded",r(null)}}class Ps extends o.SourceCache{constructor(a){let r=Ct("proxy",{type:"geojson",maxzoom:a.transform.maxZoom},new Oi(Er(),null),a.style);super("proxy",r,!1),r.setEventedParent(this),this.map=this.getSource().map=a,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(a,r,h){if(a.freezeTileCoverage)return;this.transform=a;let d=a.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((m,_)=>{if(m[_.key]="",!this._tiles[_.key]){let y=new o.Tile(_,this._source.tileSize*_.overscaleFactor(),a.tileZoom);y.state="loaded",this._tiles[_.key]=y}return m},{});for(let m in this._tiles)m in d||(this.freeFBO(m),this._tiles[m].unloadVectorData(),delete this._tiles[m])}freeFBO(a){let r=this.proxyCachedFBO[a];if(r!==void 0){let h=Object.values(r);this.renderCachePool.push(...h),delete this.proxyCachedFBO[a]}}deallocRenderCache(){this.renderCache.forEach(a=>a.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ks extends o.OverscaledTileID{constructor(a,r,h){super(a.overscaledZ,a.wrap,a.canonical.z,a.canonical.x,a.canonical.y),this.proxyTileKey=r,this.projMatrix=h}}class dc extends o.Elevation{constructor(a,r){super(),this.painter=a,this.terrainTileForTile={},this.prevTerrainTileForTile={};let[h,d,m]=function(x){let A=new o.StructArrayLayout2i4,z=new o.StructArrayLayout3ui6,E=131;A.reserve(17161),z.reserve(33800);let k=o.EXTENT/128,R=o.EXTENT+k/2,F=R+k;for(let N=-k;N<F;N+=k)for(let S=-k;S<F;S+=k){let O=S<0||S>R||N<0||N>R?24575:0,H=o.clamp(Math.round(S),0,o.EXTENT),G=o.clamp(Math.round(N),0,o.EXTENT);A.emplaceBack(H+O,G)}let B=(N,S)=>{let O=S*E+N;z.emplaceBack(O+1,O,O+E),z.emplaceBack(O+E,O+E+1,O+1)};for(let N=1;N<129;N++)for(let S=1;S<129;S++)B(S,N);return[0,129].forEach(N=>{for(let S=0;S<130;S++)B(S,N),B(N,S)}),[A,z,32768]}(),_=a.context;this.gridBuffer=_.createVertexBuffer(h,o.posAttributes.members),this.gridIndexBuffer=_.createIndexBuffer(d),this.gridSegments=o.SegmentVector.simpleSegment(0,0,h.length,d.length),this.gridNoSkirtSegments=o.SegmentVector.simpleSegment(0,0,h.length,m),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ps(r.map),this.orthoMatrix=o.create(),o.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,o.EXTENT,0,o.EXTENT,0,1);let y=_.gl;this._overlapStencilMode=new o.StencilMode({func:y.GEQUAL,mask:255},0,255,y.KEEP,y.KEEP,y.REPLACE),this._previousZoom=a.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=r,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new uc(r.map)}set style(a){a.on("data",this._onStyleDataEvent.bind(this)),a.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=a,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(a,r,h){if(a&&a.terrain){this._style!==a&&(this.style=a),this.enabled=!0;let d=a.terrain.properties;this.sourceCache=a.terrain.drapeRenderMode===0?this._mockSourceCache:a._getSourceCache(d.get("source")),this._exaggeration=d.get("exaggeration");let m=()=>{this.sourceCache.used&&o.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);let _=this.getScaledDemTileSize();this.sourceCache.update(r,_,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,m(),this._initializing=!0),m(),r.updateElevation(!0,h),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(r),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(a){this._findCoveringTileCache[a]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){let a=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||a.efficiency!==100&&o.warnOnce(`Terrain render cache efficiency is not optimal (${a.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${a.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(a){a.coord&&a.dataType==="source"?this._clearRenderCacheForTile(a.sourceCacheId,a.coord):a.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(let a in this._style._sourceCaches)this._style._sourceCaches[a].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(a=>a.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){let a=2*this.proxySourceCache.getSource().tileSize;return[a,a]}set useVertexMorphing(a){this._useVertexMorphing=a}updateTileBinding(a){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;let r=this.proxySourceCache,h=this.painter.transform;this._initializing&&(this._initializing=h._centerAltitude===0&&this.getAtPointOrZero(o.MercatorCoordinate.fromLngLat(h.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);let d=this.proxyCoords=r.getIds().map(x=>{let A=r.getTileByID(x).tileID;return A.projMatrix=h.calculateProjMatrix(A.toUnwrapped()),A});(function(x,A){let z=A.transform.pointCoordinate(A.transform.getCameraPoint()),E=new o.Point(z.x,z.y);x.sort((k,R)=>{if(R.overscaledZ-k.overscaledZ)return R.overscaledZ-k.overscaledZ;let F=new o.Point(k.canonical.x+(1<<k.canonical.z)*k.wrap,k.canonical.y),B=new o.Point(R.canonical.x+(1<<R.canonical.z)*R.wrap,R.canonical.y),N=E.mult(1<<k.canonical.z);return N.x-=.5,N.y-=.5,N.distSqr(F)-N.distSqr(B)})})(d,this.painter),this._previousZoom=h.zoom;let m=this.proxyToSource||{};this.proxyToSource={},d.forEach(x=>{this.proxyToSource[x.key]={}}),this.terrainTileForTile={};let _=this._style._sourceCaches;for(let x in _){let A=_[x];if(!A.used||(A!==this.sourceCache&&this.resetTileLookupCache(A.id),this._setupProxiedCoordsForOrtho(A,a[x],m),A.usedForTerrain))continue;let z=a[x];A.getSource().reparseOverscaled&&this._assignTerrainTiles(z)}this.proxiedCoords[r.id]=d.map(x=>new ks(x,x.key,this.orthoMatrix)),this._assignTerrainTiles(d),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(m),this.renderingToTexture=!1,this._updateTimestamp=o.exported.now();let y={};this._visibleDemTiles=[];for(let x of this.proxyCoords){let A=this.terrainTileForTile[x.key];if(!A)continue;let z=A.tileID.key;z in y||(this._visibleDemTiles.push(A),y[z]=z)}}_assignTerrainTiles(a){this._initializing||a.forEach(r=>{if(this.terrainTileForTile[r.key])return;let h=this._findTileCoveringTileID(r,this.sourceCache);h&&(this.terrainTileForTile[r.key]=h)})}_prepareDEMTextures(){let a=this.painter.context,r=a.gl;for(let h in this.terrainTileForTile){let d=this.terrainTileForTile[h],m=d.dem;!m||d.demTexture&&!d.needsDEMTextureUpload||(a.activeTexture.set(r.TEXTURE1),lc(this.painter,d,m))}}_prepareDemTileUniforms(a,r,h,d){if(!r||r.demTexture==null)return!1;let m=a.tileID.canonical,_=Math.pow(2,r.tileID.canonical.z-m.z),y=d||"";return h[`u_dem_tl${y}`]=[m.x*_%1,m.y*_%1],h[`u_dem_scale${y}`]=_,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){let a=this.painter.context,r=a.gl;if(!this._emptyDepthBufferTexture){let h=new o.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new o.Texture(a,h,r.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let a=0,r=this._visibleDemTiles.reduce((h,d)=>{if(!d.dem)return h;let m=d.dem.tree.minimums[0];return m>0&&a++,h+m},0);return a?r/a:0}_updateEmptyDEMTexture(){let a=this.painter.context,r=a.gl;a.activeTexture.set(r.TEXTURE2);let h=this._getLoadedAreaMinimum(),d=new o.RGBAImage({width:1,height:1},new Uint8Array(o.DEMData.pack(h,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let m=this._emptyDEMTexture;return m?m.update(d,{premultiply:!1}):m=this._emptyDEMTexture=new o.Texture(a,d,r.RGBA,{premultiply:!1}),m}setupElevationDraw(a,r,h){let d=this.painter.context,m=d.gl,_=(y=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:o.DEMData.getUnpackVector(y),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var y;_.u_dem_size=this.sourceCache.getSource().tileSize,_.u_exaggeration=this.exaggeration();let x=null,A=null,z=1;if(h&&h.morphing&&this._useVertexMorphing){let E=h.morphing.srcDemTile,k=h.morphing.dstDemTile;z=h.morphing.phase,E&&k&&(this._prepareDemTileUniforms(a,E,_,"_prev")&&(A=E),this._prepareDemTileUniforms(a,k,_)&&(x=k))}if(A&&x?(d.activeTexture.set(m.TEXTURE2),x.demTexture.bind(m.NEAREST,m.CLAMP_TO_EDGE,m.NEAREST),d.activeTexture.set(m.TEXTURE4),A.demTexture.bind(m.NEAREST,m.CLAMP_TO_EDGE,m.NEAREST),_.u_dem_lerp=z):(x=this.terrainTileForTile[a.tileID.key],d.activeTexture.set(m.TEXTURE2),(this._prepareDemTileUniforms(a,x,_)?x.demTexture:this.emptyDEMTexture).bind(m.NEAREST,m.CLAMP_TO_EDGE)),d.activeTexture.set(m.TEXTURE3),h&&h.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(m.NEAREST,m.CLAMP_TO_EDGE),this._depthFBO&&(_.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(m.NEAREST,m.CLAMP_TO_EDGE),_.u_depth_size_inv=[1,1]),h&&h.useMeterToDem&&x){let E=(1<<x.tileID.canonical.z)*o.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;_.u_meter_to_dem=E}if(h&&h.labelPlaneMatrixInv&&(_.u_label_plane_matrix_inv=h.labelPlaneMatrixInv),r.setTerrainUniformValues(d,_),this.painter.transform.projection.name==="globe"){let E=this.globeUniformValues(this.painter.transform,a.tileID.canonical,h&&h.useDenormalizedUpVectorScale);r.setGlobeUniformValues(d,E)}}globeUniformValues(a,r,h){let d=a.projection;return{u_tile_tl_up:d.upVector(r,0,0),u_tile_tr_up:d.upVector(r,o.EXTENT,0),u_tile_br_up:d.upVector(r,o.EXTENT,o.EXTENT),u_tile_bl_up:d.upVector(r,0,o.EXTENT),u_tile_up_scale:h?o.globeMetersToEcef(1):d.upVectorScale(r,a.center.lat,a.worldSize).metersToTile}}renderToBackBuffer(a){let r=this.painter,h=this.painter.context;a.length!==0&&(h.bindFramebuffer.set(null),h.viewport.set([0,0,r.width,r.height]),r.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(d,m,_,y,x){if(d.transform.projection.name==="globe")(function(A,z,E,k,R){let F=A.context,B=F.gl,N,S,O=A.options.showTerrainWireframe?2:0,H=A.transform,G=o.globeUseCustomAntiAliasing(A,F,H),J=(Ie,de)=>{if(S===Ie)return;let be=[rr[Ie],"PROJECTION_GLOBE_VIEW"];G&&be.push("CUSTOM_ANTIALIASING"),de&&be.push(rr[O]),N=A.useProgram("globeRaster",null,be),S=Ie},ee=A.colorModeForRenderPass(),Q=new o.DepthMode(B.LEQUAL,o.DepthMode.ReadWrite,A.depthRangeFor3D);gn.update(R);let se=o.calculateGlobeMercatorMatrix(H),oe=[o.mercatorXfromLng(H.center.lng),o.mercatorYfromLat(H.center.lat)],pe=O?[!1,!0]:[!1],Pe=A.globeSharedBuffers,he=[H.width*o.exported.devicePixelRatio,H.height*o.exported.devicePixelRatio],we=Float32Array.from(H.globeMatrix),fe={useDenormalizedUpVectorScale:!0};if(pe.forEach(Ie=>{let de=A.transform,be=Is(de.zoom)*z.exaggeration();S=-1;let De=Ie?B.LINES:B.TRIANGLES;for(let Te of k){let Re=E.getTile(Te),nt=o.StencilMode.disabled,dt=z.prevTerrainTileForTile[Te.key],Ke=z.terrainTileForTile[Te.key];Or(dt,Ke)&&gn.newMorphing(Te.key,dt,Ke,R,250),F.activeTexture.set(B.TEXTURE0),Re.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE);let st=gn.getMorphValuesForProxy(Te.key),It=st?1:0;st&&o.extend$1(fe,{morphing:{srcDemTile:st.from,dstDemTile:st.to,phase:o.easeCubicInOut(st.phase)}});let Et=o.tileCornersToBounds(Te.canonical),tt=o.getLatitudinalLod(Et.getCenter().lat),qt=o.getGridMatrix(Te.canonical,Et,tt,de.worldSize/de._pixelsPerMercatorPixel),Wt=o.globeNormalizeECEF(o.globeTileBounds(Te.canonical)),Xt=Ls(de.projMatrix,we,se,Wt,o.globeToMercatorTransition(de.zoom),oe,de.frustumCorners.TL,de.frustumCorners.TR,de.frustumCorners.BR,de.frustumCorners.BL,de.globeCenterInViewSpace,de.globeRadius,he,be,qt);if(J(It,Ie),z.setupElevationDraw(Re,N,fe),A.prepareDrawProgram(F,N,Te.toUnwrapped()),Pe){let[Kt,ra,ji]=Ie?Pe.getWirefameBuffers(A.context,tt):Pe.getGridBuffers(tt,be!==0);N.draw(F,De,Q,nt,ee,o.CullFaceMode.backCCW,Xt,"globe_raster",Kt,ra,ji)}}}),Pe){let Ie=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];G&&Ie.push("CUSTOM_ANTIALIASING"),N=A.useProgram("globeRaster",null,Ie);for(let de of k){let{x:be,y:De,z:Te}=de.canonical,Re=De===0,nt=De===(1<<Te)-1,[dt,Ke,st,It]=Pe.getPoleBuffers(Te);if(It&&(Re||nt)){let Et=E.getTile(de);F.activeTexture.set(B.TEXTURE0),Et.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE);let tt=o.globePoleMatrixForTile(Te,be,H),qt=o.globeNormalizeECEF(o.globeTileBounds(de.canonical)),Wt=(Xt,Kt)=>Xt.draw(F,B.TRIANGLES,Q,o.StencilMode.disabled,ee,o.CullFaceMode.disabled,Ls(H.projMatrix,tt,tt,qt,0,oe,H.frustumCorners.TL,H.frustumCorners.TR,H.frustumCorners.BR,H.frustumCorners.BL,H.globeCenterInViewSpace,H.globeRadius,he,0),"globe_pole_raster",Kt,st,It);z.setupElevationDraw(Et,N,fe),A.prepareDrawProgram(F,N,de.toUnwrapped()),Re&&Wt(N,dt),nt&&(tt=o.scale(o.create(),tt,[1,-1,1]),Wt(N,Ke))}}}})(d,m,_,y,x);else{let A=d.context,z=A.gl,E,k,R=d.options.showTerrainWireframe?2:0,F=(H,G)=>{if(k===H)return;let J=[rr[H]];G&&J.push(rr[R]),E=d.useProgram("terrainRaster",null,J),k=H},B=d.colorModeForRenderPass(),N=new o.DepthMode(z.LEQUAL,o.DepthMode.ReadWrite,d.depthRangeFor3D);gn.update(x);let S=d.transform,O=Is(S.zoom)*m.exaggeration();(R?[!1,!0]:[!1]).forEach(H=>{k=-1;let G=H?z.LINES:z.TRIANGLES,[J,ee]=H?m.getWirefameBuffer():[m.gridIndexBuffer,m.gridSegments];for(let Q of y){let se=_.getTile(Q),oe=o.StencilMode.disabled,pe=m.prevTerrainTileForTile[Q.key],Pe=m.terrainTileForTile[Q.key];Or(pe,Pe)&&gn.newMorphing(Q.key,pe,Pe,x,250),A.activeTexture.set(z.TEXTURE0),se.texture.bind(z.LINEAR,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST);let he=gn.getMorphValuesForProxy(Q.key),we=he?1:0,fe;he&&(fe={morphing:{srcDemTile:he.from,dstDemTile:he.to,phase:o.easeCubicInOut(he.phase)}});let Ie=Dr(Q.projMatrix,F0(Q.canonical,S.renderWorldCopies)?O/10:O);F(we,H),m.setupElevationDraw(se,E,fe),d.prepareDrawProgram(A,E,Q.toUnwrapped()),E.draw(A,G,N,oe,B,o.CullFaceMode.backCCW,Ie,"terrain_raster",m.gridBuffer,J,ee)}})}}(r,this,this.proxySourceCache,a,this._updateTimestamp),this.renderingToTexture=!0,r.gpuTimingDeferredRenderEnd(),a.splice(0,a.length))}renderBatch(a){if(this._drapedRenderBatches.length===0)return a+1;this.renderingToTexture=!0;let r=this.painter,h=this.painter.context,d=this.proxySourceCache,m=this.proxiedCoords[d.id],_=this._drapedRenderBatches.shift(),y=[],x=r.style.order,A=0;for(let z of m){let E=d.getTileByID(z.proxyTileKey),k=d.proxyCachedFBO[z.key]?d.proxyCachedFBO[z.key][a]:void 0,R=k!==void 0?d.renderCache[k]:this.pool[A++],F=k!==void 0;if(E.texture=R.tex,F&&!R.dirty){y.push(E.tileID);continue}let B;h.bindFramebuffer.set(R.fb.framebuffer),this.renderedToTile=!1,R.dirty&&(h.clear({color:o.Color.transparent,stencil:0}),R.dirty=!1);for(let N=_.start;N<=_.end;++N){let S=r.style._layers[x[N]];if(S.isHidden(r.transform.zoom))continue;let O=r.style._getLayerSourceCache(S),H=O?this.proxyToSource[z.key][O.id]:[z];if(!H)continue;let G=H;h.viewport.set([0,0,R.fb.width,R.fb.height]),B!==(O?O.id:null)&&(this._setupStencil(R,H,S,O),B=O?O.id:null),r.renderLayer(r,O,S,G)}this.renderedToTile?(R.dirty=!0,y.push(E.tileID)):F||--A,A===5&&(A=0,this.renderToBackBuffer(y))}return this.renderToBackBuffer(y),this.renderingToTexture=!1,h.bindFramebuffer.set(null),h.viewport.set([0,0,r.width,r.height]),_.end+1}postRender(){}renderCacheEfficiency(a){let r=a.order.length;if(r===0)return{efficiency:100};let h,d=0,m=0,_=!1;for(let y=0;y<r;++y){let x=a._layers[a.order[y]];this._style.isLayerDraped(x)?(_&&++d,++m):_||(_=!0,h=x.id)}return m===0?{efficiency:100}:{efficiency:100*(1-d/m),firstUndrapedLayer:h}}getMinElevationBelowMSL(){let a=0;return this._visibleDemTiles.filter(r=>r.dem).forEach(r=>{a=Math.min(a,r.dem.tree.minimums[0])}),a===0?a:(a-30)*this._exaggeration}raycast(a,r,h){if(!this._visibleDemTiles)return null;let d=this._visibleDemTiles.filter(m=>m.dem).map(m=>{let _=m.tileID,y=1<<_.overscaledZ,{x,y:A}=_.canonical,z=x/y,E=(x+1)/y,k=A/y,R=(A+1)/y;return{minx:z,miny:k,maxx:E,maxy:R,t:m.dem.tree.raycastRoot(z,k,E,R,a,r,h),tile:m}});d.sort((m,_)=>(m.t!==null?m.t:Number.MAX_VALUE)-(_.t!==null?_.t:Number.MAX_VALUE));for(let m of d){if(m.t==null)return null;let _=m.tile.dem.tree.raycast(m.minx,m.miny,m.maxx,m.maxy,a,r,h);if(_!=null)return _}return null}_createFBO(){let a=this.painter.context,r=a.gl,h=this.drapeBufferSize;a.activeTexture.set(r.TEXTURE0);let d=new o.Texture(a,{width:h[0],height:h[1],data:null},r.RGBA);d.bind(r.LINEAR,r.CLAMP_TO_EDGE);let m=a.createFramebuffer(h[0],h[1],!1);return m.colorAttachment.set(d.texture),m.depthAttachment=new ne(a,m.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=a.createRenderbuffer(a.gl.DEPTH_STENCIL,h[0],h[1]),this._stencilRef=0,m.depthAttachment.set(this._sharedDepthStencil),a.clear({stencil:0})):m.depthAttachment.set(this._sharedDepthStencil),a.extTextureFilterAnisotropic&&!a.extTextureFilterAnisotropicForceOff&&r.texParameterf(r.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax),{fb:m,tex:d,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(let a in this._style._sourceCaches)if(this._style._sourceCaches[a].hasTransition())return!0;return this._style.order.some(a=>{let r=this._style._layers[a],h=r.isHidden(this.painter.transform.zoom);return r.type==="custom"?!h&&r.shouldRedrape():!h&&r.hasTransition()})}_clearLineLayersFromRenderCache(){let a=!1;for(let h of this._style._getSources())if(h instanceof Ue){a=!0;break}if(!a)return;let r={};for(let h=0;h<this._style.order.length;++h){let d=this._style._layers[this._style.order[h]],m=this._style._getLayerSourceCache(d);if(m&&!r[m.id]&&!d.isHidden(this.painter.transform.zoom)&&d.type==="line"&&d.widthExpression()instanceof o.ZoomDependentExpression){r[m.id]=!0;for(let _ of this.proxyCoords){let y=this.proxyToSource[_.key][m.id];if(y)for(let x of y)this._clearRenderCacheForTile(m.id,x)}}}}_clearRasterLayersFromRenderCache(){let a=!1;for(let h in this._style._sourceCaches)if(this._style._sourceCaches[h]._source instanceof Be){a=!0;break}if(!a)return;let r={};for(let h=0;h<this._style.order.length;++h){let d=this._style._layers[this._style.order[h]],m=this._style._getLayerSourceCache(d);if(!m||r[m.id]||d.isHidden(this.painter.transform.zoom)||d.type!=="raster")continue;let _=d.paint.get("raster-fade-duration");for(let y of this.proxyCoords){let x=this.proxyToSource[y.key][m.id];if(x)for(let A of x){let z=hc(m.getTile(A),m.findLoadedParent(A,0),m,this.painter.transform,_);(z.opacity!==1||z.mix!==0)&&this._clearRenderCacheForTile(m.id,A)}}}}_setupDrapedRenderBatches(){let a=this._style.order,r=a.length;if(r===0)return;let h=[],d,m=0,_=this._style._layers[a[m]];for(;!this._style.isLayerDraped(_)&&_.isHidden(this.painter.transform.zoom)&&++m<r;)_=this._style._layers[a[m]];for(;m<r;++m){let y=this._style._layers[a[m]];y.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(y)?d===void 0&&(d=m):d!==void 0&&(h.push({start:d,end:m-1}),d=void 0))}d!==void 0&&h.push({start:d,end:m-1}),this._drapedRenderBatches=h}_setupRenderCache(a){let r=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,r.renderCache.length>r.renderCachePool.length){let _=Object.values(r.proxyCachedFBO);r.proxyCachedFBO={};for(let y=0;y<_.length;++y){let x=Object.values(_[y]);r.renderCachePool.push(...x)}}return}this._clearRasterLayersFromRenderCache();let h=this.proxyCoords,d=this._tilesDirty;for(let _=h.length-1;_>=0;_--){let y=h[_];if(r.getTileByID(y.key),r.proxyCachedFBO[y.key]!==void 0){let x=a[y.key],A=this.proxyToSource[y.key],z=0;for(let E in A){let k=A[E],R=x[E];if(!R||R.length!==k.length||k.some((F,B)=>F!==R[B]||d[E]&&d[E].hasOwnProperty(F.key))){z=-1;break}++z}for(let E in r.proxyCachedFBO[y.key])r.renderCache[r.proxyCachedFBO[y.key][E]].dirty=z<0||z!==Object.values(x).length}}let m=[...this._drapedRenderBatches];m.sort((_,y)=>y.end-y.start-(_.end-_.start));for(let _ of m)for(let y of h){if(r.proxyCachedFBO[y.key])continue;let x=r.renderCachePool.pop();x===void 0&&r.renderCache.length<50&&(x=r.renderCache.length,r.renderCache.push(this._createFBO())),x!==void 0&&(r.proxyCachedFBO[y.key]={},r.proxyCachedFBO[y.key][_.start]=x,r.renderCache[x].dirty=!0)}this._tilesDirty={}}_setupStencil(a,r,h,d){if(!d||!this._sourceTilesOverlap[d.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));let m=this.painter.context,_=m.gl;if(r.length<=1)return void(this._overlapStencilType=!1);let y;if(h.isTileClipped())y=r.length,this._overlapStencilMode.test={func:_.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(r[0].overscaledZ>r[r.length-1].overscaledZ))return void(this._overlapStencilType=!1);y=1,this._overlapStencilMode.test={func:_.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+y>255&&(m.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=y,this._overlapStencilMode.ref=this._stencilRef,h.isTileClipped()&&this._renderTileClippingMasks(r,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(a){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[a.key]),this._overlapStencilMode):o.StencilMode.disabled}_renderTileClippingMasks(a,r){let h=this.painter,d=this.painter.context,m=d.gl;h._tileClippingMaskIDs={},d.setColorMode(o.ColorMode.disabled),d.setDepthMode(o.DepthMode.disabled);let _=h.useProgram("clippingMask");for(let y of a){let x=h._tileClippingMaskIDs[y.key]=--r;_.draw(d,m.TRIANGLES,o.DepthMode.disabled,new o.StencilMode({func:m.ALWAYS,mask:0},x,255,m.KEEP,m.KEEP,m.REPLACE),o.ColorMode.disabled,o.CullFaceMode.disabled,ko(y.projMatrix),"$clipping",h.tileExtentBuffer,h.quadTriangleIndexBuffer,h.tileExtentSegments)}}pointCoordinate(a){let r=this.painter.transform;if(a.x<0||a.x>r.width||a.y<0||a.y>r.height)return null;let h=[a.x,a.y,1,1];o.transformMat4$1(h,h,r.pixelMatrixInverse),o.scale$1(h,h,1/h[3]),h[0]/=r.worldSize,h[1]/=r.worldSize;let d=r._camera.position,m=o.mercatorZfromAltitude(1,r.center.lat),_=[d[0],d[1],d[2]/m,0],y=o.subtract([],h.slice(0,3),_);o.normalize(y,y);let x=this.raycast(_,y,this._exaggeration);return x!==null&&x?(o.scaleAndAdd(_,_,y,x),_[3]=_[2],_[2]*=m,_):null}drawDepth(){let a=this.painter,r=a.context,h=this.proxySourceCache,d=Math.ceil(a.width),m=Math.ceil(a.height);if(!this._depthFBO||this._depthFBO.width===d&&this._depthFBO.height===m||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){let _=r.gl,y=r.createFramebuffer(d,m,!0);r.activeTexture.set(_.TEXTURE0);let x=new o.Texture(r,{width:d,height:m,data:null},_.RGBA);x.bind(_.NEAREST,_.CLAMP_TO_EDGE),y.colorAttachment.set(x.texture);let A=r.createRenderbuffer(r.gl.DEPTH_COMPONENT16,d,m);y.depthAttachment.set(A),this._depthFBO=y,this._depthTexture=x}r.bindFramebuffer.set(this._depthFBO.framebuffer),r.viewport.set([0,0,d,m]),function(_,y,x,A){if(_.transform.projection.name==="globe")return;let z=_.context,E=z.gl;z.clear({depth:1});let k=_.useProgram("terrainDepth"),R=new o.DepthMode(E.LESS,o.DepthMode.ReadWrite,_.depthRangeFor3D);for(let F of A){let B=x.getTile(F),N=Dr(F.projMatrix,0);y.setupElevationDraw(B,k),k.draw(z,E.TRIANGLES,R,o.StencilMode.disabled,o.ColorMode.unblended,o.CullFaceMode.backCCW,N,"terrain_depth",y.gridBuffer,y.gridIndexBuffer,y.gridNoSkirtSegments)}}(a,this,h,this.proxyCoords)}_setupProxiedCoordsForOrtho(a,r,h){if(a.getSource()instanceof Tt)return this._setupProxiedCoordsForImageSource(a,r,h);this._findCoveringTileCache[a.id]=this._findCoveringTileCache[a.id]||{};let d=this.proxiedCoords[a.id]=[],m=this.proxyCoords;for(let y=0;y<m.length;y++){let x=m[y],A=this._findTileCoveringTileID(x,a);if(A){let z=this._createProxiedId(x,A,h[x.key]&&h[x.key][a.id]);d.push(z),this.proxyToSource[x.key][a.id]=[z]}}let _=!1;for(let y=0;y<r.length;y++){let x=a.getTile(r[y]);if(!x||!x.hasData())continue;let A=this._findTileCoveringTileID(x.tileID,this.proxySourceCache);if(A&&A.tileID.canonical.z!==x.tileID.canonical.z){let z=this.proxyToSource[A.tileID.key][a.id],E=this._createProxiedId(A.tileID,x,h[A.tileID.key]&&h[A.tileID.key][a.id]);z?z.splice(z.length-1,0,E):this.proxyToSource[A.tileID.key][a.id]=[E],d.push(E),_=!0}}this._sourceTilesOverlap[a.id]=_}_setupProxiedCoordsForImageSource(a,r,h){if(!a.getSource().loaded())return;let d=this.proxiedCoords[a.id]=[],m=this.proxyCoords,_=a.getSource(),y=new o.Point(_.tileID.x,_.tileID.y)._div(1<<_.tileID.z),x=_.coordinates.map(o.MercatorCoordinate.fromLngLat).reduce((z,E)=>(z.min.x=Math.min(z.min.x,E.x-y.x),z.min.y=Math.min(z.min.y,E.y-y.y),z.max.x=Math.max(z.max.x,E.x-y.x),z.max.y=Math.max(z.max.y,E.y-y.y),z),{min:new o.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new o.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),A=(z,E)=>{let k=z.wrap+z.canonical.x/(1<<z.canonical.z),R=z.canonical.y/(1<<z.canonical.z),F=o.EXTENT/(1<<z.canonical.z),B=E.wrap+E.canonical.x/(1<<E.canonical.z),N=E.canonical.y/(1<<E.canonical.z);return k+F<B+x.min.x||k>B+x.max.x||R+F<N+x.min.y||R>N+x.max.y};for(let z=0;z<m.length;z++){let E=m[z];for(let k=0;k<r.length;k++){let R=a.getTile(r[k]);if(!R||!R.hasData()||A(E,R.tileID))continue;let F=this._createProxiedId(E,R,h[E.key]&&h[E.key][a.id]),B=this.proxyToSource[E.key][a.id];B?B.push(F):this.proxyToSource[E.key][a.id]=[F],d.push(F)}}}_createProxiedId(a,r,h){let d=this.orthoMatrix;if(h){let m=h.find(_=>_.key===r.tileID.key);if(m)return m}if(r.tileID.key!==a.key){let m=a.canonical.z-r.tileID.canonical.z,_,y,x;d=o.create();let A=r.tileID.wrap-a.wrap<<a.overscaledZ;m>0?(_=o.EXTENT>>m,y=_*((r.tileID.canonical.x<<m)-a.canonical.x+A),x=_*((r.tileID.canonical.y<<m)-a.canonical.y)):(_=o.EXTENT<<-m,y=o.EXTENT*(r.tileID.canonical.x-(a.canonical.x+A<<-m)),x=o.EXTENT*(r.tileID.canonical.y-(a.canonical.y<<-m))),o.ortho(d,0,_,0,_,0,1),o.translate(d,d,[y,x,0])}return new ks(r.tileID,a.key,d)}_findTileCoveringTileID(a,r){let h=r.getTile(a);if(h&&h.hasData())return h;let d=this._findCoveringTileCache[r.id],m=d[a.key];if(h=m?r.getTileByID(m):null,h&&h.hasData()||m===null)return h;let _=h?h.tileID:a,y=_.overscaledZ,x=r.getSource().minzoom,A=[];if(!m){let E=r.getSource().maxzoom;if(a.canonical.z>=E){let k=a.canonical.z-E;r.getSource().reparseOverscaled?(y=Math.max(a.canonical.z+2,r.transform.tileZoom),_=new o.OverscaledTileID(y,a.wrap,E,a.canonical.x>>k,a.canonical.y>>k)):k!==0&&(y=E,_=new o.OverscaledTileID(y,a.wrap,E,a.canonical.x>>k,a.canonical.y>>k))}_.key!==a.key&&(A.push(_.key),h=r.getTile(_))}let z=E=>{A.forEach(k=>{d[k]=E}),A.length=0};for(y-=1;y>=x&&(!h||!h.hasData());y--){h&&z(h.tileID.key);let E=_.calculateScaledKey(y);if(h=r.getTileByID(E),h&&h.hasData())break;let k=d[E];if(k===null)break;k===void 0?A.push(E):h=r.getTileByID(k)}return z(h?h.tileID.key:null),h&&h.hasData()?h:null}findDEMTileFor(a){return this.enabled?this._findTileCoveringTileID(a,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(a,r){let h=this._tilesDirty[a];h||(h=this._tilesDirty[a]={}),h[r.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){let a=function(r){let h=0,d=new o.StructArrayLayout2ui4,m=131;for(let _=1;_<129;_++){for(let y=1;y<129;y++)h=_*m+y,d.emplaceBack(h,h+1),d.emplaceBack(h,h+m),d.emplaceBack(h+1,h+m),_===128&&d.emplaceBack(h+m,h+m+1);d.emplaceBack(h+1,h+1+m)}return d}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(a),this.wireframeSegments=o.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,a.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Bt{static cacheKey(a,r,h,d){let m=`${r}${d?d.cacheKey:""}`;for(let _ of h)a.usedDefines.includes(_)&&(m+=`/${_}`);return m}constructor(a,r,h,d,m,_){let y=a.gl;this.program=y.createProgram();let x=function(S){let O=[];for(let H=0;H<S.length;H++){if(S[H]===null)continue;let G=S[H].split(" ");O.push(G.pop())}return O}(h.staticAttributes),A=d?d.getBinderAttributes():[],z=x.concat(A),E=d?d.defines():[];E=E.concat(_.map(S=>`#define ${S}`));let k=a.isWebGL2?`#version 300 es
`:"",R=k+E.concat(a.extStandardDerivatives&&k.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(rc):rc,rc,Ss,O0.fragmentSource,Pr.fragmentSource,h.fragmentSource).join(`
`),F=k+E.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Ss,O0.vertexSource,Pr.vertexSource,Es.vertexSource,h.vertexSource).join(`
`),B=y.createShader(y.FRAGMENT_SHADER);if(y.isContextLost())return void(this.failedToCreate=!0);y.shaderSource(B,R),y.compileShader(B),y.attachShader(this.program,B);let N=y.createShader(y.VERTEX_SHADER);if(y.isContextLost())this.failedToCreate=!0;else{y.shaderSource(N,F),y.compileShader(N),y.attachShader(this.program,N),this.attributes={},this.numAttributes=z.length;for(let S=0;S<this.numAttributes;S++)z[S]&&(y.bindAttribLocation(this.program,S,z[S]),this.attributes[z[S]]=S);y.linkProgram(this.program),y.deleteShader(N),y.deleteShader(B),this.fixedUniforms=m(a),this.binderUniforms=d?d.getUniforms(a):[],_.includes("TERRAIN")&&(this.terrainUniforms=(S=>({u_dem:new o.Uniform1i(S),u_dem_prev:new o.Uniform1i(S),u_dem_unpack:new o.Uniform4f(S),u_dem_tl:new o.Uniform2f(S),u_dem_scale:new o.Uniform1f(S),u_dem_tl_prev:new o.Uniform2f(S),u_dem_scale_prev:new o.Uniform1f(S),u_dem_size:new o.Uniform1f(S),u_dem_lerp:new o.Uniform1f(S),u_exaggeration:new o.Uniform1f(S),u_depth:new o.Uniform1i(S),u_depth_size_inv:new o.Uniform2f(S),u_meter_to_dem:new o.Uniform1f(S),u_label_plane_matrix_inv:new o.UniformMatrix4f(S)}))(a)),_.includes("GLOBE")&&(this.globeUniforms=(S=>({u_tile_tl_up:new o.Uniform3f(S),u_tile_tr_up:new o.Uniform3f(S),u_tile_br_up:new o.Uniform3f(S),u_tile_bl_up:new o.Uniform3f(S),u_tile_up_scale:new o.Uniform1f(S)}))(a)),_.includes("FOG")&&(this.fogUniforms=(S=>({u_fog_matrix:new o.UniformMatrix4f(S),u_fog_range:new o.Uniform2f(S),u_fog_color:new o.Uniform4f(S),u_fog_horizon_blend:new o.Uniform1f(S),u_fog_temporal_offset:new o.Uniform1f(S),u_frustum_tl:new o.Uniform3f(S),u_frustum_tr:new o.Uniform3f(S),u_frustum_br:new o.Uniform3f(S),u_frustum_bl:new o.Uniform3f(S),u_globe_pos:new o.Uniform3f(S),u_globe_radius:new o.Uniform1f(S),u_globe_transition:new o.Uniform1f(S),u_is_globe:new o.Uniform1i(S),u_viewport:new o.Uniform2f(S)}))(a))}}setTerrainUniformValues(a,r){if(!this.terrainUniforms)return;let h=this.terrainUniforms;if(!this.failedToCreate){a.program.set(this.program);for(let d in r)h[d]&&h[d].set(this.program,d,r[d])}}setGlobeUniformValues(a,r){if(!this.globeUniforms)return;let h=this.globeUniforms;if(!this.failedToCreate){a.program.set(this.program);for(let d in r)h[d]&&h[d].set(this.program,d,r[d])}}setFogUniformValues(a,r){if(!this.fogUniforms)return;let h=this.fogUniforms;if(!this.failedToCreate){a.program.set(this.program);for(let d in r)h[d].set(this.program,d,r[d])}}draw(a,r,h,d,m,_,y,x,A,z,E,k,R,F,B){let N=a.gl;if(this.failedToCreate)return;a.program.set(this.program),a.setDepthMode(h),a.setStencilMode(d),a.setColorMode(m),a.setCullFace(_);for(let O of Object.keys(this.fixedUniforms))this.fixedUniforms[O].set(this.program,O,y[O]);F&&F.setUniforms(this.program,a,this.binderUniforms,k,{zoom:R});let S={[N.LINES]:2,[N.TRIANGLES]:3,[N.LINE_STRIP]:1}[r];for(let O of E.get()){let H=O.vaos||(O.vaos={});(H[x]||(H[x]=new Ah)).bind(a,this,A,F?F.getPaintVertexBuffers():[],z,O.vertexOffset,B||[]),N.drawElements(r,O.primitiveLength*S,N.UNSIGNED_SHORT,O.primitiveOffset*S*2)}}}function Do(l,a){let r=Math.pow(2,a.tileID.overscaledZ),h=a.tileSize*Math.pow(2,l.transform.tileZoom)/r,d=h*(a.tileID.canonical.x+a.tileID.wrap*r),m=h*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_tile_units_to_pixels:1/Fi(a,1,l.transform.tileZoom),u_pixel_coord_upper:[d>>16,m>>16],u_pixel_coord_lower:[65535&d,65535&m]}}let V0=o.create(),pc=(l,a,r,h,d,m,_,y,x,A,z)=>{let E=a.style.light,k=E.properties.get("position"),R=[k.x,k.y,k.z],F=o.create$1();E.properties.get("anchor")==="viewport"&&(o.fromRotation(F,-a.transform.angle),o.transformMat3(R,R,F));let B=E.properties.get("color"),N=a.transform,S={u_matrix:l,u_lightpos:R,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[B.r,B.g,B.b],u_vertical_gradient:+r,u_opacity:h,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:V0,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:d,u_edge_radius:m};return N.projection.name==="globe"&&(S.u_tile_id=[_.canonical.x,_.canonical.y,1<<_.canonical.z],S.u_zoom_transition=x,S.u_inv_rot_matrix=z,S.u_merc_center=A,S.u_up_dir=N.projection.upVector(new o.CanonicalTileID(0,0,0),A[0]*o.EXTENT,A[1]*o.EXTENT),S.u_height_lift=y),S},N0=(l,a,r,h,d,m,_,y,x,A,z,E)=>{let k=pc(l,a,r,h,d,m,_,x,A,z,E),R={u_height_factor:-Math.pow(2,_.overscaledZ)/y.tileSize/8};return o.extend(k,Do(a,y),R)},or=l=>({u_matrix:l}),mc=(l,a,r)=>o.extend(or(l),Do(a,r)),Th=(l,a)=>({u_matrix:l,u_world:a}),Ch=(l,a,r,h)=>o.extend(mc(l,a,r),{u_world:h}),Eh=o.create(),fc=(l,a,r,h,d,m)=>{let _=l.transform,y=_.projection.name==="globe",x;if(m.paint.get("circle-pitch-alignment")==="map")if(y){let z=o.globePixelsToTileUnits(_.zoom,a.canonical)*_._pixelsPerMercatorPixel;x=Float32Array.from([z,0,0,z])}else x=_.calculatePixelsToTileUnitsMatrix(r);else x=new Float32Array([_.pixelsToGLUnits[0],0,0,_.pixelsToGLUnits[1]]);let A={u_camera_to_center_distance:_.cameraToCenterDistance,u_matrix:l.translatePosMatrix(a.projMatrix,r,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_device_pixel_ratio:o.exported.devicePixelRatio,u_extrude_scale:x,u_inv_rot_matrix:Eh,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(y){A.u_inv_rot_matrix=h,A.u_merc_center=d,A.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],A.u_zoom_transition=o.globeToMercatorTransition(_.zoom);let z=d[0]*o.EXTENT,E=d[1]*o.EXTENT;A.u_up_dir=_.projection.upVector(new o.CanonicalTileID(0,0,0),z,E)}return A},gc=l=>{let a=[];return l.paint.get("circle-pitch-alignment")==="map"&&a.push("PITCH_WITH_MAP"),l.paint.get("circle-pitch-scale")==="map"&&a.push("SCALE_WITH_MAP"),a},_c=(l,a,r,h)=>{let d=o.EXTENT/r.tileSize;return{u_matrix:l,u_camera_to_center_distance:a.getCameraToCenterDistance(h),u_extrude_scale:[a.pixelsToGLUnits[0]/d,a.pixelsToGLUnits[1]/d]}},Ds=(l,a,r=1)=>({u_matrix:l,u_color:a,u_overlay:0,u_overlay_scale:r}),U0=o.create(),j0=(l,a,r,h,d,m,_)=>{let y=l.transform,x=y.projection.name==="globe",A=x?o.globePixelsToTileUnits(y.zoom,a.canonical)*y._pixelsPerMercatorPixel:Fi(r,1,m),z={u_matrix:a.projMatrix,u_extrude_scale:A,u_intensity:_,u_inv_rot_matrix:U0,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(x){z.u_inv_rot_matrix=h,z.u_merc_center=d,z.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],z.u_zoom_transition=o.globeToMercatorTransition(y.zoom);let E=d[0]*o.EXTENT,k=d[1]*o.EXTENT;z.u_up_dir=y.projection.upVector(new o.CanonicalTileID(0,0,0),E,k)}return z},Sh=(l,a,r,h,d,m,_)=>{let y=l.transform,x=y.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:yc(l,a,r,h),u_pixels_to_tile_units:x,u_device_pixel_ratio:m,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:d,u_texsize:Ro(r)?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Rr(a,l.transform),u_alpha_discard_threshold:0,u_trim_offset:_}},Oo=(l,a,r,h,d)=>{let m=l.transform;return{u_matrix:yc(l,a,r,h),u_texsize:a.imageAtlasTexture.size,u_pixels_to_tile_units:m.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:d,u_image:0,u_tile_units_to_pixels:Rr(a,m),u_units_to_pixels:[1/m.pixelsToGLUnits[0],1/m.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Rr(l,a){return 1/Fi(l,1,a.tileZoom)}function yc(l,a,r,h){return l.translatePosMatrix(h||a.tileID.projMatrix,a,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}function Ro(l){let a=l.paint.get("line-dasharray").value;return a.value||a.kind!=="constant"}let vc=(l,a,r,h,d,m)=>{return{u_matrix:l,u_tl_parent:a,u_scale_parent:r,u_fade_t:h.mix,u_opacity:h.opacity*d.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:d.paint.get("raster-brightness-min"),u_brightness_high:d.paint.get("raster-brightness-max"),u_saturation_factor:(y=d.paint.get("raster-saturation"),y>0?1-1/(1.001-y):-y),u_contrast_factor:(_=d.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:Xa(d.paint.get("raster-hue-rotate")),u_perspective_transform:m};var _,y};function Xa(l){l*=Math.PI/180;let a=Math.sin(l),r=Math.cos(l);return[(2*r+1)/3,(-Math.sqrt(3)*a-r+1)/3,(Math.sqrt(3)*a-r+1)/3]}let Os=o.create(),xc=(l,a,r,h,d,m,_,y,x,A,z,E,k,R,F,B)=>{let N=d.transform,S={u_is_size_zoom_constant:+(l==="constant"||l==="source"),u_is_size_feature_constant:+(l==="constant"||l==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:N.cameraToCenterDistance,u_rotate_symbol:+r,u_aspect_ratio:N.width/N.height,u_fade_change:d.options.fadeDuration?d.symbolFadeChange:1,u_matrix:m,u_label_plane_matrix:_,u_coord_matrix:y,u_is_text:+x,u_pitch_with_map:+h,u_texsize:A,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Os,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Os,u_up_vector:[0,-1,0]};return B.name==="globe"&&(S.u_tile_id=[z.canonical.x,z.canonical.y,1<<z.canonical.z],S.u_zoom_transition=E,S.u_inv_rot_matrix=R,S.u_merc_center=k,S.u_camera_forward=N._camera.forward(),S.u_ecef_origin=o.globeECEFOrigin(N.globeMatrix,z.toUnwrapped()),S.u_tile_matrix=Float32Array.from(N.globeMatrix),S.u_up_vector=F),S},Rs=(l,a,r,h,d,m,_,y,x,A,z,E,k,R,F,B,N)=>o.extend(xc(l,a,r,h,d,m,_,y,x,A,E,k,R,F,B,N),{u_gamma_scale:h?d.transform.cameraToCenterDistance*Math.cos(d.terrain?0:d.transform._pitch):1,u_device_pixel_ratio:o.exported.devicePixelRatio,u_is_halo:+z}),H0=(l,a,r,h,d,m,_,y,x,A,z,E,k,R,F,B)=>o.extend(Rs(l,a,r,h,d,m,_,y,!0,x,!0,z,E,k,R,F,B),{u_texsize_icon:A,u_texture_icon:1}),bc=(l,a,r)=>({u_matrix:l,u_opacity:a,u_color:r}),Lh=(l,a,r,h,d)=>o.extend(function(m,_,y){let x=_.imageManager.getPattern(m.toString()),{width:A,height:z}=_.imageManager.getPixelSize(),E=Math.pow(2,y.tileID.overscaledZ),k=y.tileSize*Math.pow(2,_.transform.tileZoom)/E,R=k*(y.tileID.canonical.x+y.tileID.wrap*E),F=k*y.tileID.canonical.y;return{u_image:0,u_pattern_tl:x.tl,u_pattern_br:x.br,u_texsize:[A,z],u_pattern_size:x.displaySize,u_tile_units_to_pixels:1/Fi(y,1,_.transform.tileZoom),u_pixel_coord_upper:[R>>16,F>>16],u_pixel_coord_lower:[65535&R,65535&F]}}(h,r,d),{u_matrix:l,u_opacity:a}),wc={fillExtrusion:l=>({u_matrix:new o.UniformMatrix4f(l),u_lightpos:new o.Uniform3f(l),u_lightintensity:new o.Uniform1f(l),u_lightcolor:new o.Uniform3f(l),u_vertical_gradient:new o.Uniform1f(l),u_opacity:new o.Uniform1f(l),u_edge_radius:new o.Uniform1f(l),u_ao:new o.Uniform2f(l),u_tile_id:new o.Uniform3f(l),u_zoom_transition:new o.Uniform1f(l),u_inv_rot_matrix:new o.UniformMatrix4f(l),u_merc_center:new o.Uniform2f(l),u_up_dir:new o.Uniform3f(l),u_height_lift:new o.Uniform1f(l)}),fillExtrusionPattern:l=>({u_matrix:new o.UniformMatrix4f(l),u_lightpos:new o.Uniform3f(l),u_lightintensity:new o.Uniform1f(l),u_lightcolor:new o.Uniform3f(l),u_vertical_gradient:new o.Uniform1f(l),u_height_factor:new o.Uniform1f(l),u_edge_radius:new o.Uniform1f(l),u_ao:new o.Uniform2f(l),u_tile_id:new o.Uniform3f(l),u_zoom_transition:new o.Uniform1f(l),u_inv_rot_matrix:new o.UniformMatrix4f(l),u_merc_center:new o.Uniform2f(l),u_up_dir:new o.Uniform3f(l),u_height_lift:new o.Uniform1f(l),u_image:new o.Uniform1i(l),u_texsize:new o.Uniform2f(l),u_pixel_coord_upper:new o.Uniform2f(l),u_pixel_coord_lower:new o.Uniform2f(l),u_tile_units_to_pixels:new o.Uniform1f(l),u_opacity:new o.Uniform1f(l)}),fill:l=>({u_matrix:new o.UniformMatrix4f(l)}),fillPattern:l=>({u_matrix:new o.UniformMatrix4f(l),u_image:new o.Uniform1i(l),u_texsize:new o.Uniform2f(l),u_pixel_coord_upper:new o.Uniform2f(l),u_pixel_coord_lower:new o.Uniform2f(l),u_tile_units_to_pixels:new o.Uniform1f(l)}),fillOutline:l=>({u_matrix:new o.UniformMatrix4f(l),u_world:new o.Uniform2f(l)}),fillOutlinePattern:l=>({u_matrix:new o.UniformMatrix4f(l),u_world:new o.Uniform2f(l),u_image:new o.Uniform1i(l),u_texsize:new o.Uniform2f(l),u_pixel_coord_upper:new o.Uniform2f(l),u_pixel_coord_lower:new o.Uniform2f(l),u_tile_units_to_pixels:new o.Uniform1f(l)}),circle:l=>({u_camera_to_center_distance:new o.Uniform1f(l),u_extrude_scale:new o.UniformMatrix2f(l),u_device_pixel_ratio:new o.Uniform1f(l),u_matrix:new o.UniformMatrix4f(l),u_inv_rot_matrix:new o.UniformMatrix4f(l),u_merc_center:new o.Uniform2f(l),u_tile_id:new o.Uniform3f(l),u_zoom_transition:new o.Uniform1f(l),u_up_dir:new o.Uniform3f(l)}),collisionBox:l=>({u_matrix:new o.UniformMatrix4f(l),u_camera_to_center_distance:new o.Uniform1f(l),u_extrude_scale:new o.Uniform2f(l)}),collisionCircle:l=>({u_matrix:new o.UniformMatrix4f(l),u_inv_matrix:new o.UniformMatrix4f(l),u_camera_to_center_distance:new o.Uniform1f(l),u_viewport_size:new o.Uniform2f(l)}),debug:l=>({u_color:new o.UniformColor(l),u_matrix:new o.UniformMatrix4f(l),u_overlay:new o.Uniform1i(l),u_overlay_scale:new o.Uniform1f(l)}),clippingMask:l=>({u_matrix:new o.UniformMatrix4f(l)}),heatmap:l=>({u_extrude_scale:new o.Uniform1f(l),u_intensity:new o.Uniform1f(l),u_matrix:new o.UniformMatrix4f(l),u_inv_rot_matrix:new o.UniformMatrix4f(l),u_merc_center:new o.Uniform2f(l),u_tile_id:new o.Uniform3f(l),u_zoom_transition:new o.Uniform1f(l),u_up_dir:new o.Uniform3f(l)}),heatmapTexture:l=>({u_image:new o.Uniform1i(l),u_color_ramp:new o.Uniform1i(l),u_opacity:new o.Uniform1f(l)}),hillshade:l=>({u_matrix:new o.UniformMatrix4f(l),u_image:new o.Uniform1i(l),u_latrange:new o.Uniform2f(l),u_light:new o.Uniform2f(l),u_shadow:new o.UniformColor(l),u_highlight:new o.UniformColor(l),u_accent:new o.UniformColor(l)}),hillshadePrepare:l=>({u_matrix:new o.UniformMatrix4f(l),u_image:new o.Uniform1i(l),u_dimension:new o.Uniform2f(l),u_zoom:new o.Uniform1f(l),u_unpack:new o.Uniform4f(l)}),line:l=>({u_matrix:new o.UniformMatrix4f(l),u_pixels_to_tile_units:new o.UniformMatrix2f(l),u_device_pixel_ratio:new o.Uniform1f(l),u_units_to_pixels:new o.Uniform2f(l),u_dash_image:new o.Uniform1i(l),u_gradient_image:new o.Uniform1i(l),u_image_height:new o.Uniform1f(l),u_texsize:new o.Uniform2f(l),u_tile_units_to_pixels:new o.Uniform1f(l),u_alpha_discard_threshold:new o.Uniform1f(l),u_trim_offset:new o.Uniform2f(l)}),linePattern:l=>({u_matrix:new o.UniformMatrix4f(l),u_texsize:new o.Uniform2f(l),u_pixels_to_tile_units:new o.UniformMatrix2f(l),u_device_pixel_ratio:new o.Uniform1f(l),u_image:new o.Uniform1i(l),u_units_to_pixels:new o.Uniform2f(l),u_tile_units_to_pixels:new o.Uniform1f(l),u_alpha_discard_threshold:new o.Uniform1f(l)}),raster:l=>({u_matrix:new o.UniformMatrix4f(l),u_tl_parent:new o.Uniform2f(l),u_scale_parent:new o.Uniform1f(l),u_fade_t:new o.Uniform1f(l),u_opacity:new o.Uniform1f(l),u_image0:new o.Uniform1i(l),u_image1:new o.Uniform1i(l),u_brightness_low:new o.Uniform1f(l),u_brightness_high:new o.Uniform1f(l),u_saturation_factor:new o.Uniform1f(l),u_contrast_factor:new o.Uniform1f(l),u_spin_weights:new o.Uniform3f(l),u_perspective_transform:new o.Uniform2f(l)}),symbolIcon:l=>({u_is_size_zoom_constant:new o.Uniform1i(l),u_is_size_feature_constant:new o.Uniform1i(l),u_size_t:new o.Uniform1f(l),u_size:new o.Uniform1f(l),u_camera_to_center_distance:new o.Uniform1f(l),u_rotate_symbol:new o.Uniform1i(l),u_aspect_ratio:new o.Uniform1f(l),u_fade_change:new o.Uniform1f(l),u_matrix:new o.UniformMatrix4f(l),u_label_plane_matrix:new o.UniformMatrix4f(l),u_coord_matrix:new o.UniformMatrix4f(l),u_is_text:new o.Uniform1i(l),u_pitch_with_map:new o.Uniform1i(l),u_texsize:new o.Uniform2f(l),u_tile_id:new o.Uniform3f(l),u_zoom_transition:new o.Uniform1f(l),u_inv_rot_matrix:new o.UniformMatrix4f(l),u_merc_center:new o.Uniform2f(l),u_camera_forward:new o.Uniform3f(l),u_tile_matrix:new o.UniformMatrix4f(l),u_up_vector:new o.Uniform3f(l),u_ecef_origin:new o.Uniform3f(l),u_texture:new o.Uniform1i(l)}),symbolSDF:l=>({u_is_size_zoom_constant:new o.Uniform1i(l),u_is_size_feature_constant:new o.Uniform1i(l),u_size_t:new o.Uniform1f(l),u_size:new o.Uniform1f(l),u_camera_to_center_distance:new o.Uniform1f(l),u_rotate_symbol:new o.Uniform1i(l),u_aspect_ratio:new o.Uniform1f(l),u_fade_change:new o.Uniform1f(l),u_matrix:new o.UniformMatrix4f(l),u_label_plane_matrix:new o.UniformMatrix4f(l),u_coord_matrix:new o.UniformMatrix4f(l),u_is_text:new o.Uniform1i(l),u_pitch_with_map:new o.Uniform1i(l),u_texsize:new o.Uniform2f(l),u_texture:new o.Uniform1i(l),u_gamma_scale:new o.Uniform1f(l),u_device_pixel_ratio:new o.Uniform1f(l),u_tile_id:new o.Uniform3f(l),u_zoom_transition:new o.Uniform1f(l),u_inv_rot_matrix:new o.UniformMatrix4f(l),u_merc_center:new o.Uniform2f(l),u_camera_forward:new o.Uniform3f(l),u_tile_matrix:new o.UniformMatrix4f(l),u_up_vector:new o.Uniform3f(l),u_ecef_origin:new o.Uniform3f(l),u_is_halo:new o.Uniform1i(l)}),symbolTextAndIcon:l=>({u_is_size_zoom_constant:new o.Uniform1i(l),u_is_size_feature_constant:new o.Uniform1i(l),u_size_t:new o.Uniform1f(l),u_size:new o.Uniform1f(l),u_camera_to_center_distance:new o.Uniform1f(l),u_rotate_symbol:new o.Uniform1i(l),u_aspect_ratio:new o.Uniform1f(l),u_fade_change:new o.Uniform1f(l),u_matrix:new o.UniformMatrix4f(l),u_label_plane_matrix:new o.UniformMatrix4f(l),u_coord_matrix:new o.UniformMatrix4f(l),u_is_text:new o.Uniform1i(l),u_pitch_with_map:new o.Uniform1i(l),u_texsize:new o.Uniform2f(l),u_texsize_icon:new o.Uniform2f(l),u_texture:new o.Uniform1i(l),u_texture_icon:new o.Uniform1i(l),u_gamma_scale:new o.Uniform1f(l),u_device_pixel_ratio:new o.Uniform1f(l),u_is_halo:new o.Uniform1i(l)}),background:l=>({u_matrix:new o.UniformMatrix4f(l),u_opacity:new o.Uniform1f(l),u_color:new o.UniformColor(l)}),backgroundPattern:l=>({u_matrix:new o.UniformMatrix4f(l),u_opacity:new o.Uniform1f(l),u_image:new o.Uniform1i(l),u_pattern_tl:new o.Uniform2f(l),u_pattern_br:new o.Uniform2f(l),u_texsize:new o.Uniform2f(l),u_pattern_size:new o.Uniform2f(l),u_pixel_coord_upper:new o.Uniform2f(l),u_pixel_coord_lower:new o.Uniform2f(l),u_tile_units_to_pixels:new o.Uniform1f(l)}),terrainRaster:cc,terrainDepth:cc,skybox:l=>({u_matrix:new o.UniformMatrix4f(l),u_sun_direction:new o.Uniform3f(l),u_cubemap:new o.Uniform1i(l),u_opacity:new o.Uniform1f(l),u_temporal_offset:new o.Uniform1f(l)}),skyboxGradient:l=>({u_matrix:new o.UniformMatrix4f(l),u_color_ramp:new o.Uniform1i(l),u_center_direction:new o.Uniform3f(l),u_radius:new o.Uniform1f(l),u_opacity:new o.Uniform1f(l),u_temporal_offset:new o.Uniform1f(l)}),skyboxCapture:l=>({u_matrix_3f:new o.UniformMatrix3f(l),u_sun_direction:new o.Uniform3f(l),u_sun_intensity:new o.Uniform1f(l),u_color_tint_r:new o.Uniform4f(l),u_color_tint_m:new o.Uniform4f(l),u_luminance:new o.Uniform1f(l)}),globeRaster:l=>({u_proj_matrix:new o.UniformMatrix4f(l),u_globe_matrix:new o.UniformMatrix4f(l),u_normalize_matrix:new o.UniformMatrix4f(l),u_merc_matrix:new o.UniformMatrix4f(l),u_zoom_transition:new o.Uniform1f(l),u_merc_center:new o.Uniform2f(l),u_image0:new o.Uniform1i(l),u_grid_matrix:new o.UniformMatrix3f(l),u_skirt_height:new o.Uniform1f(l),u_frustum_tl:new o.Uniform3f(l),u_frustum_tr:new o.Uniform3f(l),u_frustum_br:new o.Uniform3f(l),u_frustum_bl:new o.Uniform3f(l),u_globe_pos:new o.Uniform3f(l),u_globe_radius:new o.Uniform1f(l),u_viewport:new o.Uniform2f(l)}),globeAtmosphere:l=>({u_frustum_tl:new o.Uniform3f(l),u_frustum_tr:new o.Uniform3f(l),u_frustum_br:new o.Uniform3f(l),u_frustum_bl:new o.Uniform3f(l),u_horizon:new o.Uniform1f(l),u_transition:new o.Uniform1f(l),u_fadeout_range:new o.Uniform1f(l),u_color:new o.Uniform4f(l),u_high_color:new o.Uniform4f(l),u_space_color:new o.Uniform4f(l),u_star_intensity:new o.Uniform1f(l),u_star_density:new o.Uniform1f(l),u_star_size:new o.Uniform1f(l),u_temporal_offset:new o.Uniform1f(l),u_horizon_angle:new o.Uniform1f(l),u_rotation_matrix:new o.UniformMatrix4f(l)})},Bs;function Bo(l,a,r,h,d,m,_){let y=l.context,x=y.gl,A=l.transform,z=l.useProgram("collisionBox"),E=[],k=0,R=0;for(let G=0;G<h.length;G++){let J=h[G],ee=a.getTile(J),Q=ee.getBucket(r);if(!Q)continue;let se=Ca(J,Q,A),oe=se;d[0]===0&&d[1]===0||(oe=l.translatePosMatrix(se,ee,d,m));let pe=_?Q.textCollisionBox:Q.iconCollisionBox,Pe=Q.collisionCircleArray;if(Pe.length>0){let he=o.create(),we=oe;o.mul(he,Q.placementInvProjMatrix,A.glCoordMatrix),o.mul(he,he,Q.placementViewportMatrix),E.push({circleArray:Pe,circleOffset:R,transform:we,invTransform:he,projection:Q.getProjection()}),k+=Pe.length/4,R=k}pe&&(l.terrain&&l.terrain.setupElevationDraw(ee,z),z.draw(y,x.LINES,o.DepthMode.disabled,o.StencilMode.disabled,l.colorModeForRenderPass(),o.CullFaceMode.disabled,_c(oe,A,ee,Q.getProjection()),r.id,pe.layoutVertexBuffer,pe.indexBuffer,pe.segments,null,A.zoom,null,[pe.collisionVertexBuffer,pe.collisionVertexBufferExt]))}if(!_||!E.length)return;let F=l.useProgram("collisionCircle"),B=new o.StructArrayLayout2f1f2i16;B.resize(4*k),B._trim();let N=0;for(let G of E)for(let J=0;J<G.circleArray.length/4;J++){let ee=4*J,Q=G.circleArray[ee+0],se=G.circleArray[ee+1],oe=G.circleArray[ee+2],pe=G.circleArray[ee+3];B.emplace(N++,Q,se,oe,pe,0),B.emplace(N++,Q,se,oe,pe,1),B.emplace(N++,Q,se,oe,pe,2),B.emplace(N++,Q,se,oe,pe,3)}(!Bs||Bs.length<2*k)&&(Bs=function(G){let J=2*G,ee=new o.StructArrayLayout3ui6;ee.resize(J),ee._trim();for(let Q=0;Q<J;Q++){let se=6*Q;ee.uint16[se+0]=4*Q+0,ee.uint16[se+1]=4*Q+1,ee.uint16[se+2]=4*Q+2,ee.uint16[se+3]=4*Q+2,ee.uint16[se+4]=4*Q+3,ee.uint16[se+5]=4*Q+0}return ee}(k));let S=y.createIndexBuffer(Bs,!0),O=y.createVertexBuffer(B,o.collisionCircleLayout.members,!0);for(let G of E){let J={u_matrix:G.transform,u_inv_matrix:G.invTransform,u_camera_to_center_distance:(H=A).getCameraToCenterDistance(G.projection),u_viewport_size:[H.width,H.height]};F.draw(y,x.TRIANGLES,o.DepthMode.disabled,o.StencilMode.disabled,l.colorModeForRenderPass(),o.CullFaceMode.disabled,J,r.id,O,S,o.SegmentVector.simpleSegment(0,2*G.circleOffset,G.circleArray.length,G.circleArray.length/2),null,A.zoom)}var H;O.destroy(),S.destroy()}let G0=o.create();function Mc({width:l,height:a,anchor:r,textOffset:h,textScale:d},m){let{horizontalAlign:_,verticalAlign:y}=o.getAnchorAlignment(r),x=-(_-.5)*l,A=-(y-.5)*a,z=o.evaluateVariableOffset(r,h);return new o.Point((x/d+z[0])*m,(A/d+z[1])*m)}function Ih(l,a,r,h,d,m,_,y,x,A,z){let E=l.text.placedSymbolArray,k=l.text.dynamicLayoutVertexArray,R=l.icon.dynamicLayoutVertexArray,F={},B=l.getProjection(),N=di(y,B,m),S=m.elevation,O=B.upVectorScale(y.canonical,m.center.lat,m.worldSize).metersToTile;k.clear();for(let H=0;H<E.length;H++){let G=E.get(H),{tileAnchorX:J,tileAnchorY:ee,numGlyphs:Q}=G,se=G.hidden||!G.crossTileID||l.allowVerticalPlacement&&!G.placedOrientation?null:h[G.crossTileID];if(se){let oe=0,pe=0,Pe=0;if(S){let Re=S?S.getAtTileOffset(y,J,ee):0,[nt,dt,Ke]=B.upVector(y.canonical,J,ee);oe=Re*nt*O,pe=Re*dt*O,Pe=Re*Ke*O}let[he,we,fe,Ie]=Ni(G.projectedAnchorX+oe,G.projectedAnchorY+pe,G.projectedAnchorZ+Pe,r?N:_),de=L0(m.getCameraToCenterDistance(B),Ie),be=d.evaluateSizeForFeature(l.textSizeData,A,G)*de/o.ONE_EM;r&&(be*=l.tilePixelRatio/x);let De=Mc(se,be);r?({x:he,y:we,z:fe}=B.projectTilePoint(J+De.x,ee+De.y,y.canonical),[he,we,fe]=Ni(he+oe,we+pe,fe+Pe,_)):(a&&De._rotate(-m.angle),he+=De.x,we+=De.y,fe=0);let Te=l.allowVerticalPlacement&&G.placedOrientation===o.WritingMode.vertical?Math.PI/2:0;for(let Re=0;Re<Q;Re++)o.addDynamicAttributes(k,he,we,fe,Te);z&&G.associatedIconIndex>=0&&(F[G.associatedIconIndex]={x:he,y:we,z:fe,angle:Te})}else Va(Q,k)}if(z){R.clear();let H=l.icon.placedSymbolArray;for(let G=0;G<H.length;G++){let J=H.get(G),{numGlyphs:ee}=J,Q=F[G];if(J.hidden||!Q)Va(ee,R);else{let{x:se,y:oe,z:pe,angle:Pe}=Q;for(let he=0;he<ee;he++)o.addDynamicAttributes(R,se,oe,pe,Pe)}}l.icon.dynamicLayoutVertexBuffer.updateData(R)}l.text.dynamicLayoutVertexBuffer.updateData(k)}function zc(l,a,r){return r.iconsInText&&a?"symbolTextAndIcon":l?"symbolSDF":"symbolIcon"}function Z0(l,a,r,h,d,m,_,y,x,A,z,E){let k=l.context,R=k.gl,F=l.transform,B=y==="map",N=x==="map",S=B&&r.layout.get("symbol-placement")!=="point",O=B&&!N&&!S,H=r.layout.get("symbol-sort-key").constantOr(1)!==void 0,G=!1,J=l.depthModeForSublayer(0,o.DepthMode.ReadOnly),ee=[o.mercatorXfromLng(F.center.lng),o.mercatorYfromLat(F.center.lat)],Q=r.layout.get("text-variable-anchor"),se=F.projection.name==="globe",oe=[],pe=[0,-1,0],Pe=pe;!se&&!F.mercatorFromTransition||B||(Pe=function(he){let we=he._camera.getWorldToCamera(he.worldSize,1),fe=o.multiply([],we,he.globeMatrix);o.invert(fe,fe);let Ie=[0,0,0],de=[0,1,0,0];return o.transformMat4$1(de,de,fe),Ie[0]=de[0],Ie[1]=de[1],Ie[2]=de[2],o.normalize(Ie,Ie),Ie}(F));for(let he of h){let we=a.getTile(he),fe=we.getBucket(r);if(!fe||fe.projection.name==="mercator"&&se)continue;let Ie=d?fe.text:fe.icon;if(!Ie||fe.fullyClipped||!Ie.segments.get().length)continue;let de=Ie.programConfigurations.get(r.id),be=d||fe.sdfIcons,De=d?fe.textSizeData:fe.iconSizeData,Te=N||F.pitch!==0,Re=o.evaluateSizeForZoom(De,F.zoom),nt,dt,Ke,st,It=[0,0],Et=null;if(d)dt=we.glyphAtlasTexture,Ke=R.LINEAR,nt=we.glyphAtlasTexture.size,fe.iconsInText&&(It=we.imageAtlasTexture.size,Et=we.imageAtlasTexture,st=Te||l.options.rotating||l.options.zooming||De.kind==="composite"||De.kind==="camera"?R.LINEAR:R.NEAREST);else{let vn=r.layout.get("icon-size").constantOr(0)!==1||fe.iconsNeedLinear;dt=we.imageAtlasTexture,Ke=be||l.options.rotating||l.options.zooming||vn||Te?R.LINEAR:R.NEAREST,nt=we.imageAtlasTexture.size}let tt=fe.projection.name==="globe",qt=tt?Pe:pe,Wt=tt?o.globeToMercatorTransition(F.zoom):0,Xt=di(he,fe.getProjection(),F),Kt=F.calculatePixelsToTileUnitsMatrix(we),ra=ve(Xt,we.tileID.canonical,N,B,F,fe.getProjection(),Kt),ji=l.terrain&&N&&S?o.invert(o.create(),ra):G0,Ia=Ai(Xt,we.tileID.canonical,N,B,F,fe.getProjection(),Kt),Ya=Q&&fe.hasTextData(),pi=r.layout.get("icon-text-fit")!=="none"&&Ya&&fe.hasIconData();if(S){let vn=F.elevation,Vn=vn?vn.getAtTileOffsetFunc(he,F.center.lat,F.worldSize,fe.getProjection()):null,ur=un(Xt,we.tileID.canonical,N,B,F,fe.getProjection(),Kt);Kl(fe,Xt,l,d,ur,Ia,N,A,Vn,he)}let Yt=S||d&&Q||pi,Ut=l.translatePosMatrix(Xt,we,m,_),Ti=Yt?G0:ra,ha=l.translatePosMatrix(Ia,we,m,_,!0),hi=fe.getProjection().createInversionMatrix(F,he.canonical),pa=[];l.terrainRenderModeElevated()&&N&&pa.push("PITCH_WITH_MAP_TERRAIN"),tt&&pa.push("PROJECTION_GLOBE_VIEW"),Yt&&pa.push("PROJECTED_POS_ON_VIEWPORT");let Qs=be&&r.paint.get(d?"text-halo-width":"icon-halo-width").constantOr(1)!==0,hr;hr=be?fe.iconsInText?H0(De.kind,Re,O,N,l,Ut,Ti,ha,nt,It,he,Wt,ee,hi,qt,fe.getProjection()):Rs(De.kind,Re,O,N,l,Ut,Ti,ha,d,nt,!0,he,Wt,ee,hi,qt,fe.getProjection()):xc(De.kind,Re,O,N,l,Ut,Ti,ha,d,nt,he,Wt,ee,hi,qt,fe.getProjection());let Wo={program:l.useProgram(zc(be,d,fe),de,pa),buffers:Ie,uniformValues:hr,atlasTexture:dt,atlasTextureIcon:Et,atlasInterpolation:Ke,atlasInterpolationIcon:st,isSDF:be,hasHalo:Qs,tile:we,labelPlaneMatrixInv:ji};if(H&&fe.canOverlap){G=!0;let vn=Ie.segments.get();for(let Vn of vn)oe.push({segments:new o.SegmentVector([Vn]),sortKey:Vn.sortKey,state:Wo})}else oe.push({segments:Ie.segments,sortKey:0,state:Wo})}G&&oe.sort((he,we)=>he.sortKey-we.sortKey);for(let he of oe){let we=he.state;if(l.terrain&&l.terrain.setupElevationDraw(we.tile,we.program,{useDepthForOcclusion:!se,labelPlaneMatrixInv:we.labelPlaneMatrixInv}),k.activeTexture.set(R.TEXTURE0),we.atlasTexture.bind(we.atlasInterpolation,R.CLAMP_TO_EDGE),we.atlasTextureIcon&&(k.activeTexture.set(R.TEXTURE1),we.atlasTextureIcon&&we.atlasTextureIcon.bind(we.atlasInterpolationIcon,R.CLAMP_TO_EDGE)),we.isSDF){let fe=we.uniformValues;we.hasHalo&&(fe.u_is_halo=1,Fo(we.buffers,he.segments,r,l,we.program,J,z,E,fe)),fe.u_is_halo=0}Fo(we.buffers,he.segments,r,l,we.program,J,z,E,we.uniformValues)}}function Fo(l,a,r,h,d,m,_,y,x){let A=h.context,z=[l.dynamicLayoutVertexBuffer,l.opacityVertexBuffer,l.globeExtVertexBuffer];d.draw(A,A.gl.TRIANGLES,m,_,y,o.CullFaceMode.disabled,x,r.id,l.layoutVertexBuffer,l.indexBuffer,a,r.paint,h.transform.zoom,l.programConfigurations.get(r.id),z)}function $0(l,a,r,h,d,m,_){let y=l.context.gl,x=r.paint.get("fill-pattern"),A=x&&x.constantOr(1),z,E,k,R,F;_?(E=A&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",z=y.LINES):(E=A?"fillPattern":"fill",z=y.TRIANGLES);for(let B of h){let N=a.getTile(B);if(A&&!N.patternsLoaded())continue;let S=N.getBucket(r);if(!S)continue;l.prepareDrawTile();let O=S.programConfigurations.get(r.id),H=l.useProgram(E,O);A&&(l.context.activeTexture.set(y.TEXTURE0),N.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),O.updatePaintBuffers());let G=x.constantOr(null);if(G&&N.imageAtlas){let ee=N.imageAtlas.patternPositions[G.toString()];ee&&O.setConstantPatternPositions(ee)}let J=l.translatePosMatrix(B.projMatrix,N,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(_){R=S.indexBuffer2,F=S.segments2;let ee=l.terrain&&l.terrain.renderingToTexture?l.terrain.drapeBufferSize:[y.drawingBufferWidth,y.drawingBufferHeight];k=E==="fillOutlinePattern"&&A?Ch(J,l,N,ee):Th(J,ee)}else R=S.indexBuffer,F=S.segments,k=A?mc(J,l,N):or(J);l.prepareDrawProgram(l.context,H,B.toUnwrapped()),H.draw(l.context,z,d,l.stencilModeForClipping(B),m,o.CullFaceMode.disabled,k,r.id,S.layoutVertexBuffer,R,F,r.paint,l.transform.zoom,O)}}function Fs(l,a,r,h,d,m,_){let y=l.context,x=y.gl,A=l.transform,z=r.paint.get("fill-extrusion-pattern"),E=z.constantOr(1),k=r.paint.get("fill-extrusion-opacity"),R=[r.paint.get("fill-extrusion-ambient-occlusion-intensity"),r.paint.get("fill-extrusion-ambient-occlusion-radius")],F=r.layout.get("fill-extrusion-edge-radius"),B=F>0&&!r.paint.get("fill-extrusion-rounded-roof"),N=B?0:F,S=A.projection.name==="globe"?o.fillExtrusionHeightLift():0,O=A.projection.name==="globe",H=O?o.globeToMercatorTransition(A.zoom):0,G=[o.mercatorXfromLng(A.center.lng),o.mercatorYfromLat(A.center.lat)],J=[];O&&J.push("PROJECTION_GLOBE_VIEW"),R[0]>0&&J.push("FAUX_AO"),B&&J.push("ZERO_ROOF_RADIUS");for(let ee of h){let Q=a.getTile(ee),se=Q.getBucket(r);if(!se||se.projection.name!==A.projection.name)continue;let oe=se.programConfigurations.get(r.id),pe=l.useProgram(E?"fillExtrusionPattern":"fillExtrusion",oe,J);if(l.terrain){let be=l.terrain;if(l.style.terrainSetForDrapingOnly())be.setupElevationDraw(Q,pe,{useMeterToDem:!0});else{if(!se.enableTerrain)continue;if(be.setupElevationDraw(Q,pe,{useMeterToDem:!0}),q0(y,a,ee,se,r,be),!se.centroidVertexBuffer){let De=pe.attributes.a_centroid_pos;De!==void 0&&x.vertexAttrib2f(De,0,0)}}}E&&(l.context.activeTexture.set(x.TEXTURE0),Q.imageAtlasTexture.bind(x.LINEAR,x.CLAMP_TO_EDGE),oe.updatePaintBuffers());let Pe=z.constantOr(null);if(Pe&&Q.imageAtlas){let be=Q.imageAtlas.patternPositions[Pe.toString()];be&&oe.setConstantPatternPositions(be)}let he=l.translatePosMatrix(ee.projMatrix,Q,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),we=A.projection.createInversionMatrix(A,ee.canonical),fe=r.paint.get("fill-extrusion-vertical-gradient"),Ie=E?N0(he,l,fe,k,R,N,ee,Q,S,H,G,we):pc(he,l,fe,k,R,N,ee,S,H,G,we);l.prepareDrawProgram(y,pe,ee.toUnwrapped());let de=[];l.terrain&&de.push(se.centroidVertexBuffer),O&&de.push(se.layoutVertexExtBuffer),pe.draw(y,y.gl.TRIANGLES,d,m,_,o.CullFaceMode.backCCW,Ie,r.id,se.layoutVertexBuffer,se.indexBuffer,se.segments,r.paint,l.transform.zoom,oe,de)}}function q0(l,a,r,h,d,m){let _=[S=>{let O=S.canonical.x-1,H=S.wrap;return O<0&&(O=(1<<S.canonical.z)-1,H--),new o.OverscaledTileID(S.overscaledZ,H,S.canonical.z,O,S.canonical.y)},S=>{let O=S.canonical.x+1,H=S.wrap;return O===1<<S.canonical.z&&(O=0,H++),new o.OverscaledTileID(S.overscaledZ,H,S.canonical.z,O,S.canonical.y)},S=>new o.OverscaledTileID(S.overscaledZ,S.wrap,S.canonical.z,S.canonical.x,(S.canonical.y===0?1<<S.canonical.z:S.canonical.y)-1),S=>new o.OverscaledTileID(S.overscaledZ,S.wrap,S.canonical.z,S.canonical.x,S.canonical.y===(1<<S.canonical.z)-1?0:S.canonical.y+1)],y=S=>{let O=a.getSource().minzoom,H=J=>{let ee=a.getTileByID(J);if(ee&&ee.hasData())return ee.getBucket(d)},G=[0,-1,1];for(let J of G){if(S.overscaledZ+J<O)continue;let ee=H(S.calculateScaledKey(S.overscaledZ+J));if(ee)return ee}},x=[0,0,0],A=(S,O)=>(x[0]=Math.min(S.min.y,O.min.y),x[1]=Math.max(S.max.y,O.max.y),x[2]=o.EXTENT-O.min.x>S.max.x?O.min.x-o.EXTENT:S.max.x,x),z=(S,O)=>(x[0]=Math.min(S.min.x,O.min.x),x[1]=Math.max(S.max.x,O.max.x),x[2]=o.EXTENT-O.min.y>S.max.y?O.min.y-o.EXTENT:S.max.y,x),E=[(S,O)=>A(S,O),(S,O)=>A(O,S),(S,O)=>z(S,O),(S,O)=>z(O,S)],k=new o.Point(0,0),R,F,B,N=(S,O,H,G,J)=>{let ee=[[G?H:S,G?S:H,0],[G?H:O,G?O:H,0]],Q=J<0?o.EXTENT+J:J,se=[G?Q:(S+O)/2,G?(S+O)/2:Q,0];return H===0&&J<0||H!==0&&J>0?m.getForTilePoints(B,[se],!0,F):ee.push(se),m.getForTilePoints(r,ee,!0,R),Math.max(ee[0][2],ee[1][2],se[2])/m.exaggeration()};for(let S=0;S<4;S++){let O=(S<2?1:5)-S,H=h.borders[S];if(H.length===0)continue;let G=B=_[S](r),J=y(G);if(!(J&&J instanceof o.FillExtrusionBucket&&J.enableTerrain)||h.borderDoneWithNeighborZ[S]===J.canonical.z&&J.borderDoneWithNeighborZ[O]===h.canonical.z||(F=m.findDEMTileFor(G),!F||!F.dem))continue;if(!R){let oe=m.findDEMTileFor(r);if(!oe||!oe.dem)return;R=oe}let ee=J.borders[O],Q=0,se=J.borderDoneWithNeighborZ[O]!==h.canonical.z;if(h.canonical.z===J.canonical.z){for(let oe=0;oe<H.length;oe++){let pe=h.featuresOnBorder[H[oe]],Pe=pe.borders[S],he;for(;Q<ee.length&&(he=J.featuresOnBorder[ee[Q]],!(he.borders[O][1]>Pe[0]+3));)se&&J.encodeCentroid(void 0,he,!1),Q++;if(he&&Q<ee.length){let we=Q,fe=0;for(;!(he.borders[O][0]>Pe[1]-3)&&(fe++,++Q!==ee.length);)he=J.featuresOnBorder[ee[Q]];if(he=J.featuresOnBorder[ee[we]],pe.intersectsCount()>1||he.intersectsCount()>1||fe!==1){fe!==1&&(Q=we),h.encodeCentroid(void 0,pe,!1),se&&J.encodeCentroid(void 0,he,!1);continue}let Ie=E[S](pe,he),de=S%2?o.EXTENT-1:0;k.x=N(Ie[0],Math.min(o.EXTENT-1,Ie[1]),de,S<2,Ie[2]),k.y=0,h.encodeCentroid(k,pe,!1),se&&J.encodeCentroid(k,he,!1)}else h.encodeCentroid(void 0,pe,!1)}h.borderDoneWithNeighborZ[S]=J.canonical.z,h.needsCentroidUpdate=!0,se&&(J.borderDoneWithNeighborZ[O]=h.canonical.z,J.needsCentroidUpdate=!0)}else{for(let oe of H)h.encodeCentroid(void 0,h.featuresOnBorder[oe],!1);if(se){for(let oe of ee)J.encodeCentroid(void 0,J.featuresOnBorder[oe],!1);J.borderDoneWithNeighborZ[O]=h.canonical.z,J.needsCentroidUpdate=!0}h.borderDoneWithNeighborZ[S]=J.canonical.z,h.needsCentroidUpdate=!0}}(h.needsCentroidUpdate||!h.centroidVertexBuffer&&h.centroidVertexArray.length!==0)&&h.uploadCentroid(l)}let Br=new o.Color(1,0,0,1),Ph=new o.Color(0,1,0,1),kh=new o.Color(0,0,1,1),Dh=new o.Color(1,0,1,1),Oh=new o.Color(0,1,1,1);function Rh(l,a,r){let h=l.context,d=l.transform,m=h.gl,_=d.projection.name==="globe",y=_?["PROJECTION_GLOBE_VIEW"]:null,x=r.projMatrix;if(_&&o.globeToMercatorTransition(d.zoom)>0){let pe=o.transitionTileAABBinECEF(r.canonical,d),Pe=o.globeDenormalizeECEF(pe);x=o.multiply(new Float32Array(16),d.globeMatrix,Pe),o.multiply(x,d.projMatrix,x)}let A=l.useProgram("debug",null,y),z=a.getTileByID(r.key);l.terrain&&l.terrain.setupElevationDraw(z,A);let E=o.DepthMode.disabled,k=o.StencilMode.disabled,R=l.colorModeForRenderPass(),F="$debug";h.activeTexture.set(m.TEXTURE0),l.emptyTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),_?z._makeGlobeTileDebugBuffers(l.context,d):z._makeDebugTileBoundsBuffers(l.context,d.projection);let B=z._tileDebugBuffer||l.debugBuffer,N=z._tileDebugIndexBuffer||l.debugIndexBuffer,S=z._tileDebugSegments||l.debugSegments;A.draw(h,m.LINE_STRIP,E,k,R,o.CullFaceMode.disabled,Ds(x,o.Color.red),F,B,N,S,null,null,null,[z._globeTileDebugBorderBuffer]);let O=z.latestRawTileData,H=Math.floor((O&&O.byteLength||0)/1024),G=a.getTile(r).tileSize,J=512/Math.min(G,512)*(r.overscaledZ/d.zoom)*.5,ee=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(ee+=` => ${r.overscaledZ}`),ee+=` ${H}kb`,function(pe,Pe){pe.initDebugOverlayCanvas();let he=pe.debugOverlayCanvas,we=pe.context.gl,fe=pe.debugOverlayCanvas.getContext("2d");fe.clearRect(0,0,he.width,he.height),fe.shadowColor="white",fe.shadowBlur=2,fe.lineWidth=1.5,fe.strokeStyle="white",fe.textBaseline="top",fe.font="bold 36px Open Sans, sans-serif",fe.fillText(Pe,5,5),fe.strokeText(Pe,5,5),pe.debugOverlayTexture.update(he),pe.debugOverlayTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE)}(l,ee);let Q=z._tileDebugTextBuffer||l.debugBuffer,se=z._tileDebugTextIndexBuffer||l.quadTriangleIndexBuffer,oe=z._tileDebugTextSegments||l.debugSegments;A.draw(h,m.TRIANGLES,E,k,o.ColorMode.alphaBlended,o.CullFaceMode.disabled,Ds(x,o.Color.transparent,J),F,Q,se,oe,null,null,null,[z._globeTileDebugTextBuffer])}function W0(l,a,r,h){Fr(l,0,a+r/2,l.transform.width,r,h)}function Vs(l,a,r,h){Fr(l,a-r/2,0,r,l.transform.height,h)}function Fr(l,a,r,h,d,m){let _=l.context,y=_.gl;y.enable(y.SCISSOR_TEST),y.scissor(a*o.exported.devicePixelRatio,r*o.exported.devicePixelRatio,h*o.exported.devicePixelRatio,d*o.exported.devicePixelRatio),_.clear({color:m}),y.disable(y.SCISSOR_TEST)}let X0=o.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:K0}=X0;function _n(l,a,r,h){l.emplaceBack(a,r,h)}class Ns{constructor(a){this.vertexArray=new o.StructArrayLayout3f12,this.indices=new o.StructArrayLayout3ui6,_n(this.vertexArray,-1,-1,1),_n(this.vertexArray,1,-1,1),_n(this.vertexArray,-1,1,1),_n(this.vertexArray,1,1,1),_n(this.vertexArray,-1,-1,-1),_n(this.vertexArray,1,-1,-1),_n(this.vertexArray,-1,1,-1),_n(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=a.createVertexBuffer(this.vertexArray,K0),this.indexBuffer=a.createIndexBuffer(this.indices),this.segment=o.SegmentVector.simpleSegment(0,0,36,12)}}function Sa(l,a,r,h,d,m){let _=l.gl,y=a.paint.get("sky-atmosphere-color"),x=a.paint.get("sky-atmosphere-halo-color"),A=a.paint.get("sky-atmosphere-sun-intensity"),z=((E,k,R,F,B)=>({u_matrix_3f:E,u_sun_direction:k,u_sun_intensity:R,u_color_tint_r:[F.r,F.g,F.b,F.a],u_color_tint_m:[B.r,B.g,B.b,B.a],u_luminance:5e-5}))(o.fromMat4(o.create$1(),h),d,A,y,x);_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_CUBE_MAP_POSITIVE_X+m,a.skyboxTexture,0),r.draw(l,_.TRIANGLES,o.DepthMode.disabled,o.StencilMode.disabled,o.ColorMode.unblended,o.CullFaceMode.frontCW,z,"skyboxCapture",a.skyboxGeometry.vertexBuffer,a.skyboxGeometry.indexBuffer,a.skyboxGeometry.segment)}let Vo=o.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Y0{constructor(a){let r=new o.StructArrayLayout5f20;r.emplaceBack(-1,1,1,0,0),r.emplaceBack(1,1,1,1,0),r.emplaceBack(1,-1,1,1,1),r.emplaceBack(-1,-1,1,0,1);let h=new o.StructArrayLayout3ui6;h.emplaceBack(0,1,2),h.emplaceBack(2,3,0),this.vertexBuffer=a.createVertexBuffer(r,Vo.members),this.indexBuffer=a.createIndexBuffer(h),this.segments=o.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}let sr={symbol:function(l,a,r,h,d){if(l.renderPass!=="translucent")return;let m=o.StencilMode.disabled,_=l.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(y,x,A,z,E,k,R){let F=x.transform,B=E==="map",N=k==="map";for(let S of y){let O=z.getTile(S),H=O.getBucket(A);if(!H||!H.text||!H.text.segments.get().length)continue;let G=o.evaluateSizeForZoom(H.textSizeData,F.zoom),J=di(S,H.getProjection(),F),ee=F.calculatePixelsToTileUnitsMatrix(O),Q=ve(J,O.tileID.canonical,N,B,F,H.getProjection(),ee),se=A.layout.get("icon-text-fit")!=="none"&&H.hasIconData();if(G){let oe=Math.pow(2,F.zoom-O.tileID.overscaledZ);Ih(H,B,N,R,o.symbolSize,F,Q,S,oe,G,se)}}}(h,l,r,a,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),d),r.paint.get("icon-opacity").constantOr(1)!==0&&Z0(l,a,r,h,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),m,_),r.paint.get("text-opacity").constantOr(1)!==0&&Z0(l,a,r,h,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),m,_),a.map.showCollisionBoxes&&(Bo(l,a,r,h,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Bo(l,a,r,h,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))},circle:function(l,a,r,h){if(l.renderPass!=="translucent")return;let d=r.paint.get("circle-opacity"),m=r.paint.get("circle-stroke-width"),_=r.paint.get("circle-stroke-opacity"),y=r.layout.get("circle-sort-key").constantOr(1)!==void 0;if(d.constantOr(1)===0&&(m.constantOr(1)===0||_.constantOr(1)===0))return;let x=l.context,A=x.gl,z=l.transform,E=l.depthModeForSublayer(0,o.DepthMode.ReadOnly),k=o.StencilMode.disabled,R=l.colorModeForRenderPass(),F=z.projection.name==="globe",B=[o.mercatorXfromLng(z.center.lng),o.mercatorYfromLat(z.center.lat)],N=[];for(let O=0;O<h.length;O++){let H=h[O],G=a.getTile(H),J=G.getBucket(r);if(!J||J.projection.name!==z.projection.name)continue;let ee=J.programConfigurations.get(r.id),Q=gc(r);F&&Q.push("PROJECTION_GLOBE_VIEW");let se=l.useProgram("circle",ee,Q),oe=J.layoutVertexBuffer,pe=J.globeExtVertexBuffer,Pe=J.indexBuffer,he=z.projection.createInversionMatrix(z,H.canonical),we={programConfiguration:ee,program:se,layoutVertexBuffer:oe,globeExtVertexBuffer:pe,indexBuffer:Pe,uniformValues:fc(l,H,G,he,B,r),tile:G};if(y){let fe=J.segments.get();for(let Ie of fe)N.push({segments:new o.SegmentVector([Ie]),sortKey:Ie.sortKey,state:we})}else N.push({segments:J.segments,sortKey:0,state:we})}y&&N.sort((O,H)=>O.sortKey-H.sortKey);let S={useDepthForOcclusion:!F};for(let O of N){let{programConfiguration:H,program:G,layoutVertexBuffer:J,globeExtVertexBuffer:ee,indexBuffer:Q,uniformValues:se,tile:oe}=O.state,pe=O.segments;l.terrain&&l.terrain.setupElevationDraw(oe,G,S),l.prepareDrawProgram(x,G,oe.tileID.toUnwrapped()),G.draw(x,A.TRIANGLES,E,k,R,o.CullFaceMode.disabled,se,r.id,J,Q,pe,r.paint,z.zoom,H,[ee])}},heatmap:function(l,a,r,h){if(r.paint.get("heatmap-opacity")!==0)if(l.renderPass==="offscreen"){let d=l.context,m=d.gl,_=o.StencilMode.disabled,y=new o.ColorMode([m.ONE,m.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function(R,F,B,N){let S=R.gl,O=F.width*N,H=F.height*N;R.activeTexture.set(S.TEXTURE1),R.viewport.set([0,0,O,H]);let G=B.heatmapFbo;if(!G||G&&(G.width!==O||G.height!==H)){G&&G.destroy();let J=S.createTexture();S.bindTexture(S.TEXTURE_2D,J),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),G=B.heatmapFbo=R.createFramebuffer(O,H,!1),function(ee,Q,se,oe,pe,Pe){let he=ee.gl;he.texImage2D(he.TEXTURE_2D,0,ee.isWebGL2&&ee.extRenderToTextureHalfFloat?he.RGBA16F:he.RGBA,pe,Pe,0,he.RGBA,ee.extRenderToTextureHalfFloat?ee.isWebGL2?he.HALF_FLOAT:ee.extTextureHalfFloat.HALF_FLOAT_OES:he.UNSIGNED_BYTE,null),oe.colorAttachment.set(se)}(R,0,J,G,O,H)}else S.bindTexture(S.TEXTURE_2D,G.colorAttachment.get()),R.bindFramebuffer.set(G.framebuffer)})(d,l,r,l.transform.projection.name==="globe"?.5:.25),d.clear({color:o.Color.transparent});let x=l.transform,A=x.projection.name==="globe",z=A?["PROJECTION_GLOBE_VIEW"]:null,E=A?o.CullFaceMode.frontCCW:o.CullFaceMode.disabled,k=[o.mercatorXfromLng(x.center.lng),o.mercatorYfromLat(x.center.lat)];for(let R=0;R<h.length;R++){let F=h[R];if(a.hasRenderableParent(F))continue;let B=a.getTile(F),N=B.getBucket(r);if(!N||N.projection.name!==x.projection.name)continue;let S=N.programConfigurations.get(r.id),O=l.useProgram("heatmap",S,z),{zoom:H}=l.transform;l.terrain&&l.terrain.setupElevationDraw(B,O),l.prepareDrawProgram(d,O,F.toUnwrapped());let G=x.projection.createInversionMatrix(x,F.canonical);O.draw(d,m.TRIANGLES,o.DepthMode.disabled,_,y,E,j0(l,F,B,G,k,H,r.paint.get("heatmap-intensity")),r.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,r.paint,l.transform.zoom,S,A?[N.globeExtVertexBuffer]:null)}d.viewport.set([0,0,l.width,l.height])}else l.renderPass==="translucent"&&(l.context.setColorMode(l.colorModeForRenderPass()),function(d,m){let _=d.context,y=_.gl,x=m.heatmapFbo;if(!x)return;_.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,x.colorAttachment.get()),_.activeTexture.set(y.TEXTURE1);let A=m.colorRampTexture;A||(A=m.colorRampTexture=new o.Texture(_,m.colorRamp,y.RGBA)),A.bind(y.LINEAR,y.CLAMP_TO_EDGE),d.useProgram("heatmapTexture").draw(_,y.TRIANGLES,o.DepthMode.disabled,o.StencilMode.disabled,d.colorModeForRenderPass(),o.CullFaceMode.disabled,((z,E,k,R)=>({u_image:0,u_color_ramp:1,u_opacity:E.paint.get("heatmap-opacity")}))(0,m),m.id,d.viewportBuffer,d.quadTriangleIndexBuffer,d.viewportSegments,m.paint,d.transform.zoom)}(l,r))},line:function(l,a,r,h){if(l.renderPass!=="translucent")return;let d=r.paint.get("line-opacity"),m=r.paint.get("line-width");if(d.constantOr(1)===0||m.constantOr(1)===0)return;let _=l.depthModeForSublayer(0,o.DepthMode.ReadOnly),y=l.colorModeForRenderPass(),x=l.terrain&&l.terrain.renderingToTexture?1:o.exported.devicePixelRatio,A=r.paint.get("line-dasharray"),z=A.constantOr(1),E=r.layout.get("line-cap"),k=r.paint.get("line-pattern"),R=k.constantOr(1),F=r.paint.get("line-gradient"),B=R?"linePattern":"line",N=l.context,S=N.gl,O=(G=>{let J=[];Ro(G)&&J.push("RENDER_LINE_DASH"),G.paint.get("line-gradient")&&J.push("RENDER_LINE_GRADIENT");let ee=G.paint.get("line-trim-offset");ee[0]===0&&ee[1]===0||J.push("RENDER_LINE_TRIM_OFFSET");let Q=G.paint.get("line-pattern").constantOr(1),se=G.paint.get("line-opacity").constantOr(1)!==1;return!Q&&se&&J.push("RENDER_LINE_ALPHA_DISCARD"),J})(r),H=O.includes("RENDER_LINE_ALPHA_DISCARD");l.terrain&&l.terrain.clipOrMaskOverlapStencilType()&&(H=!1);for(let G of h){let J=a.getTile(G);if(R&&!J.patternsLoaded())continue;let ee=J.getBucket(r);if(!ee)continue;l.prepareDrawTile();let Q=ee.programConfigurations.get(r.id),se=l.useProgram(B,Q,O),oe=k.constantOr(null);if(oe&&J.imageAtlas){let be=J.imageAtlas.patternPositions[oe.toString()];be&&Q.setConstantPatternPositions(be)}let pe=A.constantOr(null),Pe=E.constantOr(null);if(!R&&pe&&Pe&&J.lineAtlas){let be=J.lineAtlas.getDash(pe,Pe);be&&Q.setConstantPatternPositions(be)}let[he,we]=r.paint.get("line-trim-offset");(Pe==="round"||Pe==="square")&&he!==we&&(he===0&&(he-=1),we===1&&(we+=1));let fe=l.terrain?G.projMatrix:null,Ie=R?Oo(l,J,r,fe,x):Sh(l,J,r,fe,ee.lineClipsArray.length,x,[he,we]);if(F){let be=ee.gradients[r.id],De=be.texture;if(r.gradientVersion!==be.version){let Te=256;if(r.stepInterpolant){let Re=a.getSource().maxzoom,nt=G.canonical.z===Re?Math.ceil(1<<l.transform.maxZoom-G.canonical.z):1;Te=o.clamp(o.nextPowerOfTwo(ee.maxLineLength/o.EXTENT*1024*nt),256,N.maxTextureSize)}be.gradient=o.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:Te,image:be.gradient||void 0,clips:ee.lineClipsArray}),be.texture?be.texture.update(be.gradient):be.texture=new o.Texture(N,be.gradient,S.RGBA),be.version=r.gradientVersion,De=be.texture}N.activeTexture.set(S.TEXTURE1),De.bind(r.stepInterpolant?S.NEAREST:S.LINEAR,S.CLAMP_TO_EDGE)}z&&(N.activeTexture.set(S.TEXTURE0),J.lineAtlasTexture.bind(S.LINEAR,S.REPEAT),Q.updatePaintBuffers()),R&&(N.activeTexture.set(S.TEXTURE0),J.imageAtlasTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),Q.updatePaintBuffers()),l.prepareDrawProgram(N,se,G.toUnwrapped());let de=be=>{se.draw(N,S.TRIANGLES,_,be,y,o.CullFaceMode.disabled,Ie,r.id,ee.layoutVertexBuffer,ee.indexBuffer,ee.segments,r.paint,l.transform.zoom,Q,[ee.layoutVertexBuffer2])};if(H){let be=l.stencilModeForClipping(G).ref;be===0&&l.terrain&&N.clear({stencil:0});let De={func:S.EQUAL,mask:255};Ie.u_alpha_discard_threshold=.8,de(new o.StencilMode(De,be,255,S.KEEP,S.KEEP,S.INVERT)),Ie.u_alpha_discard_threshold=0,de(new o.StencilMode(De,be,255,S.KEEP,S.KEEP,S.KEEP))}else de(l.stencilModeForClipping(G))}H&&(l.resetStencilClippingMasks(),l.terrain&&N.clear({stencil:0}))},fill:function(l,a,r,h){let d=r.paint.get("fill-color"),m=r.paint.get("fill-opacity");if(m.constantOr(1)===0)return;let _=l.colorModeForRenderPass(),y=r.paint.get("fill-pattern"),x=l.opaquePassEnabledForLayer()&&!y.constantOr(1)&&d.constantOr(o.Color.transparent).a===1&&m.constantOr(0)===1?"opaque":"translucent";if(l.renderPass===x){let A=l.depthModeForSublayer(1,l.renderPass==="opaque"?o.DepthMode.ReadWrite:o.DepthMode.ReadOnly);$0(l,a,r,h,A,_,!1)}if(l.renderPass==="translucent"&&r.paint.get("fill-antialias")){let A=l.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,o.DepthMode.ReadOnly);$0(l,a,r,h,A,_,!0)}},"fill-extrusion":function(l,a,r,h){let d=r.paint.get("fill-extrusion-opacity");if(d!==0&&l.renderPass==="translucent"){let m=new o.DepthMode(l.context.gl.LEQUAL,o.DepthMode.ReadWrite,l.depthRangeFor3D);if(d!==1||r.paint.get("fill-extrusion-pattern").constantOr(1))Fs(l,a,r,h,m,o.StencilMode.disabled,o.ColorMode.disabled),Fs(l,a,r,h,m,l.stencilModeFor3D(),l.colorModeForRenderPass()),l.resetStencilClippingMasks();else{let _=l.colorModeForRenderPass();Fs(l,a,r,h,m,o.StencilMode.disabled,_)}}},hillshade:function(l,a,r,h){if(l.renderPass!=="offscreen"&&l.renderPass!=="translucent")return;let d=l.context,m=l.depthModeForSublayer(0,o.DepthMode.ReadOnly),_=l.colorModeForRenderPass(),y=l.terrain&&l.terrain.renderingToTexture,[x,A]=l.renderPass!=="translucent"||y?[{},h]:l.stencilConfigForOverlap(h);for(let z of A){let E=a.getTile(z);if(E.needsHillshadePrepare&&l.renderPass==="offscreen")B0(l,E,r,m,o.StencilMode.disabled,_);else if(l.renderPass==="translucent"){let k=y&&l.terrain?l.terrain.stencilModeForRTTOverlap(z):x[z.overscaledZ];R0(l,z,E,r,m,k,_)}}d.viewport.set([0,0,l.width,l.height]),l.resetStencilClippingMasks()},raster:function(l,a,r,h,d,m){if(l.renderPass!=="translucent"||r.paint.get("raster-opacity")===0||!h.length)return;let _=l.context,y=_.gl,x=a.getSource(),A=l.useProgram("raster"),z=l.colorModeForRenderPass(),E=l.terrain&&l.terrain.renderingToTexture,[k,R]=x instanceof Tt||E?[{},h]:l.stencilConfigForOverlap(h),F=R[R.length-1].overscaledZ,B=!l.options.moving;for(let N of R){let S=E?o.DepthMode.disabled:l.depthModeForSublayer(N.overscaledZ-F,r.paint.get("raster-opacity")===1?o.DepthMode.ReadWrite:o.DepthMode.ReadOnly,y.LESS),O=N.toUnwrapped(),H=a.getTile(N);if(E&&(!H||!H.hasData()))continue;let G=E?N.projMatrix:l.transform.calculateProjMatrix(O,B),J=l.terrain&&E?l.terrain.stencilModeForRTTOverlap(N):k[N.overscaledZ],ee=m?0:r.paint.get("raster-fade-duration");H.registerFadeDuration(ee);let Q=a.findLoadedParent(N,0),se=hc(H,Q,a,l.transform,ee),oe,pe;l.terrain&&l.terrain.prepareDrawTile();let Pe=r.paint.get("raster-resampling")==="nearest"?y.NEAREST:y.LINEAR;_.activeTexture.set(y.TEXTURE0),H.texture.bind(Pe,y.CLAMP_TO_EDGE),_.activeTexture.set(y.TEXTURE1),Q?(Q.texture.bind(Pe,y.CLAMP_TO_EDGE),oe=Math.pow(2,Q.tileID.overscaledZ-H.tileID.overscaledZ),pe=[H.tileID.canonical.x*oe%1,H.tileID.canonical.y*oe%1]):H.texture.bind(Pe,y.CLAMP_TO_EDGE),H.texture.useMipmap&&_.extTextureFilterAnisotropic&&l.transform.pitch>20&&y.texParameterf(y.TEXTURE_2D,_.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,_.extTextureFilterAnisotropicMax);let he=vc(G,pe||[0,0],oe||1,se,r,x instanceof Tt?x.perspectiveTransform:[0,0]);if(l.prepareDrawProgram(_,A,O),x instanceof Tt)x.boundsBuffer&&x.boundsSegments&&A.draw(_,y.TRIANGLES,S,o.StencilMode.disabled,z,o.CullFaceMode.disabled,he,r.id,x.boundsBuffer,l.quadTriangleIndexBuffer,x.boundsSegments);else{let{tileBoundsBuffer:we,tileBoundsIndexBuffer:fe,tileBoundsSegments:Ie}=l.getTileBoundsBuffers(H);A.draw(_,y.TRIANGLES,S,J,z,o.CullFaceMode.disabled,he,r.id,we,fe,Ie)}}l.resetStencilClippingMasks()},background:function(l,a,r,h){let d=r.paint.get("background-color"),m=r.paint.get("background-opacity");if(m===0)return;let _=l.context,y=_.gl,x=l.transform,A=x.tileSize,z=r.paint.get("background-pattern");if(l.isPatternMissing(z))return;let E=!z&&d.a===1&&m===1&&l.opaquePassEnabledForLayer()?"opaque":"translucent";if(l.renderPass!==E)return;let k=o.StencilMode.disabled,R=l.depthModeForSublayer(0,E==="opaque"?o.DepthMode.ReadWrite:o.DepthMode.ReadOnly),F=l.colorModeForRenderPass(),B=l.useProgram(z?"backgroundPattern":"background"),N,S=h;S||(N=l.getBackgroundTiles(),S=Object.values(N).map(O=>O.tileID)),z&&(_.activeTexture.set(y.TEXTURE0),l.imageManager.bind(l.context));for(let O of S){let H=O.toUnwrapped(),G=h?O.projMatrix:l.transform.calculateProjMatrix(H);l.prepareDrawTile();let J=a?a.getTile(O):N?N[O.key]:new o.Tile(O,A,x.zoom,l),ee=z?Lh(G,m,l,z,{tileID:O,tileSize:A}):bc(G,m,d);l.prepareDrawProgram(_,B,H);let{tileBoundsBuffer:Q,tileBoundsIndexBuffer:se,tileBoundsSegments:oe}=l.getTileBoundsBuffers(J);B.draw(_,y.TRIANGLES,R,k,F,o.CullFaceMode.disabled,ee,r.id,Q,se,oe)}},sky:function(l,a,r){let h=l.transform,d=h.projection.name==="mercator"||h.projection.name==="globe"?1:o.smoothstep(7,8,h.zoom),m=r.paint.get("sky-opacity")*d;if(m===0)return;let _=l.context,y=r.paint.get("sky-type"),x=new o.DepthMode(_.gl.LEQUAL,o.DepthMode.ReadOnly,[0,1]),A=l.frameCounter/1e3%1;y==="atmosphere"?l.renderPass==="offscreen"?r.needsSkyboxCapture(l)&&(function(z,E,k,R){let F=z.context,B=F.gl,N=E.skyboxFbo;if(!N){N=E.skyboxFbo=F.createFramebuffer(32,32,!1),E.skyboxGeometry=new Ns(F),E.skyboxTexture=F.gl.createTexture(),B.bindTexture(B.TEXTURE_CUBE_MAP,E.skyboxTexture),B.texParameteri(B.TEXTURE_CUBE_MAP,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE),B.texParameteri(B.TEXTURE_CUBE_MAP,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE),B.texParameteri(B.TEXTURE_CUBE_MAP,B.TEXTURE_MIN_FILTER,B.LINEAR),B.texParameteri(B.TEXTURE_CUBE_MAP,B.TEXTURE_MAG_FILTER,B.LINEAR);for(let G=0;G<6;++G)B.texImage2D(B.TEXTURE_CUBE_MAP_POSITIVE_X+G,0,B.RGBA,32,32,0,B.RGBA,B.UNSIGNED_BYTE,null)}F.bindFramebuffer.set(N.framebuffer),F.viewport.set([0,0,32,32]);let S=E.getCenter(z,!0),O=z.useProgram("skyboxCapture"),H=new Float64Array(16);o.identity(H),o.rotateY(H,H,.5*-Math.PI),Sa(F,E,O,H,S,0),o.identity(H),o.rotateY(H,H,.5*Math.PI),Sa(F,E,O,H,S,1),o.identity(H),o.rotateX(H,H,.5*-Math.PI),Sa(F,E,O,H,S,2),o.identity(H),o.rotateX(H,H,.5*Math.PI),Sa(F,E,O,H,S,3),o.identity(H),Sa(F,E,O,H,S,4),o.identity(H),o.rotateY(H,H,Math.PI),Sa(F,E,O,H,S,5),F.viewport.set([0,0,z.width,z.height])}(l,r),r.markSkyboxValid(l)):l.renderPass==="sky"&&function(z,E,k,R,F){let B=z.context,N=B.gl,S=z.transform,O=z.useProgram("skybox");B.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_CUBE_MAP,E.skyboxTexture);let H=((G,J,ee,Q,se)=>({u_matrix:G,u_sun_direction:J,u_cubemap:0,u_opacity:Q,u_temporal_offset:se}))(S.skyboxMatrix,E.getCenter(z,!1),0,R,F);z.prepareDrawProgram(B,O),O.draw(B,N.TRIANGLES,k,o.StencilMode.disabled,z.colorModeForRenderPass(),o.CullFaceMode.backCW,H,"skybox",E.skyboxGeometry.vertexBuffer,E.skyboxGeometry.indexBuffer,E.skyboxGeometry.segment)}(l,r,x,m,A):y==="gradient"&&l.renderPass==="sky"&&function(z,E,k,R,F){let B=z.context,N=B.gl,S=z.transform,O=z.useProgram("skyboxGradient");E.skyboxGeometry||(E.skyboxGeometry=new Ns(B)),B.activeTexture.set(N.TEXTURE0);let H=E.colorRampTexture;H||(H=E.colorRampTexture=new o.Texture(B,E.colorRamp,N.RGBA)),H.bind(N.LINEAR,N.CLAMP_TO_EDGE);let G=((J,ee,Q,se,oe)=>({u_matrix:J,u_color_ramp:0,u_center_direction:ee,u_radius:o.degToRad(Q),u_opacity:se,u_temporal_offset:oe}))(S.skyboxMatrix,E.getCenter(z,!1),E.paint.get("sky-gradient-radius"),R,F);z.prepareDrawProgram(B,O),O.draw(B,N.TRIANGLES,k,o.StencilMode.disabled,z.colorModeForRenderPass(),o.CullFaceMode.backCW,G,"skyboxGradient",E.skyboxGeometry.vertexBuffer,E.skyboxGeometry.indexBuffer,E.skyboxGeometry.segment)}(l,r,x,m,A)},debug:function(l,a,r){for(let h=0;h<r.length;h++)Rh(l,a,r[h])},custom:function(l,a,r,h){let d=l.context,m=r.implementation;if(!l.transform.projection.unsupportedLayers||!l.transform.projection.unsupportedLayers.includes("custom")||l.terrain&&(l.terrain.renderingToTexture||l.renderPass==="offscreen")&&r.isLayerDraped()){if(l.renderPass==="offscreen"){let _=m.prerender;if(_){if(l.setCustomLayerDefaults(),d.setColorMode(l.colorModeForRenderPass()),l.transform.projection.name==="globe"){let y=l.transform.pointMerc;_.call(m,d.gl,l.transform.customLayerMatrix(),l.transform.getProjection(),l.transform.globeToMercatorMatrix(),o.globeToMercatorTransition(l.transform.zoom),[y.x,y.y],l.transform.pixelsPerMeterRatio)}else _.call(m,d.gl,l.transform.customLayerMatrix());d.setDirty(),l.setBaseState()}}else if(l.renderPass==="translucent"){if(l.terrain&&l.terrain.renderingToTexture){let y=m.renderToTile;if(y){let x=h[0].canonical,A=new o.MercatorCoordinate(x.x+h[0].wrap*(1<<x.z),x.y,x.z);d.setDepthMode(o.DepthMode.disabled),d.setStencilMode(o.StencilMode.disabled),d.setColorMode(l.colorModeForRenderPass()),l.setCustomLayerDefaults(),y.call(m,d.gl,A),d.setDirty(),l.setBaseState()}return}l.setCustomLayerDefaults(),d.setColorMode(l.colorModeForRenderPass()),d.setStencilMode(o.StencilMode.disabled);let _=m.renderingMode==="3d"?new o.DepthMode(l.context.gl.LEQUAL,o.DepthMode.ReadWrite,l.depthRangeFor3D):l.depthModeForSublayer(0,o.DepthMode.ReadOnly);if(d.setDepthMode(_),l.transform.projection.name==="globe"){let y=l.transform.pointMerc;m.render(d.gl,l.transform.customLayerMatrix(),l.transform.getProjection(),l.transform.globeToMercatorMatrix(),o.globeToMercatorTransition(l.transform.zoom),[y.x,y.y],l.transform.pixelsPerMeterRatio)}else m.render(d.gl,l.transform.customLayerMatrix());d.setDirty(),l.setBaseState(),d.bindFramebuffer.set(null)}}else o.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Vr{constructor(a,r,h=!1){this.context=new Ne(a,h),this.transform=r,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=o.SourceCache.maxUnderzooming+o.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(a,r){let h=!!a&&!!a.terrain&&this.transform.projection.supportsTerrain;if(!(h||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new dc(this,a));let d=this._terrain;this.transform.elevation=h?d:null,d.update(a,this.transform,r)}_updateFog(a){let r=a.fog;if(!r||this.transform.projection.name==="globe"||r.getOpacity(this.transform.pitch)<1||r.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);let[h,d]=r.getFovAdjustedRange(this.transform._fov);if(h>d)return void(this.transform.fogCullDistSq=null);let m=h+.78*(d-h);this.transform.fogCullDistSq=m*m}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(a,r){if(this.width=a*o.exported.devicePixelRatio,this.height=r*o.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let h of this.style.order)this.style._layers[h].resize()}setup(){let a=this.context,r=new o.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(o.EXTENT,0),r.emplaceBack(0,o.EXTENT),r.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(r,o.posAttributes.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);let h=new o.StructArrayLayout2i4;h.emplaceBack(0,0),h.emplaceBack(o.EXTENT,0),h.emplaceBack(0,o.EXTENT),h.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=a.createVertexBuffer(h,o.posAttributes.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);let d=new o.StructArrayLayout2i4;d.emplaceBack(-1,-1),d.emplaceBack(1,-1),d.emplaceBack(-1,1),d.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(d,o.posAttributes.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);let m=new o.StructArrayLayout4i8;m.emplaceBack(0,0,0,0),m.emplaceBack(o.EXTENT,0,o.EXTENT,0),m.emplaceBack(0,o.EXTENT,0,o.EXTENT),m.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.mercatorBoundsBuffer=a.createVertexBuffer(m,o.boundsAttributes.members),this.mercatorBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);let _=new o.StructArrayLayout3ui6;_.emplaceBack(0,1,2),_.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(_);let y=new o.StructArrayLayout1ui2;for(let A of[0,1,3,2,0])y.emplaceBack(A);this.debugIndexBuffer=a.createIndexBuffer(y),this.emptyTexture=new o.Texture(a,new o.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),a.gl.RGBA),this.identityMat=o.create();let x=this.context.gl;this.stencilClearMode=new o.StencilMode({func:x.ALWAYS,mask:0},0,255,x.ZERO,x.ZERO,x.ZERO),this.loadTimeStamps.push(o.window.performance.now()),this.atmosphereBuffer=new Y0(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(a){return a._makeTileBoundsBuffers(this.context,this.transform.projection),a._tileBoundsBuffer?{tileBoundsBuffer:a._tileBoundsBuffer,tileBoundsIndexBuffer:a._tileBoundsIndexBuffer,tileBoundsSegments:a._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){let a=this.context,r=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(a,r.TRIANGLES,o.DepthMode.disabled,this.stencilClearMode,o.ColorMode.disabled,o.CullFaceMode.disabled,ko(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(a,r,h){if(!r||this.currentStencilSource===r.id||!a.isTileClipped()||!h||h.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let y=!1;for(let x of h)if(this._tileClippingMaskIDs[x.key]===void 0){y=!0;break}if(!y)return}this.currentStencilSource=r.id;let d=this.context,m=d.gl;this.nextStencilID+h.length>256&&this.clearStencil(),d.setColorMode(o.ColorMode.disabled),d.setDepthMode(o.DepthMode.disabled);let _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(let y of h){let x=r.getTile(y),A=this._tileClippingMaskIDs[y.key]=this.nextStencilID++,{tileBoundsBuffer:z,tileBoundsIndexBuffer:E,tileBoundsSegments:k}=this.getTileBoundsBuffers(x);_.draw(d,m.TRIANGLES,o.DepthMode.disabled,new o.StencilMode({func:m.ALWAYS,mask:0},A,255,m.KEEP,m.KEEP,m.REPLACE),o.ColorMode.disabled,o.CullFaceMode.disabled,ko(y.projMatrix),"$clipping",z,E,k)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let a=this.nextStencilID++,r=this.context.gl;return new o.StencilMode({func:r.NOTEQUAL,mask:255},a,255,r.KEEP,r.KEEP,r.REPLACE)}stencilModeForClipping(a){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(a);let r=this.context.gl;return new o.StencilMode({func:r.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,r.KEEP,r.KEEP,r.REPLACE)}stencilConfigForOverlap(a){let r=this.context.gl,h=a.sort((_,y)=>y.overscaledZ-_.overscaledZ),d=h[h.length-1].overscaledZ,m=h[0].overscaledZ-d+1;if(m>1){this.currentStencilSource=void 0,this.nextStencilID+m>256&&this.clearStencil();let _={};for(let y=0;y<m;y++)_[y+d]=new o.StencilMode({func:r.GEQUAL,mask:255},y+this.nextStencilID,255,r.KEEP,r.KEEP,r.REPLACE);return this.nextStencilID+=m,[_,h]}return[{[d]:o.StencilMode.disabled},h]}colorModeForRenderPass(){let a=this.context.gl;return this._showOverdrawInspector?new o.ColorMode([a.CONSTANT_COLOR,a.ONE],new o.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?o.ColorMode.unblended:o.ColorMode.alphaBlended}depthModeForSublayer(a,r,h){if(!this.opaquePassEnabledForLayer())return o.DepthMode.disabled;let d=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new o.DepthMode(h||this.context.gl.LEQUAL,r,[d,d])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,r){this.style=a,this.options=r,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(o.exported.now()),this.imageManager.beginFrame();let h=this.style.order,d=this.style._sourceCaches;for(let A in d){let z=d[A];z.used&&z.prepare(this.context)}let m={},_={},y={};for(let A in d){let z=d[A];m[A]=z.getVisibleCoordinates(),_[A]=m[A].slice().reverse(),y[A]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let A=0;A<h.length;A++)if(this.style._layers[h[A]].is3D()){this.opaquePassCutoff=A;break}if(this.terrain&&(this.terrain.updateTileBinding(y),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new o.GlobeSharedBuffers(this.context)),!o.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(let A of h){let z=this.style._layers[A],E=a._getLayerSourceCache(z);if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;let k=E?_[E.id]:void 0;(z.type==="custom"||z.isSky()||k&&k.length)&&this.renderLayer(this,E,z,k)}this.depthRangeFor3D=[0,1-(a.order.length+2)*this.numSublayers*this.depthEpsilon];let x=this.terrain;if(x&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&x.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:r.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=h.length-1;this.currentLayer>=0;this.currentLayer--){let A=this.style._layers[h[this.currentLayer]],z=a._getLayerSourceCache(A);if(A.isSky())continue;let E=z?_[z.id]:void 0;this._renderTileClippingMasks(A,z,E),this.renderLayer(this,z,A,E)}if(this.style.fog&&this.transform.projection.supportsFog&&function(A,z){let E=A.context,k=E.gl,R=A.transform,F=new o.DepthMode(k.LEQUAL,o.DepthMode.ReadOnly,[0,1]),B=A.useProgram("globeAtmosphere",null,R.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),N=o.globeToMercatorTransition(R.zoom),S=z.properties.get("color").toArray01(),O=z.properties.get("high-color").toArray01(),H=z.properties.get("space-color").toArray01PremultipliedAlpha(),G=o.identity$1([]);o.rotateY$1(G,G,-o.degToRad(R._center.lng)),o.rotateX$1(G,G,o.degToRad(R._center.lat)),o.rotateZ$1(G,G,R.angle),o.rotateX$1(G,G,-R._pitch);let J=o.fromQuat(new Float32Array(16),G),ee=o.mapValue(z.properties.get("star-intensity"),0,1,0,.25),Q=5e-4,se=o.mapValue(z.properties.get("horizon-blend"),0,1,Q,.25),oe=o.globeUseCustomAntiAliasing(A,E,R)&&se===Q?R.worldSize/(2*Math.PI*1.025)-1:R.globeRadius,pe=A.frameCounter/1e3%1,Pe=o.length(R.globeCenterInViewSpace),he=Math.sqrt(Math.pow(Pe,2)-Math.pow(oe,2)),we=Math.acos(he/Pe),fe=((de,be,De,Te,Re,nt,dt,Ke,st,It,Et,tt,qt,Wt)=>({u_frustum_tl:de,u_frustum_tr:be,u_frustum_br:De,u_frustum_bl:Te,u_horizon:Re,u_transition:nt,u_fadeout_range:dt,u_color:Ke,u_high_color:st,u_space_color:It,u_star_intensity:Et,u_star_size:5*o.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:tt,u_horizon_angle:qt,u_rotation_matrix:Wt}))(R.frustumCorners.TL,R.frustumCorners.TR,R.frustumCorners.BR,R.frustumCorners.BL,R.frustumCorners.horizon,N,se,S,O,H,ee,pe,we,J);A.prepareDrawProgram(E,B);let Ie=A.atmosphereBuffer;Ie&&B.draw(E,k.TRIANGLES,F,o.StencilMode.disabled,o.ColorMode.alphaBlended,o.CullFaceMode.backCW,fe,"skybox",Ie.vertexBuffer,Ie.indexBuffer,Ie.segments)}(this,this.style.fog),this.renderPass="sky",(o.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<h.length;this.currentLayer++){let A=this.style._layers[h[this.currentLayer]],z=a._getLayerSourceCache(A);A.isSky()&&this.renderLayer(this,z,A,z?_[z.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<h.length;){let A=this.style._layers[h[this.currentLayer]],z=a._getLayerSourceCache(A);if(A.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(A)){if(A.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}let E=z?(A.type==="symbol"?y:_)[z.id]:void 0;this._renderTileClippingMasks(A,z,z?m[z.id]:void 0),this.renderLayer(this,z,A,E),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let A=null;o.values(this.style._layers).forEach(z=>{let E=a._getLayerSourceCache(z);E&&!z.isHidden(this.transform.zoom)&&(!A||A.getSource().maxzoom<E.getSource().maxzoom)&&(A=E)}),A&&this.options.showTileBoundaries&&sr.debug(this,A,A.getVisibleCoordinates())}this.options.showPadding&&function(A){let z=A.transform.padding;W0(A,A.transform.height-(z.top||0),3,Br),W0(A,z.bottom||0,3,Ph),Vs(A,z.left||0,3,kh),Vs(A,A.transform.width-(z.right||0),3,Dh);let E=A.transform.centerPoint;(function(k,R,F,B){Fr(k,R-1,F-10,2,20,B),Fr(k,R-10,F-1,20,2,B)})(A,E.x,A.transform.height-E.y,Oh)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(o.window.performance.now()),this.saveCanvasCopy())}renderLayer(a,r,h,d){h.isHidden(this.transform.zoom)||(h.type==="background"||h.type==="sky"||h.type==="custom"||d&&d.length)&&(this.id=h.id,this.gpuTimingStart(h),(!a.transform.projection.unsupportedLayers||!a.transform.projection.unsupportedLayers.includes(h.type)||a.terrain&&h.type==="custom")&&sr[h.type](a,r,h,d,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;let r=this.context.extTimerQuery,h=this.gpuTimers[a.id];h||(h=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:r.createQueryEXT()}),h.calls++,r.beginQueryEXT(r.TIME_ELAPSED_EXT,h.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){let a=this.context.extTimerQuery,r=a.createQueryEXT();this.deferredRenderGpuTimeQueries.push(r),a.beginQueryEXT(a.TIME_ELAPSED_EXT,r)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;let a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;let a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){let a=this.gpuTimers;return this.gpuTimers={},a}collectDeferredRenderGpuQueries(){let a=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],a}queryGpuTimers(a){let r={};for(let h in a){let d=a[h],m=this.context.extTimerQuery,_=m.getQueryObjectEXT(d.query,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(d.query),r[h]=_}return r}queryGpuTimeDeferredRender(a){if(!this.options.gpuTimingDeferredRender)return 0;let r=this.context.extTimerQuery,h=0;for(let d of a)h+=r.getQueryObjectEXT(d,r.QUERY_RESULT_EXT)/1e6,r.deleteQueryEXT(d);return h}translatePosMatrix(a,r,h,d,m){if(!h[0]&&!h[1])return a;let _=m?d==="map"?this.transform.angle:0:d==="viewport"?-this.transform.angle:0;if(_){let A=Math.sin(_),z=Math.cos(_);h=[h[0]*z-h[1]*A,h[0]*A+h[1]*z]}let y=[m?h[0]:Fi(r,h[0],this.transform.zoom),m?h[1]:Fi(r,h[1],this.transform.zoom),0],x=new Float32Array(16);return o.translate(x,a,y),x}saveTileTexture(a){let r=this._tileTextures[a.size[0]];r?r.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){let r=this._tileTextures[a];return r&&r.length>0?r.pop():null}isPatternMissing(a){return a===null||a!==void 0&&!this.imageManager.getPattern(a.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){let a=this.terrain&&this.terrain.renderingToTexture,r=this.terrain&&this.terrain.exaggeration()===0,h=this.style&&this.style.fog,d=[];return this.terrainRenderModeElevated()&&d.push("TERRAIN"),this.transform.projection.name==="globe"&&d.push("GLOBE"),r&&d.push("ZERO_EXAGGERATION"),h&&!a&&h.getOpacity(this.transform.pitch)!==0&&d.push("FOG"),a&&d.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&d.push("OVERDRAW_INSPECTOR"),d}useProgram(a,r,h){this.cache=this.cache||{};let d=h||[],m=this.currentGlobalDefines().concat(d),_=Bt.cacheKey(oc[a],a,m,r);return this.cache[_]||(this.cache[_]=new Bt(this.context,a,oc[a],r,wc[a],m)),this.cache[_]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(a,r,h){if(this.terrain&&this.terrain.renderingToTexture)return;let d=this.style.fog;if(d){let m=d.getOpacity(this.transform.pitch),_=((y,x,A,z,E,k,R,F,B,N,S)=>{let O=y.transform,H=x.properties.get("color").toArray01();H[3]=z;let G=y.frameCounter/1e3%1;return{u_fog_matrix:A?O.calculateFogTileMatrix(A):y.identityMat,u_fog_range:x.getFovAdjustedRange(O._fov),u_fog_color:H,u_fog_horizon_blend:x.properties.get("horizon-blend"),u_fog_temporal_offset:G,u_frustum_tl:E,u_frustum_tr:k,u_frustum_br:R,u_frustum_bl:F,u_globe_pos:B,u_globe_radius:N,u_viewport:S,u_globe_transition:o.globeToMercatorTransition(O.zoom),u_is_globe:+(O.projection.name==="globe")}})(this,d,h,m,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*o.exported.devicePixelRatio,this.transform.height*o.exported.devicePixelRatio]);r.setFogUniformValues(a,_)}}setTileLoadedFlag(a){this.tileLoaded=a}saveCanvasCopy(){let a=this.canvasCopy();a&&(this.frameCopies.push(a),this.tileLoaded=!1)}canvasCopy(){let a=this.context.gl,r=a.createTexture();return a.bindTexture(a.TEXTURE_2D,r),a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,a.drawingBufferWidth,a.drawingBufferHeight,0),r}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;let a=this.style&&this.style.fog;return!!a&&a.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){let a=this._backgroundTiles,r=this._backgroundTiles={},h=this.transform.coveringTiles({tileSize:512});for(let d of h)r[d.key]=a[d.key]||new o.Tile(d,512,this.transform.tileZoom,this);return r}clearBackgroundTiles(){this._backgroundTiles={}}}class Us{constructor(a=0,r=0,h=0,d=0){if(isNaN(a)||a<0||isNaN(r)||r<0||isNaN(h)||h<0||isNaN(d)||d<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=r,this.left=h,this.right=d}interpolate(a,r,h){return r.top!=null&&a.top!=null&&(this.top=o.number(a.top,r.top,h)),r.bottom!=null&&a.bottom!=null&&(this.bottom=o.number(a.bottom,r.bottom,h)),r.left!=null&&a.left!=null&&(this.left=o.number(a.left,r.left,h)),r.right!=null&&a.right!=null&&(this.right=o.number(a.right,r.right,h)),this}getCenter(a,r){let h=o.clamp((this.left+a-this.right)/2,0,a),d=o.clamp((this.top+r-this.bottom)/2,0,r);return new o.Point(h,d)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Us(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function js(l,a){let r=o.getColumn(l,3);o.fromQuat(l,a),o.setColumn(l,3,r)}function Ft(l,a){let r=o.identity$1([]);return o.rotateZ$1(r,r,-a),o.rotateX$1(r,r,-l),r}function No(l,a){let r=[l[0],l[1],0],h=[a[0],a[1],0];if(o.length(r)>=1e-15){let _=o.normalize([],r);o.scale$2(h,_,o.dot(h,_)),a[0]=h[0],a[1]=h[1]}let d=o.cross([],a,l);if(o.len(d)<1e-15)return null;let m=Math.atan2(-d[1],d[0]);return Ft(Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2]),m)}class J0{constructor(a,r){this.position=a,this.orientation=r}get position(){return this._position}set position(a){if(a){let r=a instanceof o.MercatorCoordinate?a:new o.MercatorCoordinate(a[0],a[1],a[2]);this._renderWorldCopies&&(r.x=o.wrap(r.x,0,1)),this._position=r}else this._position=null}lookAtPoint(a,r){if(this.orientation=null,!this.position)return;let h=this.position,d=this._elevation?this._elevation.getAtPointOrZero(o.MercatorCoordinate.fromLngLat(a)):0,m=o.MercatorCoordinate.fromLngLat(a,d),_=[m.x-h.x,m.y-h.y,m.z-h.z];r||(r=[0,0,1]),r[2]=Math.abs(r[2]),this.orientation=No(_,r)}setPitchBearing(a,r){this.orientation=Ft(o.degToRad(a),o.degToRad(-r))}}class Hs{constructor(a,r){this._transform=o.identity([]),this.orientation=r,this.position=a}get mercatorPosition(){let a=this.position;return new o.MercatorCoordinate(a[0],a[1],a[2])}get position(){let a=o.getColumn(this._transform,3);return[a[0],a[1],a[2]]}set position(a){var r;a&&o.setColumn(this._transform,3,[(r=a)[0],r[1],r[2],1])}get orientation(){return this._orientation}set orientation(a){this._orientation=a||o.identity$1([]),a&&js(this._transform,this._orientation)}getPitchBearing(){let a=this.forward(),r=this.right();return{bearing:Math.atan2(-r[1],r[0]),pitch:Math.atan2(Math.sqrt(a[0]*a[0]+a[1]*a[1]),-a[2])}}setPitchBearing(a,r){this._orientation=Ft(a,r),js(this._transform,this._orientation)}forward(){let a=o.getColumn(this._transform,2);return[-a[0],-a[1],-a[2]]}up(){let a=o.getColumn(this._transform,1);return[-a[0],-a[1],-a[2]]}right(){let a=o.getColumn(this._transform,0);return[a[0],a[1],a[2]]}getCameraToWorld(a,r){let h=new Float64Array(16);return o.invert(h,this.getWorldToCamera(a,r)),h}getWorldToCameraPosition(a,r,h){let d=this.position;o.scale$2(d,d,-a);let m=new Float64Array(16);return o.fromScaling(m,[h,h,h]),o.translate(m,m,d),m[10]*=r,m}getWorldToCamera(a,r){let h=new Float64Array(16),d=new Float64Array(4),m=this.position;return o.conjugate(d,this._orientation),o.scale$2(m,m,-a),o.fromQuat(h,d),o.translate(h,h,m),h[1]*=-1,h[5]*=-1,h[9]*=-1,h[13]*=-1,h[8]*=r,h[9]*=r,h[10]*=r,h[11]*=r,h}getCameraToClipPerspective(a,r,h,d){let m=new Float64Array(16);return o.perspective(m,a,r,h,d),m}getDistanceToElevation(a,r=!1){let h=a===0?0:o.mercatorZfromAltitude(a,r?o.latFromMercatorY(this.position[1]):this.position[1]),d=this.forward();return(h-this.position[2])/d[2]}clone(){return new Hs([...this.position],[...this.orientation])}}function Nr(l,a){let r=Gs(l.projection,l.zoom,l.width,l.height),h=function(m,_,y,x,A){let z=new o.LngLat(y.lng-180*yn,y.lat),E=new o.LngLat(y.lng+180*yn,y.lat),k=m.project(z.lng,z.lat),R=m.project(E.lng,E.lat),F=-Math.atan2(R.y-k.y,R.x-k.x),B=o.MercatorCoordinate.fromLngLat(y);B.y=o.clamp(B.y,-1+yn,1-yn);let N=B.toLngLat(),S=m.project(N.lng,N.lat),O=o.MercatorCoordinate.fromLngLat(N);O.x+=yn;let H=O.toLngLat(),G=m.project(H.lng,H.lat),J=Zs(G.x-S.x,G.y-S.y,F),ee=o.MercatorCoordinate.fromLngLat(N);ee.y+=yn;let Q=ee.toLngLat(),se=m.project(Q.lng,Q.lat),oe=Zs(se.x-S.x,se.y-S.y,F),pe=Math.abs(J.x)/Math.abs(oe.y),Pe=o.identity([]);o.rotateZ(Pe,Pe,-F*(1-(A?0:x)));let he=o.identity([]);return o.scale(he,he,[1,1-(1-pe)*x,1]),he[4]=-oe.x/oe.y*x,o.rotateZ(he,he,F),o.multiply(he,Pe,he),he}(l.projection,0,l.center,r,a),d=Q0(l);return o.scale(h,h,[d,d,1]),h}function Q0(l){let a=l.projection,r=Gs(l.projection,l.zoom,l.width,l.height),h=e1(a,l.center),d=e1(a,o.LngLat.convert(a.center));return Math.pow(2,h*r+(1-r)*d)}function Gs(l,a,r,h,d=1/0){let m=l.range;if(!m)return 0;let _=Math.min(d,Math.max(r,h)),y=Math.log(_/1024)/Math.LN2;return o.smoothstep(m[0]+y,m[1]+y,a)}let yn=1/4e4;function e1(l,a){let r=o.clamp(a.lat,-o.MAX_MERCATOR_LATITUDE,o.MAX_MERCATOR_LATITUDE),h=new o.LngLat(a.lng-180*yn,r),d=new o.LngLat(a.lng+180*yn,r),m=l.project(h.lng,r),_=l.project(d.lng,r),y=o.MercatorCoordinate.fromLngLat(h),x=o.MercatorCoordinate.fromLngLat(d),A=_.x-m.x,z=_.y-m.y,E=x.x-y.x,k=x.y-y.y,R=Math.sqrt((E*E+k*k)/(A*A+z*z));return Math.log(R)/Math.LN2}function Zs(l,a,r){let h=Math.cos(r),d=Math.sin(r);return{x:l*h-a*d,y:l*d+a*h}}class Ur{constructor(a,r,h,d,m,_,y){this.tileSize=512,this._renderWorldCopies=m===void 0||m,this._minZoom=a||0,this._maxZoom=r||22,this._minPitch=h??0,this._maxPitch=d??60,this.setProjection(_),this.setMaxBounds(y),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Us,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Hs,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){let a=new Ur(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return a._elevation=this._elevation,a._centerAltitude=this._centerAltitude,a._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,a.tileSize=this.tileSize,a.mercatorFromTransition=this.mercatorFromTransition,a.width=this.width,a.height=this.height,a.cameraElevationReference=this.cameraElevationReference,a._center=this._center,a._setZoom(this.zoom),a._seaLevelZoom=this._seaLevelZoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._nearZ=this._nearZ,a._farZ=this._farZ,a._averageElevation=this._averageElevation,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._camera=this._camera.clone(),a._calcMatrices(),a.freezeTileCoverage=this.freezeTileCoverage,a.frustumCorners=this.frustumCorners,a}get elevation(){return this._elevation}set elevation(a){this._elevation!==a&&(this._elevation=a,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(a,r=!1){let h=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||h)&&this._updateCameraOnTerrain(),(a||h)&&this._constrainCamera(r),this._calcMatrices()}getProjection(){return o.pick(this.projection,["name","center","parallels"])}setProjection(a){this.projectionOptions=a||{name:"mercator"};let r=this.projection?this.getProjection():void 0;this.projection=o.getProjection(this.projectionOptions);let h=!ae(r,this.getProjection());return h&&this._calcMatrices(),this.mercatorFromTransition=!1,h}setMercatorFromTransition(){let a=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=o.getProjection({name:"mercator"});let r=a!==this.projection.name;return r&&this._calcMatrices(),r}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){let a=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get cameraWorldSize(){let a=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return o.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.Point(this.width,this.height)}get bearing(){return o.wrap(this.rotation,-180,180)}set bearing(a){this.rotation=a}get rotation(){return-this.angle/Math.PI*180}set rotation(a){let r=-a*Math.PI/180;var h;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(h=new o.ARRAY_TYPE(4),o.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h),function(d,m,_){var y=m[0],x=m[1],A=m[2],z=m[3],E=Math.sin(_),k=Math.cos(_);d[0]=y*k+A*E,d[1]=x*k+z*E,d[2]=y*-E+A*k,d[3]=x*-E+z*k}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){let r=o.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){let a=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/a)}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=o.degToRad(a),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(a){this._averageElevation=a,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(a){let r=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==r&&(this._unmodified=!1,this._setZoom(r),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(a){this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);let a=this._elevation;this._centerAltitude=a.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=a.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;let a=this._elevation,r=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],h=this.horizonLineFromTop(),d=0,m=0;for(let _=0;_<r.length;_++){let y=new o.Point(r[_][0]*this.width,h+r[_][1]*(this.height-h)),x=a.pointCoordinate(y);if(!x)continue;let A=1/Math.hypot(x[0]-this._camera.position[0],x[1]-this._camera.position[1]);d+=x[3]*A,m+=A}return m===0?NaN:d/m}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;let a=this._seaLevelZoom,r=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),h=this.pixelsPerMeter/this.worldSize*r,d=this._mercatorZfromZoom(a),m=this._mercatorZfromZoom(this._maxZoom),_=Math.max(d-h,m);this._setZoom(this._zoomFromMercatorZ(_))}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}computeZoomRelativeTo(a){let r=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,a.toAltitude())),h;h=a.z<this._camera.position[2]?[r.x,r.y,r.z]:[a.x,a.y,a.z];let d=o.length(o.sub([],this._camera.position,h));return o.clamp(this._zoomFromMercatorZ(d),this._minZoom,this._maxZoom)}setFreeCameraOptions(a){if(!this.height||!a.position&&!a.orientation)return;this._updateCameraState();let r=!1;if(a.orientation&&!o.exactEquals(a.orientation,this._camera.orientation)&&(r=this._setCameraOrientation(a.orientation)),a.position){let h=[a.position.x,a.position.y,a.position.z];o.exactEquals$1(h,this._camera.position)||(this._setCameraPosition(h),r=!0)}r&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();let a=this._camera.position,r=new J0;return r.position=new o.MercatorCoordinate(a[0],a[1],a[2]),r.orientation=this._camera.orientation,r._elevation=this.elevation,r._renderWorldCopies=this.renderWorldCopies,r}_setCameraOrientation(a){if(!o.length$1(a))return!1;o.normalize$1(a,a);let r=o.transformQuat([],[0,0,-1],a),h=o.transformQuat([],[0,-1,0],a);if(h[2]<0)return!1;let d=No(r,h);return!!d&&(this._camera.orientation=d,!0)}_setCameraPosition(a){let r=this.zoomScale(this.minZoom)*this.tileSize,h=this.zoomScale(this.maxZoom)*this.tileSize,d=this.cameraToCenterDistance;a[2]=o.clamp(a[2],d/h,d/r),this._camera.position=a}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,r,h){this._unmodified=!1,this._edgeInsets.interpolate(a,r,h),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){let r=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,r)}getVisibleUnwrappedCoordinates(a){let r=[new o.UnwrappedTileID(0,a)];if(this.renderWorldCopies){let h=this.pointCoordinate(new o.Point(0,0)),d=this.pointCoordinate(new o.Point(this.width,0)),m=this.pointCoordinate(new o.Point(this.width,this.height)),_=this.pointCoordinate(new o.Point(0,this.height)),y=Math.floor(Math.min(h.x,d.x,m.x,_.x)),x=Math.floor(Math.max(h.x,d.x,m.x,_.x)),A=1;for(let z=y-A;z<=x+A;z++)z!==0&&r.push(new o.UnwrappedTileID(z,a))}return r}coveringTiles(a){let r=this.coveringZoomLevel(a),h=r,d=this.elevation&&!a.isTerrainDEM,m=this.projection.name==="mercator";if(a.minzoom!==void 0&&r<a.minzoom)return[];a.maxzoom!==void 0&&r>a.maxzoom&&(r=a.maxzoom);let _=this.locationCoordinate(this.center),y=this.center.lat,x=1<<r,A=[x*_.x,x*_.y,0],z=this.projection.name==="globe",E=!z,k=o.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,E),R=z?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),F=x*o.mercatorZfromAltitude(1,this.center.lat),B=this._camera.position[2]/o.mercatorZfromAltitude(1,this.center.lat),N=[x*R.x,x*R.y,B*(E?1:F)],S=this.cameraToCenterDistance/a.tileSize*(a.roundZoom?1:.502),O=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?r:0,H=a.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,G=a.isTerrainDEM?-H:this._elevation?this._elevation.getMinElevationBelowMSL():0,J=this.projection.isReprojectedInTileSpace?Q0(this):1,ee=de=>{let De=new o.MercatorCoordinate(de.x+25e-6,de.y,de.z),Te=new o.MercatorCoordinate(de.x,de.y+25e-6,de.z),Re=de.toLngLat(),nt=De.toLngLat(),dt=Te.toLngLat(),Ke=this.locationCoordinate(Re),st=this.locationCoordinate(nt),It=this.locationCoordinate(dt),Et=Math.hypot(st.x-Ke.x,st.y-Ke.y),tt=Math.hypot(It.x-Ke.x,It.y-Ke.y);return Math.sqrt(Et*tt)*J/25e-6},Q=de=>{let be=H,De=G;return{aabb:o.tileAABB(this,x,0,0,0,de,De,be,this.projection),zoom:0,x:0,y:0,minZ:De,maxZ:be,wrap:de,fullyVisible:!1}},se=[],oe=[],pe=r,Pe=a.reparseOverscaled?h:r,he=de=>de*de,we=he((B-this._centerAltitude)*F),fe=de=>{if(!this._elevation||!de.tileID||!m)return;let be=this._elevation.getMinMaxForTile(de.tileID),De=de.aabb;be?(De.min[2]=be.min,De.max[2]=be.max,De.center[2]=(De.min[2]+De.max[2])/2):(de.shouldSplit=Ie(de),de.shouldSplit||(De.min[2]=De.max[2]=De.center[2]=this._centerAltitude))},Ie=de=>{if(de.zoom<O)return!0;if(de.zoom===pe)return!1;if(de.shouldSplit!=null)return de.shouldSplit;let be=de.aabb.distanceX(N),De=de.aabb.distanceY(N),Te=we,Re=1;if(z){Te=he(de.aabb.distanceZ(N));let Ke=Math.pow(2,de.zoom),st=o.latFromMercatorY((de.y+1)/Ke),It=o.latFromMercatorY(de.y/Ke),Et=Math.min(Math.max(y,st),It),tt=o.circumferenceAtLatitude(Et)/o.circumferenceAtLatitude(y);if(Re=Et===y?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,tt/this._mercatorScaleRatio),this.zoom<=o.GLOBE_ZOOM_THRESHOLD_MIN&&de.zoom===pe-1&&tt>=.9)return!0}else if(d&&(Te=he(de.aabb.distanceZ(N)*F)),this.projection.isReprojectedInTileSpace&&h<=5){let Ke=Math.pow(2,de.zoom),st=ee(new o.MercatorCoordinate((de.x+.5)/Ke,(de.y+.5)/Ke));Re=st>.85?1:st}let nt=be*be+De*De+Te,dt=he((1<<pe-de.zoom)*S*Re*((Ke,st)=>{if(st*he(.707)<Ke)return 1;let It=Math.sqrt(st/Ke);return It/(1.4144271570014144+(Math.pow(1.1,It-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Te,we),nt));return nt<dt};if(this.renderWorldCopies)for(let de=1;de<=3;de++)se.push(Q(-de)),se.push(Q(de));for(se.push(Q(0));se.length>0;){let de=se.pop(),be=de.x,De=de.y,Te=de.fullyVisible;if(!Te){let Re=de.aabb.intersects(k);if(Re===0)continue;Te=Re===2}if(de.zoom!==pe&&Ie(de))for(let Re=0;Re<4;Re++){let nt=(be<<1)+Re%2,dt=(De<<1)+(Re>>1),Ke={aabb:m?de.aabb.quadrant(Re):o.tileAABB(this,x,de.zoom+1,nt,dt,de.wrap,de.minZ,de.maxZ,this.projection),zoom:de.zoom+1,x:nt,y:dt,wrap:de.wrap,fullyVisible:Te,tileID:void 0,shouldSplit:void 0,minZ:de.minZ,maxZ:de.maxZ};d&&!z&&(Ke.tileID=new o.OverscaledTileID(de.zoom+1===pe?Pe:de.zoom+1,de.wrap,de.zoom+1,nt,dt),fe(Ke)),se.push(Ke)}else{let Re=de.zoom===pe?Pe:de.zoom;if(a.minzoom&&a.minzoom>Re)continue;let nt=A[0]-(.5+be+(de.wrap<<de.zoom))*(1<<r-de.zoom),dt=A[1]-.5-De,Ke=de.tileID?de.tileID:new o.OverscaledTileID(Re,de.wrap,de.zoom,be,De);oe.push({tileID:Ke,distanceSq:nt*nt+dt*dt})}}if(this.fogCullDistSq){let de=this.fogCullDistSq,be=this.horizonLineFromTop();oe=oe.filter(De=>{let Te=[0,0,0,1],Re=[o.EXTENT,o.EXTENT,0,1],nt=this.calculateFogTileMatrix(De.tileID.toUnwrapped());o.transformMat4$1(Te,Te,nt),o.transformMat4$1(Re,Re,nt);let dt=o.getAABBPointSquareDist(Te,Re);if(dt===0)return!0;let Ke=!1,st=this._elevation;if(st&&dt>de&&be!==0){let It=this.calculateProjMatrix(De.tileID.toUnwrapped()),Et;a.isTerrainDEM||(Et=st.getMinMaxForTile(De.tileID)),Et||(Et={min:G,max:H});let tt=o.furthestTileCorner(this.rotation),qt=[tt[0]*o.EXTENT,tt[1]*o.EXTENT,Et.max];o.transformMat4(qt,qt,It),Ke=(1-qt[1])*this.height*.5<be}return dt<de||Ke})}return oe.sort((de,be)=>de.distanceSq-be.distanceSq).map(de=>de.tileID)}resize(a,r){this.width=a,this.height=r,this.pixelsToGLUnits=[2/a,-2/r],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){let r=o.clamp(a.lat,-o.MAX_MERCATOR_LATITUDE,o.MAX_MERCATOR_LATITUDE),h=this.projection.project(a.lng,r);return new o.Point(h.x*this.worldSize,h.y*this.worldSize)}unproject(a){return this.projection.unproject(a.x/this.worldSize,a.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/o.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(a,r){let h,d,m=this.centerPoint;if(this.projection.name==="globe"){let y=this.worldSize;h=(r.x-m.x)/y,d=(r.y-m.y)/y}else{let y=this.pointCoordinate(r),x=this.pointCoordinate(m);h=y.x-x.x,d=y.y-x.y}let _=this.locationCoordinate(a);this.setLocation(new o.MercatorCoordinate(_.x-h,_.y-d))}setLocation(a){this.center=this.coordinateLocation(a),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(a){return this.projection.locationPoint(this,a)}locationPoint3D(a){return this.projection.locationPoint(this,a,!0)}pointLocation(a){return this.coordinateLocation(this.pointCoordinate(a))}pointLocation3D(a){return this.coordinateLocation(this.pointCoordinate3D(a))}locationCoordinate(a,r){let h=r?o.mercatorZfromAltitude(r,a.lat):void 0,d=this.projection.project(a.lng,a.lat);return new o.MercatorCoordinate(d.x,d.y,h)}coordinateLocation(a){return this.projection.unproject(a.x,a.y)}pointRayIntersection(a,r){let h=r??this._centerAltitude,d=[a.x,a.y,0,1],m=[a.x,a.y,1,1];o.transformMat4$1(d,d,this.pixelMatrixInverse),o.transformMat4$1(m,m,this.pixelMatrixInverse);let _=m[3];o.scale$1(d,d,1/d[3]),o.scale$1(m,m,1/_);let y=d[2],x=m[2];return{p0:d,p1:m,t:y===x?0:(h-y)/(x-y)}}screenPointToMercatorRay(a){let r=[a.x,a.y,0,1],h=[a.x,a.y,1,1];return o.transformMat4$1(r,r,this.pixelMatrixInverse),o.transformMat4$1(h,h,this.pixelMatrixInverse),o.scale$1(r,r,1/r[3]),o.scale$1(h,h,1/h[3]),r[2]=o.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,h[2]=o.mercatorZfromAltitude(h[2],this._center.lat)*this.worldSize,o.scale$1(r,r,1/this.worldSize),o.scale$1(h,h,1/this.worldSize),new o.Ray([r[0],r[1],r[2]],o.normalize([],o.sub([],h,r)))}rayIntersectionCoordinate(a){let{p0:r,p1:h,t:d}=a,m=o.mercatorZfromAltitude(r[2],this._center.lat),_=o.mercatorZfromAltitude(h[2],this._center.lat);return new o.MercatorCoordinate(o.number(r[0],h[0],d)/this.worldSize,o.number(r[1],h[1],d)/this.worldSize,o.number(m,_,d))}pointCoordinate(a,r=this._centerAltitude){return this.projection.pointCoordinate(this,a.x,a.y,r)}pointCoordinate3D(a){if(!this.elevation)return this.pointCoordinate(a);let r=this.projection.pointCoordinate3D(this,a.x,a.y);if(r)return new o.MercatorCoordinate(r[0],r[1],r[2]);let h=0,d=this.horizonLineFromTop();if(a.y>d)return this.pointCoordinate(a);let m=.02*d,_=a.clone();for(let y=0;y<10&&d-h>m;y++){_.y=o.number(h,d,.66);let x=this.projection.pointCoordinate3D(this,_.x,_.y);x?(d=_.y,r=x):h=_.y}return r?new o.MercatorCoordinate(r[0],r[1],r[2]):this.pointCoordinate(a)}isPointAboveHorizon(a){return this.projection.isPointAboveHorizon(this,a)}isPointOnSurface(a){if(a.y<0||a.y>this.height||a.x<0||a.x>this.width)return!1;if(this.elevation||this.zoom>=o.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(a);let r=this.pointCoordinate(a);return r.y>=0&&r.y<=1}_coordinatePoint(a,r){let h=r&&this.elevation?this.elevation.getAtPointOrZero(a,this._centerAltitude):this._centerAltitude,d=[a.x*this.worldSize,a.y*this.worldSize,h+a.toAltitude(),1];return o.transformMat4$1(d,d,this.pixelMatrix),d[3]>0?new o.Point(d[0]/d[3],d[1]/d[3]):new o.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){let{top:a,left:r}=this._edgeInsets,h=this.height-this._edgeInsets.bottom,d=this.width-this._edgeInsets.right,m=this.pointLocation3D(new o.Point(r,a)),_=this.pointLocation3D(new o.Point(d,a)),y=this.pointLocation3D(new o.Point(d,h)),x=this.pointLocation3D(new o.Point(r,h)),A=Math.min(m.lng,_.lng,y.lng,x.lng),z=Math.max(m.lng,_.lng,y.lng,x.lng),E=Math.min(m.lat,_.lat,y.lat,x.lat),k=Math.max(m.lat,_.lat,y.lat,x.lat),R=Math.pow(2,-this.zoom)/16*270,F=this.projection.name==="globe"?1:4,B=(N,S,O,H,G)=>{let J=(N+O)/2,ee=(S+H)/2,Q=new o.Point(J,ee),{lng:se,lat:oe}=this.pointLocation3D(Q),pe=Math.max(0,A-se,E-oe,se-z,oe-k);A=Math.min(A,se),z=Math.max(z,se),E=Math.min(E,oe),k=Math.max(k,oe),(G<F||pe>R)&&(B(N,S,J,ee,G+1),B(J,ee,O,H,G+1))};if(B(r,a,d,a,1),B(d,a,d,h,1),B(d,h,r,h,1),B(r,h,r,a,1),this.projection.name==="globe"){let[N,S]=o.polesInViewport(this);N?(k=90,z=180,A=-180):S&&(E=-90,z=180,A=-180)}return new o.LngLatBounds(new o.LngLat(A,E),new o.LngLat(z,k))}_getBoundsRectangular(a,r){let{top:h,left:d}=this._edgeInsets,m=this.height-this._edgeInsets.bottom,_=this.width-this._edgeInsets.right,y=new o.Point(d,h),x=new o.Point(_,h),A=new o.Point(_,m),z=new o.Point(d,m),E=this.pointCoordinate(y,a),k=this.pointCoordinate(x,a),R=this.pointCoordinate(A,r),F=this.pointCoordinate(z,r),B=(N,S)=>(S.y-N.y)/(S.x-N.x);return E.y>1&&k.y>=0?E=new o.MercatorCoordinate((1-F.y)/B(F,E)+F.x,1):E.y<0&&k.y<=1&&(E=new o.MercatorCoordinate(-F.y/B(F,E)+F.x,0)),k.y>1&&E.y>=0?k=new o.MercatorCoordinate((1-R.y)/B(R,k)+R.x,1):k.y<0&&E.y<=1&&(k=new o.MercatorCoordinate(-R.y/B(R,k)+R.x,0)),new o.LngLatBounds().extend(this.coordinateLocation(E)).extend(this.coordinateLocation(k)).extend(this.coordinateLocation(F)).extend(this.coordinateLocation(R))}_getBoundsRectangularTerrain(){let a=this.elevation;if(!a.visibleDemTiles.length||a.isUsingMockSource())return this._getBoundsRectangular(0,0);let r=a.visibleDemTiles.reduce((h,d)=>{if(d.dem){let m=d.dem.tree;h.min=Math.min(h.min,m.minimums[0]),h.max=Math.max(h.max,m.maximums[0])}return h},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(r.min*a.exaggeration(),r.max*a.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(a=!0){let r=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,h=this.height/2-r*(1-this._horizonShift);return a?Math.max(0,h):h}getMaxBounds(){return this.maxBounds}setMaxBounds(a){this.maxBounds=a,this.minLat=-o.MAX_MERCATOR_LATITUDE,this.maxLat=o.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,a&&(this.minLat=a.getSouth(),this.maxLat=a.getNorth(),this.minLng=a.getWest(),this.maxLng=a.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=o.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=o.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=o.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=o.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(a,r){return this.projection.createTileMatrix(this,r,a)}calculateDistanceTileData(a){let r=a.key,h=this._distanceTileDataCache;if(h[r])return h[r];let d=a.canonical,m=1/this.height,_=this.cameraWorldSize,y=_/this.zoomScale(d.z),x=(d.x+Math.pow(2,d.z)*a.wrap)*y,A=d.y*y,z=this.point;z.x*=_/this.worldSize,z.y*=_/this.worldSize;let E=this.angle,k=Math.sin(-E),R=-Math.cos(-E);return h[r]={bearing:[k,R],center:[(z.x-x)*m,(z.y-A)*m],scale:y/o.EXTENT*m},h[r]}calculateFogTileMatrix(a){let r=a.key,h=this._fogTileMatrixCache;if(h[r])return h[r];let d=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,a);return o.multiply(d,this.worldToFogMatrix,d),h[r]=new Float32Array(d),h[r]}calculateProjMatrix(a,r=!1){let h=a.key,d=r?this._alignedProjMatrixCache:this._projMatrixCache;if(d[h])return d[h];let m=this.calculatePosMatrix(a,this.worldSize);return o.multiply(m,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:r?this.alignedProjMatrix:this.projMatrix,m),d[h]=new Float32Array(m),d[h]}calculatePixelsToTileUnitsMatrix(a){let r=a.tileID.key,h=this._pixelsToTileUnitsCache;if(h[r])return h[r];let d=function(m,_){let{scale:y}=m.tileTransform,x=y*o.EXTENT/(m.tileSize*Math.pow(2,_.zoom-m.tileID.overscaledZ+m.tileID.canonical.z));return A=new Float32Array(4),k=(z=_.inverseAdjustmentMatrix)[1],R=z[2],F=z[3],N=(E=[x,x])[1],A[0]=z[0]*(B=E[0]),A[1]=k*B,A[2]=R*N,A[3]=F*N,A;var A,z,E,k,R,F,B,N}(a,this);return h[r]=d,h[r]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){let a=1/this.worldSize,r=o.fromScaling([],[a,a,a]);return o.multiply(r,r,this.globeMatrix),r}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;let a=this._elevation;this._updateCameraState();let r=o.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,h=this._computeCameraPosition(r),d=this._camera.forward(),m=o.mercatorZfromAltitude(1,this._center.lat);h[2]/=m,d[2]/=m,o.normalize(d,d);let _=a.raycast(h,d,a.exaggeration());if(_){let y=o.scaleAndAdd([],h,d,_),x=new o.MercatorCoordinate(y[0],y[1],o.mercatorZfromAltitude(y[2],o.latFromMercatorY(y[1]))),A=(x.z+o.length([x.x-h[0],x.y-h[1],x.z-h[2]*m]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(A),this._centerAltitude=x.toAltitude(),this._center=this.coordinateLocation(x),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(a=!1){if(!this._elevation)return;let r=this._elevation,h=o.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,d=this._computeCameraPosition(h),m=r.getAtPointOrZero(new o.MercatorCoordinate(...d)),_=this.pixelsPerMeter/this.worldSize*m,y=this._minimumHeightOverTerrain(),x=d[2]-_;if(x<=y)if(x<0||a){let A=this.locationCoordinate(this._center,this._centerAltitude),z=[d[0],d[1],A.z-d[2]],E=o.length(z);z[2]-=(y-x)/this._pixelsPerMercatorPixel;let k=o.length(z);if(k===0)return;o.scale$2(z,z,E/k*this._pixelsPerMercatorPixel),this._camera.position=[d[0],d[1],A.z*this._pixelsPerMercatorPixel-z[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||a){let k=this.center;return k.lat=o.clamp(k.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!a)&&(k.lng=o.clamp(k.lng,this.minLng,this.maxLng)),this.center=k,void(this._constraining=!1)}let r=this._unmodified,{x:h,y:d}=this.point,m=0,_=h,y=d,x=this.width/2,A=this.height/2,z=this.worldMinY*this.scale,E=this.worldMaxY*this.scale;if(d-A<z&&(y=z+A),d+A>E&&(y=E-A),E-z<this.height&&(m=Math.max(m,this.height/(E-z)),y=(E+z)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){let k=this.worldMinX*this.scale,R=this.worldMaxX*this.scale,F=this.worldSize/2-(k+R)/2;_=(h+F+this.worldSize)%this.worldSize-F,_-x<k&&(_=k+x),_+x>R&&(_=R-x),R-k<this.width&&(m=Math.max(m,this.width/(R-k)),_=(R+k)/2)}_===h&&y===d||(this.center=this.unproject(new o.Point(_,y))),m&&(this.zoom+=this.scaleZoom(m)),this._constrainCamera(),this._unmodified=r,this._constraining=!1}_minZoomForBounds(){let a=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(a=Math.max(a,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),a}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;let a=this.centerOffset,r=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=o.mercatorZfromAltitude(1,this.center.lat)/o.mercatorZfromAltitude(1,o.GLOBE_SCALE_MATCH_LATITUDE));let h=Gs(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,h),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;let d=this.projection.zAxisUnit==="meters"?r:1,m=this._camera.getWorldToCamera(this.worldSize,d),_=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);_[8]=2*-a.x/this.width,_[9]=2*a.y/this.height;let y=o.mul([],_,m);if(this.projection.isReprojectedInTileSpace){let ee=this.locationCoordinate(this.center),Q=o.identity([]);o.translate(Q,Q,[ee.x*this.worldSize,ee.y*this.worldSize,0]),o.multiply(Q,Q,Nr(this)),o.translate(Q,Q,[-ee.x*this.worldSize,-ee.y*this.worldSize,0]),o.multiply(y,y,Q),this.inverseAdjustmentMatrix=function(se){let oe=Nr(se,!0);return Se([],[oe[0],oe[1],oe[4],oe[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=o.scale([],y,[this.worldSize,this.worldSize,this.worldSize/d,1]),this.projMatrix=y,this.invProjMatrix=o.invert(new Float64Array(16),this.projMatrix);let x=o.invert([],_);this.frustumCorners=o.FrustumCorners.fromInvProjectionMatrix(x,this.horizonLineFromTop(),this.height);let A=new Float32Array(16);o.identity(A),o.scale(A,A,[1,-1,1]),o.rotateX(A,A,this._pitch),o.rotateZ(A,A,this.angle);let z=o.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),E=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;z[8]=2*-a.x/this.width,z[9]=2*(a.y+E)/this.height,this.skyboxMatrix=o.multiply(A,z,A);let k=this.point,R=k.x,F=k.y,B=this.width%2/2,N=this.height%2/2,S=Math.cos(this.angle),O=Math.sin(this.angle),H=R-Math.round(R)+S*B+O*N,G=F-Math.round(F)+S*N+O*B,J=new Float64Array(y);if(o.translate(J,J,[H>.5?H-1:H,G>.5?G-1:G,0]),this.alignedProjMatrix=J,y=o.create(),o.scale(y,y,[this.width/2,-this.height/2,1]),o.translate(y,y,[1,-1,0]),this.labelPlaneMatrix=y,y=o.create(),o.scale(y,y,[1,-1,1]),o.translate(y,y,[-1,-1,0]),o.scale(y,y,[2/this.width,2/this.height,1]),this.glCoordMatrix=y,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},y=o.invert(new Float64Array(16),this.pixelMatrix),!y)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=y,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=o.calculateGlobeMatrix(this);let ee=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=o.transformMat4(ee,ee,m),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=y;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};let a=this.cameraWorldSizeForFog,r=this.cameraPixelsPerMeter,h=this._camera.position,d=1/this.height/this._pixelsPerMercatorPixel,m=[a,a,r];o.scale$2(m,m,d),o.scale$2(h,h,-1),o.multiply$2(h,h,m);let _=o.create();o.translate(_,_,h),o.scale(_,_,m),this.mercatorFogMatrix=_,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(a,r,d)}_computeCameraPosition(a){let r=(a=a||this.pixelsPerMeter)/this.pixelsPerMeter,h=this._camera.forward(),d=this.point,m=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*r-a/this.worldSize*this._centerAltitude;return[d.x/this.worldSize-h[0]*m,d.y/this.worldSize-h[1]*m,a/this.worldSize*this._centerAltitude-h[2]*m]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(a){let r=this._maxCameraBoundsDistance()*Math.cos(this._pitch),h=this._camera.position[2],d=a[2],m=1;this.projection.wrap&&(this.center=this.center.wrap()),d>0&&(m=Math.min((r-h)/d,1)),this._camera.position=o.scaleAndAdd([],this._camera.position,a,m),this._updateStateFromCamera()}_updateStateFromCamera(){let a=this._camera.position,r=this._camera.forward(),{pitch:h,bearing:d}=this._camera.getPitchBearing(),m=o.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,_=this._mercatorZfromZoom(this._maxZoom)*Math.cos(o.degToRad(this._maxPitch)),y=Math.max((a[2]-m)/Math.cos(h),_),x=this._zoomFromMercatorZ(y);o.scaleAndAdd(a,a,r,y),this._pitch=o.clamp(h,o.degToRad(this.minPitch),o.degToRad(this.maxPitch)),this.angle=o.wrap(d,-Math.PI,Math.PI),this._setZoom(o.clamp(x,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new o.MercatorCoordinate(a[0],a[1],a[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(a){return Math.pow(2,a)*this.tileSize}_mercatorZfromZoom(a){return this.cameraToCenterDistance/this._worldSizeFromZoom(a)}_minimumHeightOverTerrain(){let a=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(a)}_zoomFromMercatorZ(a){return this.scaleZoom(this.cameraToCenterDistance/(a*this.tileSize))}zoomFromMercatorZAdjusted(a){let r=0,h=o.GLOBE_ZOOM_THRESHOLD_MAX,d=0,m=1/0;for(;h-r>1e-6&&h>r;){let _=r+.5*(h-r),y=this.tileSize*Math.pow(2,_),x=this.getCameraToCenterDistance(this.projection,_,y),A=this.scaleZoom(x/(a*this.tileSize)),z=Math.abs(_-A);z<m&&(m=z,d=_),_<A?r=_:h=_}return d}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(o.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(a,r){let h=Math.min(a.x,r.x),d=Math.max(a.x,r.x),m=Math.min(a.y,r.y),_=Math.max(a.y,r.y);if(m<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;let y=[new o.Point(h,m),new o.Point(d,_),new o.Point(h,_),new o.Point(d,m)],x=this.renderWorldCopies?-3:0,A=this.renderWorldCopies?4:1;for(let z of y){let E=this.pointRayIntersection(z);if(E.t<0)return!0;let k=this.rayIntersectionCoordinate(E);if(k.x<x||k.y<0||k.x>A||k.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+o.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new o.Point(0,0),new o.Point(this.width,this.height))}zoomDeltaToMovement(a,r){let h=o.length(o.sub([],this._camera.position,a)),d=this._zoomFromMercatorZ(h)+r;return h-this._mercatorZfromZoom(d)}getCameraPoint(){if(this.projection.name==="globe"){let a=function([r,h,d],m){let _=[r,h,d,1];o.transformMat4$1(_,_,m);let y=_[3]=Math.max(_[3],1e-6);return _[0]/=y,_[1]/=y,_[2]/=y,_}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new o.Point(a[0],a[1])}{let a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,a))}}getCameraToCenterDistance(a,r=this.zoom,h=this.worldSize){let d=Gs(a,r,this.width,this.height,1024),m=a.pixelSpaceConversion(this.center.lat,h,d);return .5/Math.tan(.5*this._fov)*this.height*m}getWorldToCameraMatrix(){let a=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&o.multiply(a,a,this.globeMatrix),a}}function jr(l,a){let r=!1,h=null,d=()=>{h=null,r&&(l(),h=setTimeout(d,a),r=!1)};return()=>(r=!0,h||d(),h)}class Ac{constructor(a){this._hashName=a&&encodeURIComponent(a),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=jr(this._updateHashUnthrottled.bind(this),300)}addTo(a){return this._map=a,o.window.addEventListener("hashchange",this._onHashChange,!1),a.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),o.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){let a=this._map;if(!a)return"";let r=Uo(a);if(this._hashName){let h=this._hashName,d=!1,m=o.window.location.hash.slice(1).split("&").map(_=>{let y=_.split("=")[0];return y===h?(d=!0,`${y}=${r}`):_}).filter(_=>_);return d||m.push(`${h}=${r}`),`#${m.join("&")}`}return`#${r}`}_getCurrentHash(){let a=o.window.location.hash.replace("#","");if(this._hashName){let r;return a.split("&").map(h=>h.split("=")).forEach(h=>{h[0]===this._hashName&&(r=h)}),(r&&r[1]||"").split("/")}return a.split("/")}_onHashChange(){let a=this._map;if(!a)return!1;let r=this._getCurrentHash();if(r.length>=3&&!r.some(h=>isNaN(h))){let h=a.dragRotate.isEnabled()&&a.touchZoomRotate.isEnabled()?+(r[3]||0):a.getBearing();return a.jumpTo({center:[+r[2],+r[1]],zoom:+r[0],bearing:h,pitch:+(r[4]||0)}),!0}return!1}_updateHashUnthrottled(){let a=o.window.location.href.replace(/(#.+)?$/,this.getHashString());o.window.history.replaceState(o.window.history.state,null,a)}}function Uo(l,a){let r=l.getCenter(),h=Math.round(100*l.getZoom())/100,d=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),m=Math.pow(10,d),_=Math.round(r.lng*m)/m,y=Math.round(r.lat*m)/m,x=l.getBearing(),A=l.getPitch(),z=a?`/${_}/${y}/${h}`:`${h}/${y}/${_}`;return(x||A)&&(z+="/"+Math.round(10*x)/10),A&&(z+=`/${Math.round(A)}`),z}let jo={linearity:.3,easing:o.bezier(0,0,.3,1)},$s=o.extend({deceleration:2500,maxSpeed:1400},jo),qs=o.extend({deceleration:20,maxSpeed:1400},jo),qe=o.extend({deceleration:1e3,maxSpeed:360},jo),Na=o.extend({deceleration:1e3,maxSpeed:90},jo);class t1{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.exported.now(),settings:a})}_drainInertiaBuffer(){let a=this._inertiaBuffer,r=o.exported.now();for(;a.length>0&&r-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;let r={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0};for(let{settings:m}of this._inertiaBuffer)r.zoom+=m.zoomDelta||0,r.bearing+=m.bearingDelta||0,r.pitch+=m.pitchDelta||0,m.panDelta&&r.pan._add(m.panDelta),m.around&&(r.around=m.around),m.pinchAround&&(r.pinchAround=m.pinchAround);let h=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,d={};if(r.pan.mag()){let m=Go(r.pan.mag(),h,o.extend({},$s,a||{}));d.offset=r.pan.mult(m.amount/r.pan.mag()),d.center=this._map.transform.center,Ho(d,m)}if(r.zoom){let m=Go(r.zoom,h,qs);d.zoom=this._map.transform.zoom+m.amount,Ho(d,m)}if(r.bearing){let m=Go(r.bearing,h,qe);d.bearing=this._map.transform.bearing+o.clamp(m.amount,-179,179),Ho(d,m)}if(r.pitch){let m=Go(r.pitch,h,Na);d.pitch=this._map.transform.pitch+m.amount,Ho(d,m)}if(d.zoom||d.bearing){let m=r.pinchAround===void 0?r.around:r.pinchAround;d.around=m?this._map.unproject(m):this._map.getCenter()}return this.clear(),d.noMoveStart=!0,d}}function Ho(l,a){(!l.duration||l.duration<a.duration)&&(l.duration=a.duration,l.easing=a.easing)}function Go(l,a,r){let{maxSpeed:h,linearity:d,deceleration:m}=r,_=o.clamp(l*d/(a/1e3),-h,h),y=Math.abs(_)/(m*d);return{easing:r.easing,duration:1e3*y,amount:_*(y/2)}}class Ui extends o.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,r,h,d={}){let m=He(r.getCanvasContainer(),h),_=r.unproject(m);super(a,o.extend({point:m,lngLat:_,originalEvent:h},d)),this._defaultPrevented=!1,this.target=r}}class Zo extends o.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,r,h){let d=a==="touchend"?h.changedTouches:h.touches,m=at(r.getCanvasContainer(),d),_=m.map(x=>r.unproject(x)),y=m.reduce((x,A,z,E)=>x.add(A.div(E.length)),new o.Point(0,0));super(a,{points:m,point:y,lngLats:_,lngLat:r.unproject(y),originalEvent:h}),this._defaultPrevented=!1}}class Ws extends o.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,r,h){super(a,{originalEvent:h}),this._defaultPrevented=!1}}class Tc{constructor(a,r){this._map=a,this._clickTolerance=r.clickTolerance}reset(){this._mousedownPos=void 0}wheel(a){return this._firePreventable(new Ws(a.type,this._map,a))}mousedown(a,r){return this._mousedownPos=r,this._firePreventable(new Ui(a.type,this._map,a))}mouseup(a){this._map.fire(new Ui(a.type,this._map,a))}preclick(a){let r=o.extend({},a);r.type="preclick",this._map.fire(new Ui(r.type,this._map,r))}click(a,r){this._mousedownPos&&this._mousedownPos.dist(r)>=this._clickTolerance||(this.preclick(a),this._map.fire(new Ui(a.type,this._map,a)))}dblclick(a){return this._firePreventable(new Ui(a.type,this._map,a))}mouseover(a){this._map.fire(new Ui(a.type,this._map,a))}mouseout(a){this._map.fire(new Ui(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Zo(a.type,this._map,a))}touchmove(a){this._map.fire(new Zo(a.type,this._map,a))}touchend(a){this._map.fire(new Zo(a.type,this._map,a))}touchcancel(a){this._map.fire(new Zo(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Xs{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(a){this._map.fire(new Ui(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ui("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._map.fire(new Ui(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class i1{constructor(a,r){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=r.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,r){this.isEnabled()&&a.shiftKey&&a.button===0&&(li(),this._startPos=this._lastPos=r,this._active=!0)}mousemoveWindow(a,r){if(!this._active)return;let h=r,d=this._startPos,m=this._lastPos;if(!d||!m||m.equals(h)||!this._box&&h.dist(d)<this._clickTolerance)return;this._lastPos=h,this._box||(this._box=ht("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));let _=Math.min(d.x,h.x),y=Math.max(d.x,h.x),x=Math.min(d.y,h.y),A=Math.max(d.y,h.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${_}px,${x}px)`,this._box.style.width=y-_+"px",this._box.style.height=A-x+"px")})}mouseupWindow(a,r){if(!this._active)return;let h=this._startPos,d=r;if(h&&a.button===0){if(this.reset(),ut(),h.x!==d.x||h.y!==d.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:m=>m.fitScreenCoordinates(h,d,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",a)}}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Nt(),delete this._startPos,delete this._lastPos}_fireEvent(a,r){return this._map.fire(new o.Event(a,{originalEvent:r}))}}function Ks(l,a){let r={};for(let h=0;h<l.length;h++)r[l[h].identifier]=a[h];return r}class Hr{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(a,r,h){(this.centroid||h.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=a.timeStamp),h.length===this.numTouches&&(this.centroid=function(d){let m=new o.Point(0,0);for(let _ of d)m._add(_);return m.div(d.length)}(r),this.touches=Ks(h,r)))}touchmove(a,r,h){if(this.aborted||!this.centroid)return;let d=Ks(h,r);for(let m in this.touches){let _=d[m];(!_||_.dist(this.touches[m])>30)&&(this.aborted=!0)}}touchend(a,r,h){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),h.length===0){let d=!this.aborted&&this.centroid;if(this.reset(),d)return d}}}class Cc{constructor(a){this.singleTap=new Hr(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(a,r,h){this.singleTap.touchstart(a,r,h)}touchmove(a,r,h){this.singleTap.touchmove(a,r,h)}touchend(a,r,h){let d=this.singleTap.touchend(a,r,h);if(d){let m=a.timeStamp-this.lastTime<500,_=!this.lastTap||this.lastTap.dist(d)<30;if(m&&_||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=d,this.count===this.numTaps)return this.reset(),d}}}class Bh{constructor(){this._zoomIn=new Cc({numTouches:1,numTaps:2}),this._zoomOut=new Cc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,r,h){this._zoomIn.touchstart(a,r,h),this._zoomOut.touchstart(a,r,h)}touchmove(a,r,h){this._zoomIn.touchmove(a,r,h),this._zoomOut.touchmove(a,r,h)}touchend(a,r,h){let d=this._zoomIn.touchend(a,r,h),m=this._zoomOut.touchend(a,r,h);return d?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:_=>_.easeTo({duration:300,zoom:_.getZoom()+1,around:_.unproject(d)},{originalEvent:a})}):m?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:_=>_.easeTo({duration:300,zoom:_.getZoom()-1,around:_.unproject(m)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}let a1={0:1,2:2};class Gr{constructor(a){this.reset(),this._clickTolerance=a.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(a,r){return!1}_move(a,r){return{}}mousedown(a,r){if(this._lastPoint)return;let h=ct(a);this._correctButton(a,h)&&(this._lastPoint=r,this._eventButton=h)}mousemoveWindow(a,r){let h=this._lastPoint;if(h){if(a.preventDefault(),this._eventButton!=null&&function(d,m){let _=a1[m];return d.buttons===void 0||(d.buttons&_)!==_}(a,this._eventButton))this.reset();else if(this._moved||!(r.dist(h)<this._clickTolerance))return this._moved=!0,this._lastPoint=r,this._move(h,r)}}mouseupWindow(a){this._lastPoint&&ct(a)===this._eventButton&&(this._moved&&ut(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ec extends Gr{mousedown(a,r){super.mousedown(a,r),this._lastPoint&&(this._active=!0)}_correctButton(a,r){return r===0&&!a.ctrlKey}_move(a,r){return{around:r,panDelta:r.sub(a)}}}class Sc extends Gr{_correctButton(a,r){return r===0&&a.ctrlKey||r===2}_move(a,r){let h=.8*(r.x-a.x);if(h)return this._active=!0,{bearingDelta:h}}contextmenu(a){a.preventDefault()}}class Lc extends Gr{_correctButton(a,r){return r===0&&a.ctrlKey||r===2}_move(a,r){let h=-.5*(r.y-a.y);if(h)return this._active=!0,{pitchDelta:h}}contextmenu(a){a.preventDefault()}}class Ys{constructor(a,r){this._map=a,this._el=a.getCanvasContainer(),this._minTouches=1,this._clickTolerance=r.clickTolerance||1,this.reset(),o.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)}touchstart(a,r,h){return this._calculateTransform(a,r,h)}touchmove(a,r,h){if(this._active&&!(h.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(h.length===1&&!o.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return a.cancelable&&a.preventDefault(),this._calculateTransform(a,r,h)}}touchend(a,r,h){this._calculateTransform(a,r,h),this._active&&h.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,r,h){h.length>0&&(this._active=!0);let d=Ks(h,r),m=new o.Point(0,0),_=new o.Point(0,0),y=0;for(let A in d){let z=d[A],E=this._touches[A];E&&(m._add(z),_._add(z.sub(E)),y++,d[A]=z)}if(this._touches=d,y<this._minTouches||!_.mag())return;let x=_.div(y);return this._sum._add(x),this._sum.mag()<this._clickTolerance?void 0:{around:m.div(y),panDelta:x}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ht("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class $o{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(a){}_move(a,r,h){return{}}touchstart(a,r,h){this._firstTwoTouches||h.length<2||(this._firstTwoTouches=[h[0].identifier,h[1].identifier],this._start([r[0],r[1]]))}touchmove(a,r,h){let d=this._firstTwoTouches;if(!d)return;a.preventDefault();let[m,_]=d,y=qo(h,r,m),x=qo(h,r,_);if(!y||!x)return;let A=this._aroundCenter?null:y.add(x).div(2);return this._move([y,x],A,a)}touchend(a,r,h){if(!this._firstTwoTouches)return;let[d,m]=this._firstTwoTouches,_=qo(h,r,d),y=qo(h,r,m);_&&y||(this._active&&ut(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function qo(l,a,r){for(let h=0;h<l.length;h++)if(l[h].identifier===r)return a[h]}function Ic(l,a){return Math.log(l/a)/Math.LN2}class n1 extends $o{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,r){let h=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Ic(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ic(this._distance,h),pinchAround:r}}}function Pc(l,a){return 180*l.angleWith(a)/Math.PI}class r1 extends $o{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,r){let h=this._vector;if(this._vector=a[0].sub(a[1]),h&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Pc(this._vector,h),pinchAround:r}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());let r=25/(Math.PI*this._minDiameter)*360,h=this._startVector;if(!h)return!1;let d=Pc(a,h);return Math.abs(d)<r}}function Fn(l){return Math.abs(l.y)>Math.abs(l.x)}class o1 extends $o{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(a){this._lastPoints=a,Fn(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,r,h){let d=this._lastPoints;if(!d)return;let m=a[0].sub(d[0]),_=a[1].sub(d[1]);return this._map._cooperativeGestures&&!o.isFullscreen()&&h.touches.length<3||(this._valid=this.gestureBeginsVertically(m,_,h.timeStamp),!this._valid)?void 0:(this._lastPoints=a,this._active=!0,{pitchDelta:(m.y+_.y)/2*-.5})}gestureBeginsVertically(a,r,h){if(this._valid!==void 0)return this._valid;let d=a.mag()>=2,m=r.mag()>=2;if(!d&&!m)return;if(!d||!m)return this._firstMove==null&&(this._firstMove=h),h-this._firstMove<100&&void 0;let _=a.y>0==r.y>0;return Fn(a)&&Fn(r)&&_}}let s1={panStep:100,bearingStep:15,pitchStep:10};class Fh{constructor(){let a=s1;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let r=0,h=0,d=0,m=0,_=0;switch(a.keyCode){case 61:case 107:case 171:case 187:r=1;break;case 189:case 109:case 173:r=-1;break;case 37:a.shiftKey?h=-1:(a.preventDefault(),m=-1);break;case 39:a.shiftKey?h=1:(a.preventDefault(),m=1);break;case 38:a.shiftKey?d=1:(a.preventDefault(),_=-1);break;case 40:a.shiftKey?d=-1:(a.preventDefault(),_=1);break;default:return}return this._rotationDisabled&&(h=0,d=0),{cameraAnimation:y=>{let x=y.getZoom();y.easeTo({duration:300,easeId:"keyboardHandler",easing:l1,zoom:r?Math.round(x)+r*(a.shiftKey?2:1):x,bearing:y.getBearing()+h*this._bearingStep,pitch:y.getPitch()+d*this._pitchStep,offset:[-m*this._panStep,-_*this._panStep],center:y.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function l1(l){return l*(2-l)}let kc=4.000244140625;class c1{constructor(a,r){this._map=a,this._el=a.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,o.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(a.ctrlKey||a.metaKey||this.isZooming()||o.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let r=a.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,h=o.exported.now(),d=h-(this._lastWheelEventTime||0);this._lastWheelEventTime=h,r!==0&&r%kc==0?this._type="wheel":r!==0&&Math.abs(r)<4?this._type="trackpad":d>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(d*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),a.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=a,this._delta-=r,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let r=He(this._el,a);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:r,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let a=this._map.transform;this._type==="wheel"&&a.projection.wrap&&(a._center.lng>=180||a._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);let r=()=>a._terrainEnabled()&&this._aroundCoord?a.computeZoomRelativeTo(this._aroundCoord):a.zoom;if(this._delta!==0){let x=this._type==="wheel"&&Math.abs(this._delta)>kc?this._wheelZoomRate:this._defaultZoomRate,A=2/(1+Math.exp(-Math.abs(this._delta*x)));this._delta<0&&A!==0&&(A=1/A);let z=r(),E=Math.pow(2,z),k=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):E;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(k*A))),this._type==="wheel"&&(this._startZoom=z,this._easing=this._smoothOutEasing(200)),this._delta=0}let h=typeof this._targetZoom=="number"?this._targetZoom:r(),d=this._startZoom,m=this._easing,_,y=!1;if(this._type==="wheel"&&d&&m){let x=Math.min((o.exported.now()-this._lastWheelEventTime)/200,1),A=m(x);_=o.number(d,h,A),x<1?this._frameId||(this._frameId=!0):y=!0}else _=h,y=!0;return this._active=!0,y&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!y,zoomDelta:_-r(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let r=o.ease;if(this._prevEase){let h=this._prevEase,d=(o.exported.now()-h.start)/h.duration,m=h.easing(d+.01)-h.easing(d),_=.27/Math.sqrt(m*m+1e-4)*.01,y=Math.sqrt(.0729-_*_);r=o.bezier(_,y,.25,1)}return this._prevEase={start:o.exported.now(),duration:a,easing:r},r}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ht("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(o.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class h1{constructor(a,r){this._clickZoom=a,this._tapZoom=r}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class na{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(a,r){return a.preventDefault(),{cameraAnimation:h=>{h.easeTo({duration:300,zoom:h.getZoom()+(a.shiftKey?-1:1),around:h.unproject(r)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vh{constructor(){this._tap=new Cc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(a,r,h){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?h.length>0&&(this._swipePoint=r[0],this._swipeTouch=h[0].identifier):this._tap.touchstart(a,r,h))}touchmove(a,r,h){if(this._tapTime){if(this._swipePoint){if(h[0].identifier!==this._swipeTouch)return;let d=r[0],m=d.y-this._swipePoint.y;return this._swipePoint=d,a.preventDefault(),this._active=!0,{zoomDelta:m/128}}}else this._tap.touchmove(a,r,h)}touchend(a,r,h){this._tapTime?this._swipePoint&&h.length===0&&this.reset():this._tap.touchend(a,r,h)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class u1{constructor(a,r,h){this._el=a,this._mousePan=r,this._touchPan=h}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Nh{constructor(a,r,h){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=r,this._mousePitch=h}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Uh{constructor(a,r,h,d){this._el=a,this._touchZoom=r,this._touchRotate=h,this._tapDragZoom=d,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}let La=l=>l.zoom||l.drag||l.pitch||l.rotate;class d1 extends o.Event{}class jh{constructor(){this.constants=[1,1,.01],this.radius=0}setup(a,r){let h=o.sub([],r,a);this.radius=o.length(h[2]<0?o.div([],h,this.constants):[h[0],h[1],0])}projectRay(a){o.div(a,a,this.constants),o.normalize(a,a),o.mul$1(a,a,this.constants);let r=o.scale$2([],a,this.radius);if(r[2]>0){let h=o.scale$2([],[0,0,1],o.dot(r,[0,0,1])),d=o.scale$2([],o.normalize([],[r[0],r[1],0]),this.radius),m=o.add([],r,o.scale$2([],o.sub([],o.add([],d,h),r),2));r[0]=m[0],r[1]=m[1]}return r}}function Ua(l){return l.panDelta&&l.panDelta.mag()||l.zoomDelta||l.bearingDelta||l.pitchDelta}class Ka{constructor(a,r){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new t1(a),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new jh,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(r),o.bindAll(["handleEvent","handleWindowEvent"],this);let h=this._el;this._listeners=[[h,"touchstart",{passive:!0}],[h,"touchmove",{passive:!1}],[h,"touchend",void 0],[h,"touchcancel",void 0],[h,"mousedown",void 0],[h,"mousemove",void 0],[h,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[h,"mouseover",void 0],[h,"mouseout",void 0],[h,"dblclick",void 0],[h,"click",void 0],[h,"keydown",{capture:!1}],[h,"keyup",void 0],[h,"wheel",{passive:!1}],[h,"contextmenu",void 0],[o.window,"blur",void 0]];for(let[d,m,_]of this._listeners)d.addEventListener(m,d===o.window.document?this.handleWindowEvent:this.handleEvent,_)}destroy(){for(let[a,r,h]of this._listeners)a.removeEventListener(r,a===o.window.document?this.handleWindowEvent:this.handleEvent,h)}_addDefaultHandlers(a){let r=this._map,h=r.getCanvasContainer();this._add("mapEvent",new Tc(r,a));let d=r.boxZoom=new i1(r,a);this._add("boxZoom",d);let m=new Bh,_=new na;r.doubleClickZoom=new h1(_,m),this._add("tapZoom",m),this._add("clickZoom",_);let y=new Vh;this._add("tapDragZoom",y);let x=r.touchPitch=new o1(r);this._add("touchPitch",x);let A=new Sc(a),z=new Lc(a);r.dragRotate=new Nh(a,A,z),this._add("mouseRotate",A,["mousePitch"]),this._add("mousePitch",z,["mouseRotate"]);let E=new Ec(a),k=new Ys(r,a);r.dragPan=new u1(h,E,k),this._add("mousePan",E),this._add("touchPan",k,["touchZoom","touchRotate"]);let R=new r1,F=new n1;r.touchZoomRotate=new Uh(h,F,R,y),this._add("touchRotate",R,["touchPan","touchZoom"]),this._add("touchZoom",F,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Xs(r));let B=r.scrollZoom=new c1(r,this);this._add("scrollZoom",B,["mousePan"]);let N=r.keyboard=new Fh;this._add("keyboard",N);for(let S of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[S]&&r[S].enable(a[S])}_add(a,r,h){this._handlers.push({handlerName:a,handler:r,allowed:h}),this._handlersById[a]=r}stop(a){if(!this._updatingCamera){for(let{handler:r}of this._handlers)r.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(let{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!La(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(a,r,h){for(let d in a)if(d!==h&&(!r||r.indexOf(d)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){let r=[];for(let h of a)this._el.contains(h.target)&&r.push(h);return r}handleEvent(a,r){this._updatingCamera=!0;let h=a.type==="renderFrame",d=h?void 0:a,m={needsRenderFrame:!1},_={},y={},x=a.touches?this._getMapTouches(a.touches):void 0,A=x?at(this._el,x):h?void 0:He(this._el,a);for(let{handlerName:k,handler:R,allowed:F}of this._handlers){if(!R.isEnabled())continue;let B;this._blockedByActive(y,F,k)?R.reset():R[r||a.type]&&(B=R[r||a.type](a,A,x),this.mergeHandlerResult(m,_,B,k,d),B&&B.needsRenderFrame&&this._triggerRenderFrame()),(B||R.isActive())&&(y[k]=R)}let z={};for(let k in this._previousActiveHandlers)y[k]||(z[k]=d);this._previousActiveHandlers=y,(Object.keys(z).length||Ua(m))&&(this._changes.push([m,_,z]),this._triggerRenderFrame()),(Object.keys(y).length||Ua(m))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:E}=m;E&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],E(this._map))}mergeHandlerResult(a,r,h,d,m){if(!h)return;o.extend(a,h);let _={handlerName:d,originalEvent:h.originalEvent||m};h.zoomDelta!==void 0&&(r.zoom=_),h.panDelta!==void 0&&(r.drag=_),h.pitchDelta!==void 0&&(r.pitch=_),h.bearingDelta!==void 0&&(r.rotate=_)}_applyChanges(){let a={},r={},h={};for(let[d,m,_]of this._changes)d.panDelta&&(a.panDelta=(a.panDelta||new o.Point(0,0))._add(d.panDelta)),d.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+d.zoomDelta),d.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+d.bearingDelta),d.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+d.pitchDelta),d.around!==void 0&&(a.around=d.around),d.aroundCoord!==void 0&&(a.aroundCoord=d.aroundCoord),d.pinchAround!==void 0&&(a.pinchAround=d.pinchAround),d.noInertia&&(a.noInertia=d.noInertia),o.extend(r,m),o.extend(h,_);this._updateMapTransform(a,r,h),this._changes=[]}_updateMapTransform(a,r,h){let d=this._map,m=d.transform,_=O=>[O.x,O.y,O.z];if((O=>{let H=this._eventsInProgress.drag;return H&&!this._handlersById[H.handlerName].isActive()})()&&!Ua(a)){let O=m.zoom;m.cameraElevationReference="sea",m.recenterOnTerrain(),m.cameraElevationReference="ground",O!==m.zoom&&this._map._update(!0)}if(m._isCameraConstrained&&d._stop(!0),!Ua(a))return void this._fireEvents(r,h,!0);let{panDelta:y,zoomDelta:x,bearingDelta:A,pitchDelta:z,around:E,aroundCoord:k,pinchAround:R}=a;m._isCameraConstrained&&(x>0&&(x=0),m._isCameraConstrained=!1),R!==void 0&&(E=R),(x||(O=>r[O]&&!this._eventsInProgress[O])("drag"))&&E&&(this._dragOrigin=_(m.pointCoordinate3D(E)),this._trackingEllipsoid.setup(m._camera.position,this._dragOrigin)),m.cameraElevationReference="sea",d._stop(!0),E=E||d.transform.centerPoint,A&&(m.bearing+=A),z&&(m.pitch+=z),m._updateCameraState();let F=[0,0,0];if(y)if(m.projection.name==="mercator"){let O=this._trackingEllipsoid.projectRay(m.screenPointToMercatorRay(E).dir),H=this._trackingEllipsoid.projectRay(m.screenPointToMercatorRay(E.sub(y)).dir);F[0]=H[0]-O[0],F[1]=H[1]-O[1]}else{let O=m.pointCoordinate(E);if(m.projection.name==="globe"){y=y.rotate(-m.angle);let H=m._pixelsPerMercatorPixel/m.worldSize;F[0]=-y.x*o.mercatorScale(o.latFromMercatorY(O.y))*H,F[1]=-y.y*o.mercatorScale(m.center.lat)*H}else{let H=m.pointCoordinate(E.sub(y));O&&H&&(F[0]=H.x-O.x,F[1]=H.y-O.y)}}let B=m.zoom,N=[0,0,0];if(x){let O=_(k||m.pointCoordinate3D(E)),H={dir:o.normalize([],o.sub([],O,m._camera.position))};if(H.dir[2]<0){let G=m.zoomDeltaToMovement(O,x);o.scale$2(N,H.dir,G)}}let S=o.add(F,F,N);m._translateCameraConstrained(S),x&&Math.abs(m.zoom-B)>1e-4&&m.recenterOnTerrain(),m.cameraElevationReference="ground",this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(r,h,!0)}_fireEvents(a,r,h){let d=La(this._eventsInProgress),m=La(a),_={};for(let z in a){let{originalEvent:E}=a[z];this._eventsInProgress[z]||(_[`${z}start`]=E),this._eventsInProgress[z]=a[z]}!d&&m&&this._fireEvent("movestart",m.originalEvent);for(let z in _)this._fireEvent(z,_[z]);m&&this._fireEvent("move",m.originalEvent);for(let z in a){let{originalEvent:E}=a[z];this._fireEvent(z,E)}let y={},x;for(let z in this._eventsInProgress){let{handlerName:E,originalEvent:k}=this._eventsInProgress[z];this._handlersById[E].isActive()||(delete this._eventsInProgress[z],x=r[E]||k,y[`${z}end`]=x)}for(let z in y)this._fireEvent(z,y[z]);let A=La(this._eventsInProgress);if(h&&(d||m)&&!A){this._updatingCamera=!0;let z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),E=k=>k!==0&&-this._bearingSnap<k&&k<this._bearingSnap;z?(E(z.bearing||this._map.getBearing())&&(z.bearing=0),this._map.easeTo(z,{originalEvent:x})):(this._map.fire(new o.Event("moveend",{originalEvent:x})),E(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,r){this._map.fire(new o.Event(a,r?{originalEvent:r}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{this._frameId=void 0,this.handleEvent(new d1("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}let lr="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Js extends o.Evented{constructor(a,r){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=r.bearingSnap,this._respectPrefersReducedMotion=r.respectPrefersReducedMotion!==!1,o.bindAll(["_renderFrameCallback"],this)}getCenter(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,r){return this.jumpTo({center:a},r)}panBy(a,r,h){return a=o.Point.convert(a).mult(-1),this.panTo(this.transform.center,o.extend({offset:a},r),h)}panTo(a,r,h){return this.easeTo(o.extend({center:a},r),h)}getZoom(){return this.transform.zoom}setZoom(a,r){return this.jumpTo({zoom:a},r),this}zoomTo(a,r,h){return this.easeTo(o.extend({zoom:a},r),h)}zoomIn(a,r){return this.zoomTo(this.getZoom()+1,a,r),this}zoomOut(a,r){return this.zoomTo(this.getZoom()-1,a,r),this}getBearing(){return this.transform.bearing}setBearing(a,r){return this.jumpTo({bearing:a},r),this}getPadding(){return this.transform.padding}setPadding(a,r){return this.jumpTo({padding:a},r),this}rotateTo(a,r,h){return this.easeTo(o.extend({bearing:a},r),h)}resetNorth(a,r){return this.rotateTo(0,o.extend({duration:1e3},a),r),this}resetNorthPitch(a,r){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},a),r),this}snapToNorth(a,r){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,r):this}getPitch(){return this.transform.pitch}setPitch(a,r){return this.jumpTo({pitch:a},r),this}cameraForBounds(a,r){a=o.LngLatBounds.convert(a);let h=r&&r.bearing||0,d=r&&r.pitch||0,m=a.getNorthWest(),_=a.getSouthEast();return this._cameraForBounds(this.transform,m,_,h,d,r)}_extendCameraOptions(a){let r={top:0,bottom:0,right:0,left:0};if(typeof(a=o.extend({padding:r,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding=="number"){let h=a.padding;a.padding={top:h,bottom:h,right:h,left:h}}return a.padding=o.extend(r,a.padding),a}_minimumAABBFrustumDistance(a,r){let h=r.max[0]-r.min[0],d=r.max[1]-r.min[1];return h/d>a.aspect?h/(2*Math.tan(.5*a.fovX)*a.aspect):d/(2*Math.tan(.5*a.fovY)*a.aspect)}_cameraForBoundsOnGlobe(a,r,h,d,m,_){let y=a.clone(),x=this._extendCameraOptions(_);y.bearing=d,y.pitch=m;let A=o.LngLat.convert(r),z=o.LngLat.convert(h),E=.5*(A.lat+z.lat),k=.5*(A.lng+z.lng),R=o.latLngToECEF(E,k),F=o.normalize([],R),B=o.normalize([],o.cross([],F,[0,1,0])),N=o.cross([],B,F),S=[B[0],B[1],B[2],0,N[0],N[1],N[2],0,F[0],F[1],F[2],0,0,0,0,1],O=[R,o.latLngToECEF(A.lat,A.lng),o.latLngToECEF(z.lat,A.lng),o.latLngToECEF(z.lat,z.lng),o.latLngToECEF(A.lat,z.lng),o.latLngToECEF(E,A.lng),o.latLngToECEF(E,z.lng),o.latLngToECEF(A.lat,k),o.latLngToECEF(z.lat,k)],H=o.Aabb.fromPoints(O.map(Te=>[o.dot(B,Te),o.dot(N,Te),o.dot(F,Te)])),G=o.transformMat4([],H.center,S);o.squaredLength(G)===0&&o.set(G,0,0,1),o.normalize(G,G),o.scale$2(G,G,o.GLOBE_RADIUS),y.center=o.ecefToLatLng(G);let J=y.getWorldToCameraMatrix(),ee=o.invert(new Float64Array(16),J);H=o.Aabb.applyTransform(H,o.multiply([],J,S)),o.transformMat4(G,G,J);let Q=.5*(H.max[2]-H.min[2]),se=this._minimumAABBFrustumDistance(y,H),oe=o.scale$2([],[0,0,1],Q),pe=o.add(oe,G,oe),Pe=se+(y.pitch===0?0:o.distance(G,pe)),he=y.globeCenterInViewSpace,we=o.sub([],G,[he[0],he[1],he[2]]);o.normalize(we,we),o.scale$2(we,we,Pe);let fe=o.add([],G,we);o.transformMat4(fe,fe,ee);let Ie=o.earthRadius/o.GLOBE_RADIUS,de=o.length(fe),be=o.mercatorZfromAltitude(Math.max(de*Ie-o.earthRadius,Number.EPSILON),0),De=Math.min(y.zoomFromMercatorZAdjusted(be),x.maxZoom);return De>.5*(o.GLOBE_ZOOM_THRESHOLD_MIN+o.GLOBE_ZOOM_THRESHOLD_MAX)?(y.setProjection({name:"mercator"}),y.zoom=De,this._cameraForBounds(y,r,h,d,m,_)):{center:y.center,zoom:De,bearing:d,pitch:m}}queryTerrainElevation(a,r){let h=this.transform.elevation;return h?(r=o.extend({},{exaggerated:!0},r),h.getAtPoint(o.MercatorCoordinate.fromLngLat(a),null,r.exaggerated)):null}_cameraForBounds(a,r,h,d,m,_){if(a.projection.name==="globe")return this._cameraForBoundsOnGlobe(a,r,h,d,m,_);let y=a.clone(),x=this._extendCameraOptions(_),A=y.padding;y.bearing=d,y.pitch=m;let z=o.LngLat.convert(r),E=o.LngLat.convert(h),k=new o.LngLat(z.lng,E.lat),R=new o.LngLat(E.lng,z.lat),F=y.project(z),B=y.project(E),N=this.queryTerrainElevation(z),S=this.queryTerrainElevation(E),O=this.queryTerrainElevation(k),H=this.queryTerrainElevation(R),G=[[F.x,F.y,Math.min(N||0,S||0,O||0,H||0)],[B.x,B.y,Math.max(N||0,S||0,O||0,H||0)]],J=o.Aabb.fromPoints(G),ee=y.getWorldToCameraMatrix(),Q=o.invert(new Float64Array(16),ee);J=o.Aabb.applyTransform(J,ee);let se=o.sub([],J.max,J.min),oe=A.left||0,pe=A.right||0,Pe=A.bottom||0,he=A.top||0,{left:we,right:fe,top:Ie,bottom:de}=x.padding,be=.5*(oe+pe),De=.5*(he+Pe),Te=Math.min(y.scaleZoom(y.scale*Math.min((y.width-(oe+pe+we+fe))/se[0],(y.height-(Pe+he+de+Ie))/se[1])),x.maxZoom),Re=y.scale/y.zoomScale(Te);J=new o.Aabb([J.min[0]-(we+be)*Re,J.min[1]-(de+De)*Re,J.min[2]],[J.max[0]+(fe+be)*Re,J.max[1]+(Ie+De)*Re,J.max[2]]);let nt=.5*se[2],dt=this._minimumAABBFrustumDistance(y,J),Ke=[0,0,1,0];o.transformMat4$1(Ke,Ke,ee),o.normalize$2(Ke,Ke);let st=o.scale$2([],Ke,dt+nt),It=o.add([],J.center,st),Et=(typeof x.offset.x=="number"&&typeof x.offset.y=="number"?new o.Point(x.offset.x,x.offset.y):o.Point.convert(x.offset)).rotate(-o.degToRad(d));J.center[0]-=Et.x*Re,J.center[1]+=Et.y*Re,o.transformMat4(J.center,J.center,Q),o.transformMat4(It,It,Q);let tt=[J.center[0],J.center[1],It[2]*y.pixelsPerMeter];o.scale$2(tt,tt,1/y.worldSize);let qt=o.lngFromMercatorX(tt[0]),Wt=o.latFromMercatorY(tt[1]),Xt=Math.min(y._zoomFromMercatorZ(tt[2]),x.maxZoom),Kt=new o.LngLat(qt,Wt);return y.mercatorFromTransition&&Xt<.5*(o.GLOBE_ZOOM_THRESHOLD_MIN+o.GLOBE_ZOOM_THRESHOLD_MAX)?(y.setProjection({name:"globe"}),y.zoom=Xt,this._cameraForBounds(y,r,h,d,m,_)):{center:Kt,zoom:Xt,bearing:d,pitch:m}}fitBounds(a,r,h){let d=this.cameraForBounds(a,r);return this._fitInternal(d,r,h)}fitScreenCoordinates(a,r,h,d,m){let _=o.Point.convert(a),y=o.Point.convert(r),x=new o.Point(Math.min(_.x,y.x),Math.min(_.y,y.y)),A=new o.Point(Math.max(_.x,y.x),Math.max(_.y,y.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(_,y))return this;let z=this.transform.pointLocation3D(x),E=this.transform.pointLocation3D(A),k=this.transform.pointLocation3D(new o.Point(x.x,A.y)),R=this.transform.pointLocation3D(new o.Point(A.x,x.y)),F=[Math.min(z.lng,E.lng,k.lng,R.lng),Math.min(z.lat,E.lat,k.lat,R.lat)],B=[Math.max(z.lng,E.lng,k.lng,R.lng),Math.max(z.lat,E.lat,k.lat,R.lat)],N=d&&d.pitch?d.pitch:this.getPitch(),S=this._cameraForBounds(this.transform,F,B,h,N,d);return this._fitInternal(S,d,m)}_fitInternal(a,r,h){return a?(delete(r=o.extend(a,r)).padding,r.linear?this.easeTo(r,h):this.flyTo(r,h)):this}jumpTo(a,r){this.stop();let h=a.preloadOnly?this.transform.clone():this.transform,d=!1,m=!1,_=!1;return"zoom"in a&&h.zoom!==+a.zoom&&(d=!0,h.zoom=+a.zoom),a.center!==void 0&&(h.center=o.LngLat.convert(a.center)),"bearing"in a&&h.bearing!==+a.bearing&&(m=!0,h.bearing=+a.bearing),"pitch"in a&&h.pitch!==+a.pitch&&(_=!0,h.pitch=+a.pitch),a.padding==null||h.isPaddingEqual(a.padding)||(h.padding=a.padding),a.preloadOnly?(this._preloadTiles(h),this):(this.fire(new o.Event("movestart",r)).fire(new o.Event("move",r)),d&&this.fire(new o.Event("zoomstart",r)).fire(new o.Event("zoom",r)).fire(new o.Event("zoomend",r)),m&&this.fire(new o.Event("rotatestart",r)).fire(new o.Event("rotate",r)).fire(new o.Event("rotateend",r)),_&&this.fire(new o.Event("pitchstart",r)).fire(new o.Event("pitch",r)).fire(new o.Event("pitchend",r)),this.fire(new o.Event("moveend",r)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||o.warnOnce(lr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(a,r){let h=this.transform;if(!h.projection.supportsFreeCamera)return o.warnOnce(lr),this;this.stop();let d=h.zoom,m=h.pitch,_=h.bearing;h.setFreeCameraOptions(a);let y=d!==h.zoom,x=m!==h.pitch,A=_!==h.bearing;return this.fire(new o.Event("movestart",r)).fire(new o.Event("move",r)),y&&this.fire(new o.Event("zoomstart",r)).fire(new o.Event("zoom",r)).fire(new o.Event("zoomend",r)),A&&this.fire(new o.Event("rotatestart",r)).fire(new o.Event("rotate",r)).fire(new o.Event("rotateend",r)),x&&this.fire(new o.Event("pitchstart",r)).fire(new o.Event("pitch",r)).fire(new o.Event("pitchend",r)),this.fire(new o.Event("moveend",r)),this}easeTo(a,r){this._stop(!1,a.easeId),((a=o.extend({offset:[0,0],duration:500,easing:o.ease},a)).animate===!1||this._prefersReducedMotion(a))&&(a.duration=0);let h=this.transform,d=this.getZoom(),m=this.getBearing(),_=this.getPitch(),y=this.getPadding(),x="zoom"in a?+a.zoom:d,A="bearing"in a?this._normalizeBearing(a.bearing,m):m,z="pitch"in a?+a.pitch:_,E="padding"in a?a.padding:h.padding,k=o.Point.convert(a.offset),R,F,B;if(h.projection.name==="globe"){let oe=o.MercatorCoordinate.fromLngLat(h.center),pe=k.rotate(-h.angle);oe.x+=pe.x/h.worldSize,oe.y+=pe.y/h.worldSize;let Pe=oe.toLngLat(),he=o.LngLat.convert(a.center||Pe);this._normalizeCenter(he),R=h.centerPoint.add(pe),F=new o.Point(oe.x,oe.y).mult(h.worldSize),B=new o.Point(o.mercatorXfromLng(he.lng),o.mercatorYfromLat(he.lat)).mult(h.worldSize).sub(F)}else{R=h.centerPoint.add(k);let oe=h.pointLocation(R),pe=o.LngLat.convert(a.center||oe);this._normalizeCenter(pe),F=h.project(oe),B=h.project(pe).sub(F)}let N=h.zoomScale(x-d),S,O;a.around&&(S=o.LngLat.convert(a.around),O=h.locationPoint(S));let H=this._zooming||x!==d,G=this._rotating||m!==A,J=this._pitching||z!==_,ee=!h.isPaddingEqual(E),Q=oe=>pe=>{if(H&&(oe.zoom=o.number(d,x,pe)),G&&(oe.bearing=o.number(m,A,pe)),J&&(oe.pitch=o.number(_,z,pe)),ee&&(oe.interpolatePadding(y,E,pe),R=oe.centerPoint.add(k)),S)oe.setLocationAtPoint(S,O);else{let Pe=oe.zoomScale(oe.zoom-d),he=x>d?Math.min(2,N):Math.max(.5,N),we=Math.pow(he,1-pe),fe=oe.unproject(F.add(B.mult(pe*we)).mult(Pe));oe.setLocationAtPoint(oe.renderWorldCopies?fe.wrap():fe,R)}return a.preloadOnly||this._fireMoveEvents(r),oe};if(a.preloadOnly){let oe=this._emulate(Q,a.duration,h);return this._preloadTiles(oe),this}let se={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=H,this._rotating=G,this._pitching=J,this._padding=ee,this._easeId=a.easeId,this._prepareEase(r,a.noMoveStart,se),this._ease(Q(h),oe=>{h.recenterOnTerrain(),this._afterEase(r,oe)},a),this}_prepareEase(a,r,h={}){this._moving=!0,this.transform.cameraElevationReference="sea",r||h.moving||this.fire(new o.Event("movestart",a)),this._zooming&&!h.zooming&&this.fire(new o.Event("zoomstart",a)),this._rotating&&!h.rotating&&this.fire(new o.Event("rotatestart",a)),this._pitching&&!h.pitching&&this.fire(new o.Event("pitchstart",a))}_fireMoveEvents(a){this.fire(new o.Event("move",a)),this._zooming&&this.fire(new o.Event("zoom",a)),this._rotating&&this.fire(new o.Event("rotate",a)),this._pitching&&this.fire(new o.Event("pitch",a))}_afterEase(a,r){if(this._easeId&&r&&this._easeId===r)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";let h=this._zooming,d=this._rotating,m=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,h&&this.fire(new o.Event("zoomend",a)),d&&this.fire(new o.Event("rotateend",a)),m&&this.fire(new o.Event("pitchend",a)),this.fire(new o.Event("moveend",a))}flyTo(a,r){if(this._prefersReducedMotion(a)){let Te=o.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Te,r)}this.stop(),a=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},a);let h=this.transform,d=this.getZoom(),m=this.getBearing(),_=this.getPitch(),y=this.getPadding(),x="zoom"in a?o.clamp(+a.zoom,h.minZoom,h.maxZoom):d,A="bearing"in a?this._normalizeBearing(a.bearing,m):m,z="pitch"in a?+a.pitch:_,E="padding"in a?a.padding:h.padding,k=h.zoomScale(x-d),R=o.Point.convert(a.offset),F=h.centerPoint.add(R),B=h.pointLocation(F),N=o.LngLat.convert(a.center||B);this._normalizeCenter(N);let S=h.project(B),O=h.project(N).sub(S),H=a.curve,G=Math.max(h.width,h.height),J=G/k,ee=O.mag();if("minZoom"in a){let Te=o.clamp(Math.min(a.minZoom,d,x),h.minZoom,h.maxZoom),Re=G/h.zoomScale(Te-d);H=Math.sqrt(Re/ee*2)}let Q=H*H;function se(Te){let Re=(J*J-G*G+(Te?-1:1)*Q*Q*ee*ee)/(2*(Te?J:G)*Q*ee);return Math.log(Math.sqrt(Re*Re+1)-Re)}function oe(Te){return(Math.exp(Te)-Math.exp(-Te))/2}function pe(Te){return(Math.exp(Te)+Math.exp(-Te))/2}let Pe=se(0),he=function(Te){return pe(Pe)/pe(Pe+H*Te)},we=function(Te){return G*((pe(Pe)*(oe(Re=Pe+H*Te)/pe(Re))-oe(Pe))/Q)/ee;var Re},fe=(se(1)-Pe)/H;if(Math.abs(ee)<1e-6||!isFinite(fe)){if(Math.abs(G-J)<1e-6)return this.easeTo(a,r);let Te=J<G?-1:1;fe=Math.abs(Math.log(J/G))/H,we=function(){return 0},he=function(Re){return Math.exp(Te*H*Re)}}a.duration="duration"in a?+a.duration:1e3*fe/("screenSpeed"in a?+a.screenSpeed/H:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0);let Ie=m!==A,de=z!==_,be=!h.isPaddingEqual(E),De=Te=>Re=>{let nt=Re*fe,dt=1/he(nt);Te.zoom=Re===1?x:d+Te.scaleZoom(dt),Ie&&(Te.bearing=o.number(m,A,Re)),de&&(Te.pitch=o.number(_,z,Re)),be&&(Te.interpolatePadding(y,E,Re),F=Te.centerPoint.add(R));let Ke=Re===1?N:Te.unproject(S.add(O.mult(we(nt))).mult(dt));return Te.setLocationAtPoint(Te.renderWorldCopies?Ke.wrap():Ke,F),Te._updateCameraOnTerrain(),a.preloadOnly||this._fireMoveEvents(r),Te};if(a.preloadOnly){let Te=this._emulate(De,a.duration,h);return this._preloadTiles(Te),this}return this._zooming=!0,this._rotating=Ie,this._pitching=de,this._padding=be,this._prepareEase(r,!1),this._ease(De(h),()=>this._afterEase(r),a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,r){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){let h=this._onEaseEnd;this._onEaseEnd=void 0,h.call(this,r)}if(!a){let h=this.handlers;h&&h.stop(!1)}return this}_ease(a,r,h){h.animate===!1||h.duration===0?(a(1),r()):(this._easeStart=o.exported.now(),this._easeOptions=h,this._onEaseFrame=a,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){let a=Math.min((o.exported.now()-this._easeStart)/this._easeOptions.duration,1),r=this._onEaseFrame;r&&r(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,r){a=o.wrap(a,-180,180);let h=Math.abs(a-r);return Math.abs(a-360-r)<h&&(a-=360),Math.abs(a+360-r)<h&&(a+=360),a}_normalizeCenter(a){let r=this.transform;if(!r.renderWorldCopies||r.maxBounds)return;let h=a.lng-r.center.lng;a.lng+=h>180?-360:h<-180?360:0}_prefersReducedMotion(a){return this._respectPrefersReducedMotion&&o.exported.prefersReducedMotion&&!(a&&a.essential)}_emulate(a,r,h){let d=Math.ceil(15*r/1e3),m=[],_=a(h.clone());for(let y=0;y<=d;y++){let x=_(y/d);m.push(x.clone())}return m}}class Xe{constructor(a={}){this.options=a,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){let r=this.options&&this.options.compact;return this._map=a,this._container=ht("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ht("button","mapboxgl-ctrl-attrib-button",this._container),ht("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ht("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),r&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),r===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(a,r){let h=this._map._getUIString(`AttributionControl.${r}`);a.setAttribute("aria-label",h),a.removeAttribute("title"),a.firstElementChild&&a.firstElementChild.setAttribute("title",h)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let a=this._editLink;a||(a=this._editLink=this._container.querySelector(".mapbox-improve-map"));let r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(a){let h=r.reduce((d,m,_)=>(m.value&&(d+=`${m.key}=${m.value}${_<r.length-1?"&":""}`),d),"?");a.href=`${o.config.FEEDBACK_URL}/${h}#${Uo(this._map,!0)}`,a.rel="noopener nofollow",this._setElementTitle(a,"MapFeedback")}}_updateData(a){!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let a=[];if(this._map.style.stylesheet){let d=this._map.style.stylesheet;this.styleOwner=d.owner,this.styleId=d.id}let r=this._map.style._sourceCaches;for(let d in r){let m=r[d];if(m.used){let _=m.getSource();_.attribution&&a.indexOf(_.attribution)<0&&a.push(_.attribution)}}a.sort((d,m)=>d.length-m.length),a=a.filter((d,m)=>{for(let _=m+1;_<a.length;_++)if(a[_].indexOf(d)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=[...this.options.customAttribution,...a]:a.unshift(this.options.customAttribution));let h=a.join(" | ");h!==this._attribHTML&&(this._attribHTML=h,a.length?(this._innerContainer.innerHTML=h,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Dc{constructor(){o.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(a){this._map=a,this._container=ht("div","mapboxgl-ctrl");let r=ht("a","mapboxgl-ctrl-logo");return r.target="_blank",r.rel="noopener nofollow",r.href="https://www.mapbox.com/",r.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),r.setAttribute("rel","noopener nofollow"),this._container.appendChild(r),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(a){a&&a.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;let a=this._map.style._sourceCaches;if(Object.entries(a).length===0)return!0;for(let r in a){let h=a[r].getSource();if(h.hasOwnProperty("mapbox_logo")&&!h.mapbox_logo)return!1}return!0}_updateCompact(){let a=this._container.children;if(a.length){let r=a[0];this._map.getCanvasContainer().offsetWidth<250?r.classList.add("mapboxgl-compact"):r.classList.remove("mapboxgl-compact")}}}class Oc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){let r=++this._id;return this._queue.push({callback:a,id:r,cancelled:!1}),r}remove(a){let r=this._currentlyRunning,h=r?this._queue.concat(r):this._queue;for(let d of h)if(d.id===a)return void(d.cancelled=!0)}run(a=0){let r=this._currentlyRunning=this._queue;this._queue=[];for(let h of r)if(!h.cancelled&&(h.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Zr(l,a,r){if(l=new o.LngLat(l.lng,l.lat),a){let h=new o.LngLat(l.lng-360,l.lat),d=new o.LngLat(l.lng+360,l.lat),m=360*Math.ceil(Math.abs(l.lng-r.center.lng)/360),_=r.locationPoint(l).distSqr(a),y=a.x<0||a.y<0||a.x>r.width||a.y>r.height;r.locationPoint(h).distSqr(a)<_&&(y||Math.abs(h.lng-r.center.lng)<m)?l=h:r.locationPoint(d).distSqr(a)<_&&(y||Math.abs(d.lng-r.center.lng)<m)&&(l=d)}for(;Math.abs(l.lng-r.center.lng)>180;){let h=r.locationPoint(l);if(h.x>=0&&h.y>=0&&h.x<=r.width&&h.y<=r.height)break;l.lng>r.center.lng?l.lng-=360:l.lng+=360}return l}let cr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Ze extends o.Evented{constructor(a,r){if(super(),(a instanceof o.window.HTMLElement||r)&&(a=o.extend({element:a},r)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=a&&a.occludedOpacity||.2,a&&a.element)this._element=a.element,this._offset=o.Point.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=ht("div");let d=41,m=27,_=Ht("svg",{display:"block",height:d*this._scale+"px",width:m*this._scale+"px",viewBox:`0 0 ${m} ${d}`},this._element),y=Ht("radialGradient",{id:"shadowGradient"},Ht("defs",{},_));Ht("stop",{offset:"10%","stop-opacity":.4},y),Ht("stop",{offset:"100%","stop-opacity":.05},y),Ht("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},_),Ht("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},_),Ht("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},_),Ht("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},_),this._offset=o.Point.convert(a&&a.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()});let h=this._element.classList;for(let d in cr)h.remove(`mapboxgl-marker-anchor-${d}`);h.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(a){return a===this._map||(this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._updateMoving),a.on("moveend",this._update),a.on("remove",this._clearFadeTimer),a._addMarker(this),this.setDraggable(this._draggable),this._update(),a.on("click",this._onMapClick)),this}remove(){let a=this._map;return a&&(a.off("click",this._onMapClick),a.off("move",this._updateMoving),a.off("moveend",this._update),a.off("mousedown",this._addDragHandler),a.off("touchstart",this._addDragHandler),a.off("mouseup",this._onUp),a.off("touchend",this._onUp),a.off("mousemove",this._onMove),a.off("touchmove",this._onMove),a.off("remove",this._clearFadeTimer),a._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){let d=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[d,-1*(38.1-13.5+d)],"bottom-right":[-d,-1*(38.1-13.5+d)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,a._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(a){let r=a.code,h=a.charCode||a.keyCode;r!=="Space"&&r!=="Enter"&&h!==32&&h!==13||this.togglePopup()}_onMapClick(a){let r=a.originalEvent.target,h=this._element;this._popup&&(r===h||h.contains(r))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){let a=this._popup;return a?(a.isOpen()?(a.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(a.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){let a=this._map,r=this._pos;if(!a||!r)return!1;let h=a.unproject(r),d=a.getFreeCameraOptions();if(!d.position)return!1;let m=d.position.toLngLat();return m.distanceTo(h)<.9*m.distanceTo(this._lngLat)}_evaluateOpacity(){let a=this._map;if(!a)return;let r=this._pos;if(!r||r.x<0||r.x>a.transform.width||r.y<0||r.y>a.transform.height)return void this._clearFadeTimer();let h=a.unproject(r),d;a._showingGlobe()&&o.isLngLatBehindGlobe(a.transform,this._lngLat)?d=0:(d=1-a._queryFogOpacity(h),a.transform._terrainEnabled()&&a.getTerrain()&&this._behindTerrain()&&(d*=this._occludedOpacity)),this._element.style.opacity=`${d}`,this._element.style.pointerEvents=d>0?"auto":"none",this._popup&&this._popup._setOpacity(d),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){let a=this._pos;if(!a||!this._map)return;let r=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${a.x}px,${a.y}px)
            ${cr[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${r.x}px,${r.y}px)
        `}_calculateXYTransform(){let a=this._pos,r=this._map,h=this.getPitchAlignment();if(!r||!a||h!=="map")return"";if(!r._showingGlobe()){let x=r.getPitch();return x?`rotateX(${x}deg)`:""}let d=o.radToDeg(o.globeTiltAtLngLat(r.transform,this._lngLat)),m=a.sub(o.globeCenterToScreenPoint(r.transform)),_=Math.abs(m.x)+Math.abs(m.y);if(_===0)return"";let y=d/_;return`rotateX(${-m.y*y}deg) rotateY(${m.x*y}deg)`}_calculateZTransform(){let a=this._pos,r=this._map;if(!r||!a)return"";let h=0,d=this.getRotationAlignment();if(d==="map")if(r._showingGlobe()){let m=r.project(new o.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),_=r.project(new o.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(m);h=o.radToDeg(Math.atan2(_.y,_.x))-90}else h=-r.getBearing();else if(d==="horizon"){let m=o.smoothstep(4,6,r.getZoom()),_=o.globeCenterToScreenPoint(r.transform);_.y+=m*r.transform.height;let y=a.sub(_),x=o.radToDeg(Math.atan2(y.y,y.x));h=(x>90?x-270:x+90)*(1-m)}return h+=this._rotation,h?`rotateZ(${h}deg)`:""}_update(a){o.window.cancelAnimationFrame(this._updateFrameId);let r=this._map;r&&(r.transform.renderWorldCopies&&(this._lngLat=Zr(this._lngLat,this._pos,r.transform)),this._pos=r.project(this._lngLat),a===!0?this._updateFrameId=o.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),r._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(r._showingGlobe()||r.getTerrain()||r.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(a){return this._offset=o.Point.convert(a),this._update(),this}_onMove(a){let r=this._map;if(!r)return;let h=this._pointerdownPos,d=this._positionDelta;if(h&&d){if(!this._isDragging){let m=this._clickTolerance||r._clickTolerance;if(a.point.dist(h)<m)return;this._isDragging=!0}this._pos=a.point.sub(d),this._lngLat=r.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;let a=this._map;a&&(a.off("mousemove",this._onMove),a.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"}_addDragHandler(a){let r=this._map,h=this._pos;r&&h&&this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(h),this._pointerdownPos=a.point,this._state="pending",r.on("mousemove",this._onMove),r.on("touchmove",this._onMove),r.once("mouseup",this._onUp),r.once("touchend",this._onUp))}setDraggable(a){this._draggable=!!a;let r=this._map;return r&&(a?(r.on("mousedown",this._addDragHandler),r.on("touchstart",this._addDragHandler)):(r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(a){return this._occludedOpacity=a||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}let Rc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Hh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function p1(l=new o.Point(0,0),a="bottom"){if(typeof l=="number"){let r=Math.round(Math.sqrt(.5*Math.pow(l,2)));switch(a){case"top":return new o.Point(0,l);case"top-left":return new o.Point(r,r);case"top-right":return new o.Point(-r,r);case"bottom":return new o.Point(0,-l);case"bottom-left":return new o.Point(r,-r);case"bottom-right":return new o.Point(-r,-r);case"left":return new o.Point(l,0);case"right":return new o.Point(-l,0)}return new o.Point(0,0)}return l instanceof o.Point||Array.isArray(l)?o.Point.convert(l):o.Point.convert(l[a]||[0,0])}class Bc{constructor(a){this.jumpTo(a)}getValue(a){if(a<=this._startTime)return this._start;if(a>=this._endTime)return this._end;let r=o.easeCubicInOut((a-this._startTime)/(this._endTime-this._startTime));return this._start*(1-r)+this._end*r}isEasing(a){return a>=this._startTime&&a<=this._endTime}jumpTo(a){this._startTime=-1/0,this._endTime=-1/0,this._start=a,this._end=a}easeTo(a,r,h){this._start=this.getValue(r),this._end=a,this._startTime=r,this._endTime=r+h}}let m1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},f1={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},Gh={showCompass:!0,showZoom:!0,visualizePitch:!1};class Zh{constructor(a,r,h=!1){this._clickTolerance=10,this.element=r,this.mouseRotate=new Sc({clickTolerance:a.dragRotate._mouseRotate._clickTolerance}),this.map=a,h&&(this.mousePitch=new Lc({clickTolerance:a.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener("mousedown",this.mousedown),r.addEventListener("touchstart",this.touchstart,{passive:!1}),r.addEventListener("touchmove",this.touchmove),r.addEventListener("touchend",this.touchend),r.addEventListener("touchcancel",this.reset)}down(a,r){this.mouseRotate.mousedown(a,r),this.mousePitch&&this.mousePitch.mousedown(a,r),li()}move(a,r){let h=this.map,d=this.mouseRotate.mousemoveWindow(a,r),m=d&&d.bearingDelta;if(m&&h.setBearing(h.getBearing()+m),this.mousePitch){let _=this.mousePitch.mousemoveWindow(a,r),y=_&&_.pitchDelta;y&&h.setPitch(h.getPitch()+y)}}off(){let a=this.element;a.removeEventListener("mousedown",this.mousedown),a.removeEventListener("touchstart",this.touchstart,{passive:!1}),a.removeEventListener("touchmove",this.touchmove),a.removeEventListener("touchend",this.touchend),a.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Nt(),o.window.removeEventListener("mousemove",this.mousemove),o.window.removeEventListener("mouseup",this.mouseup)}mousedown(a){this.down(o.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),He(this.element,a)),o.window.addEventListener("mousemove",this.mousemove),o.window.addEventListener("mouseup",this.mouseup)}mousemove(a){this.move(a,He(this.element,a))}mouseup(a){this.mouseRotate.mouseupWindow(a),this.mousePitch&&this.mousePitch.mouseupWindow(a),this.offTemp()}touchstart(a){a.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=at(this.element,a.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>a.preventDefault()},this._startPos))}touchmove(a){a.targetTouches.length!==1?this.reset():(this._lastPos=at(this.element,a.targetTouches)[0],this.move({preventDefault:()=>a.preventDefault()},this._lastPos))}touchend(a){a.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}let Fc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Vc={maxWidth:100,unit:"metric"},Nc={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},$r={version:o.version,supported:Qe,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:class extends Js{constructor(l){if(o.LivePerformanceUtils.mark(o.PerformanceMarkers.create),(l=o.extend({},f1,l)).minZoom!=null&&l.maxZoom!=null&&l.minZoom>l.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(l.minPitch!=null&&l.maxPitch!=null&&l.minPitch>l.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(l.minPitch!=null&&l.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(l.maxPitch!=null&&l.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(l.antialias&&o.isSafariWithAntialiasingBug(o.window)&&(l.antialias=!1,o.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Ur(l.minZoom,l.maxZoom,l.minPitch,l.maxPitch,l.renderWorldCopies),l),this._interactive=l.interactive,this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._failIfMajorPerformanceCaveat=l.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=l.preserveDrawingBuffer,this._antialias=l.antialias,this._useWebGL2=l.useWebGL2,this._trackResize=l.trackResize,this._bearingSnap=l.bearingSnap,this._refreshExpiredTiles=l.refreshExpiredTiles,this._fadeDuration=l.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=l.crossSourceCollisions,this._collectResourceTiming=l.collectResourceTiming,this._optimizeForTerrain=l.optimizeForTerrain,this._language=this._parseLanguage(l.language),this._worldview=l.worldview,this._renderTaskQueue=new Oc,this._domRenderTaskQueue=new Oc,this._controls=[],this._markers=[],this._popups=[],this._mapId=o.uniqueId(),this._locale=o.extend({},m1,l.locale),this._clickTolerance=l.clickTolerance,this._cooperativeGestures=l.cooperativeGestures,this._performanceMetricsCollection=l.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Bc(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new o.RequestManager(l.transformRequest,l.accessToken,l.testMode),this._silenceAuthErrors=!!l.testMode,typeof l.container=="string"){if(this._container=o.window.document.getElementById(l.container),!this._container)throw new Error(`Container '${l.container}' not found.`)}else{if(!(l.container instanceof o.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=l.container}if(this._container.childNodes.length>0&&o.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),l.maxBounds&&this.setMaxBounds(l.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),o.window!==void 0&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1),o.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),o.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Ka(this,l),this._localFontFamily=l.localFontFamily,this._localIdeographFontFamily=l.localIdeographFontFamily,l.style&&this.setStyle(l.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),l.projection&&this.setProjection(l.projection),this._hash=l.hash&&new Ac(typeof l.hash=="string"&&l.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:l.center,zoom:l.zoom,bearing:l.bearing,pitch:l.pitch}),l.bounds&&(this.resize(),this.fitBounds(l.bounds,o.extend({},l.fitBoundsOptions,{duration:0})))),this.resize(),l.attributionControl&&this.addControl(new Xe({customAttribution:l.customAttribution})),this._logoControl=new Dc,this.addControl(this._logoControl,l.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new o.Event(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new o.Event(`${a.dataType}dataloading`,a))})}_getMapId(){return this._mapId}addControl(l,a){if(a===void 0&&(a=l.getDefaultPosition?l.getDefaultPosition():"top-right"),!l||!l.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let r=l.onAdd(this);this._controls.push(l);let h=this._controlPositions[a];return a.indexOf("bottom")!==-1?h.insertBefore(r,h.firstChild):h.appendChild(r),this}removeControl(l){if(!l||!l.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let a=this._controls.indexOf(l);return a>-1&&this._controls.splice(a,1),l.onRemove(this),this}hasControl(l){return this._controls.indexOf(l)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(l){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));let a=!this._moving;return a&&this.fire(new o.Event("movestart",l)).fire(new o.Event("move",l)),this.fire(new o.Event("resize",l)),a&&this.fire(new o.Event("moveend",l)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(l){return this.transform.setMaxBounds(o.LngLatBounds.convert(l)),this._update()}setMinZoom(l){if((l=l??-2)>=-2&&l<=this.transform.maxZoom)return this.transform.minZoom=l,this._update(),this.getZoom()<l?this.setZoom(l):this.fire(new o.Event("zoomstart")).fire(new o.Event("zoom")).fire(new o.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(l){if((l=l??22)>=this.transform.minZoom)return this.transform.maxZoom=l,this._update(),this.getZoom()>l?this.setZoom(l):this.fire(new o.Event("zoomstart")).fire(new o.Event("zoom")).fire(new o.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(l){if((l=l??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(l>=0&&l<=this.transform.maxPitch)return this.transform.minPitch=l,this._update(),this.getPitch()<l?this.setPitch(l):this.fire(new o.Event("pitchstart")).fire(new o.Event("pitch")).fire(new o.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(l){if((l=l??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(l>=this.transform.minPitch)return this.transform.maxPitch=l,this._update(),this.getPitch()>l?this.setPitch(l):this.fire(new o.Event("pitchstart")).fire(new o.Event("pitch")).fire(new o.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(l){return this.transform.renderWorldCopies=l,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(l){return l==="auto"?o.window.navigator.language:Array.isArray(l)?l.length===0?void 0:l.map(a=>a==="auto"?o.window.navigator.language:a):l}setLanguage(l){let a=this._parseLanguage(l);if(!this.style||a===this._language)return this;this._language=a,this.style._reloadSources();for(let r of this._controls)r._setLanguage&&r._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(l){return this.style&&l!==this._worldview?(this._worldview=l,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(l){return this._lazyInitEmptyStyle(),l?typeof l=="string"&&(l={name:l}):l=null,this._useExplicitProjection=!!l,this._prioritizeAndUpdateProjection(l,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;let l=this.transform,a=l.projection.name,r;a==="globe"&&l.zoom>=o.GLOBE_ZOOM_THRESHOLD_MAX?(l.setMercatorFromTransition(),r=!0):a==="mercator"&&l.zoom<o.GLOBE_ZOOM_THRESHOLD_MAX&&(l.setProjection({name:"globe"}),r=!0),r&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(l,a){return this._updateProjection(l||a||{name:"mercator"})}_updateProjection(l){let a;if(a=l.name==="globe"&&this.transform.zoom>=o.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(l),this.style.applyProjectionUpdate(),a){this.painter.clearBackgroundTiles();for(let r in this.style._sourceCaches)this.style._sourceCaches[r].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(l){return this.transform.locationPoint3D(o.LngLat.convert(l))}unproject(l){return this.transform.pointLocation3D(o.Point.convert(l))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(l,a,r){if(l==="mouseenter"||l==="mouseover"){let h=!1,d=_=>{let y=a.filter(A=>this.getLayer(A)),x=y.length?this.queryRenderedFeatures(_.point,{layers:y}):[];x.length?h||(h=!0,r.call(this,new Ui(l,this,_.originalEvent,{features:x}))):h=!1},m=()=>{h=!1};return{layers:new Set(a),listener:r,delegates:{mousemove:d,mouseout:m}}}if(l==="mouseleave"||l==="mouseout"){let h=!1,d=_=>{let y=a.filter(x=>this.getLayer(x));(y.length?this.queryRenderedFeatures(_.point,{layers:y}):[]).length?h=!0:h&&(h=!1,r.call(this,new Ui(l,this,_.originalEvent)))},m=_=>{h&&(h=!1,r.call(this,new Ui(l,this,_.originalEvent)))};return{layers:new Set(a),listener:r,delegates:{mousemove:d,mouseout:m}}}{let h=d=>{let m=a.filter(y=>this.getLayer(y)),_=m.length?this.queryRenderedFeatures(d.point,{layers:m}):[];_.length&&(d.features=_,r.call(this,d),delete d.features)};return{layers:new Set(a),listener:r,delegates:{[l]:h}}}}on(l,a,r){if(r===void 0)return super.on(l,a);Array.isArray(a)||(a=[a]);let h=this._createDelegatedListener(l,a,r);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[l]=this._delegatedListeners[l]||[],this._delegatedListeners[l].push(h);for(let d in h.delegates)this.on(d,h.delegates[d]);return this}once(l,a,r){if(r===void 0)return super.once(l,a);Array.isArray(a)||(a=[a]);let h=this._createDelegatedListener(l,a,r);for(let d in h.delegates)this.once(d,h.delegates[d]);return this}off(l,a,r){if(r===void 0)return super.off(l,a);a=new Set(Array.isArray(a)?a:[a]);let h=(m,_)=>{if(m.size!==_.size)return!1;for(let y of m)if(!_.has(y))return!1;return!0},d=this._delegatedListeners?this._delegatedListeners[l]:void 0;return d&&(m=>{for(let _=0;_<m.length;_++){let y=m[_];if(y.listener===r&&h(y.layers,a)){for(let x in y.delegates)this.off(x,y.delegates[x]);return m.splice(_,1),this}}})(d),this}queryRenderedFeatures(l,a){return this.style?(a!==void 0||l===void 0||l instanceof o.Point||Array.isArray(l)||(a=l,l=void 0),this.style.queryRenderedFeatures(l=l||[[0,0],[this.transform.width,this.transform.height]],a=a||{},this.transform)):[]}querySourceFeatures(l,a){return this.style.querySourceFeatures(l,a)}isPointOnSurface(l){let{name:a}=this.transform.projection;return a!=="globe"&&a!=="mercator"&&o.warnOnce(`${a} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(o.Point.convert(l))}setStyle(l,a){return(a=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&a.localFontFamily===this._localFontFamily&&this.style&&l?(this._diffStyle(l,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._localFontFamily=a.localFontFamily,this._updateStyle(l,a))}_getUIString(l){let a=this._locale[l];if(a==null)throw new Error(`Missing UI string '${l}'`);return a}_updateStyle(l,a){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),l&&(this.style=new Wa(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof l=="string"?this.style.loadURL(l):this.style.loadJSON(l)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Wa(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(l,a){if(typeof l=="string"){let r=this._requestManager.normalizeStyleURL(l),h=this._requestManager.transformRequest(r,o.ResourceType.Style);o.getJSON(h,(d,m)=>{d?this.fire(new o.ErrorEvent(d)):m&&this._updateDiff(m,a)})}else typeof l=="object"&&this._updateDiff(l,a)}_updateDiff(l,a){try{this.style.setState(l)&&this._update(!0)}catch(r){o.warnOnce(`Unable to perform style diff: ${r.message||r.error||r}.  Rebuilding the style from scratch.`),this._updateStyle(l,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(o.warnOnce("There is no style added to the map."),!1)}addSource(l,a){return this._lazyInitEmptyStyle(),this.style.addSource(l,a),this._update(!0)}isSourceLoaded(l){return!!this.style&&this.style._isSourceCacheLoaded(l)}areTilesLoaded(){let l=this.style&&this.style._sourceCaches;for(let a in l){let r=l[a]._tiles;for(let h in r){let d=r[h];if(d.state!=="loaded"&&d.state!=="errored")return!1}}return!0}addSourceType(l,a,r){this._lazyInitEmptyStyle(),this.style.addSourceType(l,a,r)}removeSource(l){return this.style.removeSource(l),this._updateTerrain(),this._update(!0)}getSource(l){return this.style.getSource(l)}addImage(l,a,{pixelRatio:r=1,sdf:h=!1,stretchX:d,stretchY:m,content:_}={}){if(this._lazyInitEmptyStyle(),a instanceof o.window.HTMLImageElement||o.window.ImageBitmap&&a instanceof o.window.ImageBitmap){let{width:y,height:x,data:A}=o.exported.getImageData(a);this.style.addImage(l,{data:new o.RGBAImage({width:y,height:x},A),pixelRatio:r,stretchX:d,stretchY:m,content:_,sdf:h,version:0})}else if(a.width===void 0||a.height===void 0)this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{let{width:y,height:x}=a,A=a;this.style.addImage(l,{data:new o.RGBAImage({width:y,height:x},new Uint8Array(A.data)),pixelRatio:r,stretchX:d,stretchY:m,content:_,sdf:h,version:0,userImage:A}),A.onAdd&&A.onAdd(this,l)}}updateImage(l,a){let r=this.style.getImage(l);if(!r)return void this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let h=a instanceof o.window.HTMLImageElement||o.window.ImageBitmap&&a instanceof o.window.ImageBitmap?o.exported.getImageData(a):a,{width:d,height:m}=h;d!==void 0&&m!==void 0?d===r.data.width&&m===r.data.height?(r.data.replace(h.data,!(a instanceof o.window.HTMLImageElement||o.window.ImageBitmap&&a instanceof o.window.ImageBitmap)),this.style.updateImage(l,r)):this.fire(new o.ErrorEvent(new Error(`The width and height of the updated image (${d}, ${m})
                must be that same as the previous version of the image
                (${r.data.width}, ${r.data.height})`))):this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(l){return l?!!this.style.getImage(l):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(l){this.style.removeImage(l)}loadImage(l,a){o.getImage(this._requestManager.transformRequest(l,o.ResourceType.Image),(r,h)=>{a(r,h instanceof o.window.HTMLImageElement?o.exported.getImageData(h):h)})}listImages(){return this.style.listImages()}addLayer(l,a){return this._lazyInitEmptyStyle(),this.style.addLayer(l,a),this._update(!0)}moveLayer(l,a){return this.style.moveLayer(l,a),this._update(!0)}removeLayer(l){return this.style.removeLayer(l),this._update(!0)}getLayer(l){return this.style.getLayer(l)}setLayerZoomRange(l,a,r){return this.style.setLayerZoomRange(l,a,r),this._update(!0)}setFilter(l,a,r={}){return this.style.setFilter(l,a,r),this._update(!0)}getFilter(l){return this.style.getFilter(l)}setPaintProperty(l,a,r,h={}){return this.style.setPaintProperty(l,a,r,h),this._update(!0)}getPaintProperty(l,a){return this.style.getPaintProperty(l,a)}setLayoutProperty(l,a,r,h={}){return this.style.setLayoutProperty(l,a,r,h),this._update(!0)}getLayoutProperty(l,a){return this.style.getLayoutProperty(l,a)}setLight(l,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(l,a),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(l){return this._lazyInitEmptyStyle(),!l&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(l),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(l){return this._lazyInitEmptyStyle(),this.style.setFog(l),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(l){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(o.LngLat.convert(l),this.transform):0}setFeatureState(l,a){return this.style.setFeatureState(l,a),this._update()}removeFeatureState(l,a){return this.style.removeFeatureState(l,a),this._update()}getFeatureState(l){return this.style.getFeatureState(l)}_updateContainerDimensions(){if(!this._container)return;let l=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300,r,h,d,m=this._container;for(;m&&(!h||!d);){let _=o.window.getComputedStyle(m).transform;_&&_!=="none"&&(r=_.match(/matrix.*\((.+)\)/)[1].split(", "),r[0]&&r[0]!=="0"&&r[0]!=="1"&&(h=r[0]),r[3]&&r[3]!=="0"&&r[3]!=="1"&&(d=r[3])),m=m.parentElement}this._containerWidth=h?Math.abs(l/h):l,this._containerHeight=d?Math.abs(a/d):a}_detectMissingCSS(){o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){let l=this._container;l.classList.add("mapboxgl-map"),(this._missingCSSCanary=ht("div","mapboxgl-canary",l)).style.visibility="hidden",this._detectMissingCSS();let a=this._canvasContainer=ht("div","mapboxgl-canvas-container",l);this._interactive&&a.classList.add("mapboxgl-interactive"),this._canvas=ht("canvas","mapboxgl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);let r=this._controlContainer=ht("div","mapboxgl-control-container",l),h=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(d=>{h[d]=ht("div",`mapboxgl-ctrl-${d}`,r)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(l,a){let r=o.exported.devicePixelRatio||1;this._canvas.width=r*Math.ceil(l),this._canvas.height=r*Math.ceil(a),this._canvas.style.width=`${l}px`,this._canvas.style.height=`${a}px`}_addMarker(l){this._markers.push(l)}_removeMarker(l){let a=this._markers.indexOf(l);a!==-1&&this._markers.splice(a,1)}_addPopup(l){this._popups.push(l)}_removePopup(l){let a=this._popups.indexOf(l);a!==-1&&this._popups.splice(a,1)}_setupPainter(){let l=o.extend({},Qe.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),a=this._useWebGL2&&this._canvas.getContext("webgl2",l),r=a||this._canvas.getContext("webgl",l)||this._canvas.getContext("experimental-webgl",l);r?(this._useWebGL2&&!a&&o.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),o.storeAuthState(r,!0),this.painter=new Vr(r,this.transform,!!a),this.on("data",h=>{h.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),o.exported$1.testSupport(r)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(l){l.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:l}))}_contextRestored(l){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:l}))}_onMapScroll(l){if(l.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(l){return this.style?(this._styleDirty=this._styleDirty||l,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(l){return this._update(),this._renderTaskQueue.add(l)}_cancelRenderFrame(l){this._renderTaskQueue.remove(l)}_requestDomTask(l){!this.loaded()||this.loaded()&&!this.isMoving()?l():this._domRenderTaskQueue.add(l)}_render(l){let a,r=this.painter.context.extTimerQuery,h=o.exported.now();if(this.listens("gpu-timing-frame")&&(a=r.createQueryEXT(),r.beginQueryEXT(r.TIME_ELAPSED_EXT,a)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],o.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],o.window.performance.now())),this._renderTaskQueue.run(l),this._domRenderTaskQueue.run(l),this._removed)return;this._updateProjectionTransition();let d=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;let y=this.transform.zoom,x=this.transform.pitch,A=o.exported.now(),z=new o.EvaluationParameters(y,{now:A,fadeDuration:d,pitch:x,transition:this.style.getTransition()});this.style.update(z)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let m=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),m=this._updateAverageElevation(h),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):m=this._updateAverageElevation(h),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,d,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:d,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),a){let y=o.exported.now()-h;r.endQueryEXT(r.TIME_ELAPSED_EXT,a),setTimeout(()=>{let x=r.getQueryObjectEXT(a,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(a),this.fire(new o.Event("gpu-timing-frame",{cpuTime:y,gpuTime:x})),o.window.performance.mark("frame-gpu",{startTime:h,detail:{gpuTime:x}})},50)}if(this.listens("gpu-timing-layer")){let y=this.painter.collectGpuTimers();setTimeout(()=>{let x=this.painter.queryGpuTimers(y);this.fire(new o.Event("gpu-timing-layer",{layerTimes:x}))},50)}if(this.listens("gpu-timing-deferred-render")){let y=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{let x=this.painter.queryGpuTimeDeferredRender(y);this.fire(new o.Event("gpu-timing-deferred-render",{gpuTime:x}))},50)}let _=this._sourcesDirty||this._styleDirty||this._placementDirty||m;if(_||this._repaint)this.triggerRepaint();else{let y=!this.isMoving()&&this.loaded();if(y&&(m=this._updateAverageElevation(h,!0)),m)this.triggerRepaint();else if(this._triggerFrame(!1),y&&(this.fire(new o.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){let x=this._calculateSpeedIndex();this.fire(new o.Event("speedindexcompleted",{speedIndex:x})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,o.LivePerformanceUtils.mark(o.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&o.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(l){for(let a of this._markers)l&&!this.getRenderWorldCopies()&&(a._lngLat=a._lngLat.wrap()),a._update();for(let a of this._popups)!l||this.getRenderWorldCopies()||a._trackPointer||(a._lngLat=a._lngLat.wrap()),a._update()}_updateAverageElevation(l,a=!1){let r=h=>(this.transform.averageElevation=h,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&r(0);if((a||l-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(l)){let h=this.transform.averageElevation,d=this.transform.sampleAverageElevation(),m=!1;this.transform.elevation&&(m=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(d)?d=0:this._averageElevationLastSampledAt=l;let _=Math.abs(h-d);if(_>1){if(this._isInitialLoad||m)return this._averageElevation.jumpTo(d),r(d);this._averageElevation.easeTo(d,l,300)}else if(_>1e-4)return this._averageElevation.jumpTo(d),r(d)}return!!this._averageElevation.isEasing(l)&&r(this._averageElevation.getValue(l))}_authenticate(){o.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,l=>{if(l&&(l.message===o.AUTH_ERR_MSG||l.status===401)){let a=this.painter.context.gl;o.storeAuthState(a,!1),this._logoControl instanceof Dc&&this._logoControl._updateLogo(),a&&a.clear(a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT|a.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new o.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),o.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){let l=this._isDragging();this.painter.updateTerrain(this.style,l)}_calculateSpeedIndex(){let l=this.painter.canvasCopy(),a=this.painter.getCanvasCopiesAndTimestamps();a.timeStamps.push(performance.now());let r=this.painter.context.gl,h=r.createFramebuffer();function d(m){r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,m,0);let _=new Uint8Array(r.drawingBufferWidth*r.drawingBufferHeight*4);return r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,_),_}return r.bindFramebuffer(r.FRAMEBUFFER,h),this._canvasPixelComparison(d(l),a.canvasCopies.map(d),a.timeStamps)}_canvasPixelComparison(l,a,r){let h=r[1]-r[0],d=l.length/4;for(let m=0;m<a.length;m++){let _=a[m],y=0;for(let x=0;x<_.length;x+=4)_[x]===l[x]&&_[x+1]===l[x+1]&&_[x+2]===l[x+2]&&_[x+3]===l[x+3]&&(y+=1);h+=(r[m+2]-r[m+1])*(1-y/d)}return h}remove(){this._hash&&this._hash.remove();for(let a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),o.window!==void 0&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1),o.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));let l=this.painter.context.gl.getExtension("WEBGL_lose_context");l&&l.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),o.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new o.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(l){this._renderNextFrame=this._renderNextFrame||l,this.style&&!this._frame&&(this._frame=o.exported.frame(a=>{let r=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,r&&this._render(a)}))}_preloadTiles(l){let a=this.style?Object.values(this.style._sourceCaches):[];return o.asyncAll(a,(r,h)=>r._preloadTiles(l,h),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(l){this._trackResize&&this.resize({originalEvent:l})._update()}_onVisibilityChange(){o.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(l){this._showTileBoundaries!==l&&(this._showTileBoundaries=l,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(l){this._showTerrainWireframe!==l&&(this._showTerrainWireframe=l,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(l){this._speedIndexTiming!==l&&(this._speedIndexTiming=l,this._update())}get showPadding(){return!!this._showPadding}set showPadding(l){this._showPadding!==l&&(this._showPadding=l,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(l){this._showCollisionBoxes!==l&&(this._showCollisionBoxes=l,l?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(l){this._showOverdrawInspector!==l&&(this._showOverdrawInspector=l,this._update())}get repaint(){return!!this._repaint}set repaint(l){this._repaint!==l&&(this._repaint=l,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(l){this._vertices=l,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(l){this._showTileAABBs!==l&&(this._showTileAABBs=l,l&&this._update())}_setCacheLimits(l,a){o.setCacheLimits(l,a)}get version(){return o.version}},NavigationControl:class{constructor(l){this.options=o.extend({},Gh,l),this._container=ht("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",a=>{this._map&&this._map.zoomIn({},{originalEvent:a})}),ht("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",a=>{this._map&&this._map.zoomOut({},{originalEvent:a})}),ht("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",a=>{let r=this._map;r&&(this.options.visualizePitch?r.resetNorthPitch({},{originalEvent:a}):r.resetNorth({},{originalEvent:a}))}),this._compassIcon=ht("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){let l=this._map;if(!l)return;let a=l.getZoom(),r=a===l.getMaxZoom(),h=a===l.getMinZoom();this._zoomInButton.disabled=r,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",r.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())}_rotateCompassArrow(){let l=this._map;if(!l)return;let a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(l.transform.pitch*(Math.PI/180)),.5)}) rotateX(${l.transform.pitch}deg) rotateZ(${l.transform.angle*(180/Math.PI)}deg)`:`rotate(${l.transform.angle*(180/Math.PI)}deg)`;l._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=a)})}onAdd(l){return this._map=l,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),l.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&l.on("pitch",this._rotateCompassArrow),l.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zh(l,this._compass,this.options.visualizePitch)),this._container}onRemove(){let l=this._map;l&&(this._container.remove(),this.options.showZoom&&l.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&l.off("pitch",this._rotateCompassArrow),l.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(l,a){let r=ht("button",l,this._container);return r.type="button",r.addEventListener("click",a),r}_setButtonTitle(l,a){if(!this._map)return;let r=this._map._getUIString(`NavigationControl.${a}`);l.setAttribute("aria-label",r),l.firstElementChild&&l.firstElementChild.setAttribute("title",r)}},GeolocateControl:class extends o.Evented{constructor(l){super(),this.options=o.extend({geolocation:o.window.navigator.geolocation},Fc,l),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=jr(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(l){return this._map=l,this._container=ht("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(l){let a=(r=!!this.options.geolocation)=>{this._supportsGeolocation=r,l(r)};this._supportsGeolocation!==void 0?l(this._supportsGeolocation):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(r=>a(r.state!=="denied")).catch(()=>a()):a()}_isOutOfMapMaxBounds(l){let a=this._map.getMaxBounds(),r=l.coords;return!!a&&(r.longitude<a.getWest()||r.longitude>a.getEast()||r.latitude<a.getSouth()||r.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(l){if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",l)),this._finish()}}_updateCamera(l){let a=new o.LngLat(l.coords.longitude,l.coords.latitude),r=l.coords.accuracy,h=this._map.getBearing(),d=o.extend({bearing:h},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(r),d,{geolocateSource:!0})}_updateMarker(l){if(l){let a=new o.LngLat(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){let l=this._map.transform,a=o.mercatorZfromAltitude(1,l._center.lat)*l.worldSize,r=Math.ceil(2*this._accuracy*a);this._circleElement.style.width=`${r}px`,this._circleElement.style.height=`${r}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(l){if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",l)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(l){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=ht("button","mapboxgl-ctrl-geolocate",this._container),ht("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",l===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");let a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}else{let a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ht("div","mapboxgl-user-location"),this._dotElement.appendChild(ht("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(ht("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Ze({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=ht("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ze({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",a=>{a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||a.originalEvent&&a.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new o.Event("trackuserlocationend")))})}}_onDeviceOrientation(l){this._userLocationDotMarker&&(l.webkitCompassHeading?this._heading=l.webkitCompassHeading:l.absolute===!0&&(this._heading=-1*l.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let l;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(l={maximumAge:6e5,timeout:0},this._noTimeout=!0):(l=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,l),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){let l=()=>{o.window.addEventListener("ondeviceorientationabsolute"in o.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};o.window.DeviceMotionEvent!==void 0&&typeof o.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"&&l()}).catch(console.error):l()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),o.window.removeEventListener("deviceorientation",this._onDeviceOrientation),o.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Xe,ScaleControl:class{constructor(l){this.options=o.extend({},Vc,l),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),o.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){let l=this.options.maxWidth||100,a=this._map,r=a._containerHeight/2,h=a._containerWidth/2-l/2,d=a.unproject([h,r]),m=a.unproject([h+l,r]),_=d.distanceTo(m);if(this.options.unit==="imperial"){let y=3.2808*_;y>5280?this._setScale(l,y/5280,"mile"):this._setScale(l,y,"foot")}else this.options.unit==="nautical"?this._setScale(l,_/1852,"nautical-mile"):_>=1e3?this._setScale(l,_/1e3,"kilometer"):this._setScale(l,_,"meter")}_setScale(l,a,r){this._map._requestDomTask(()=>{let h=function(m){let _=Math.pow(10,`${Math.floor(m)}`.length-1),y=m/_;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:y>=1?1:function(x){let A=Math.pow(10,Math.ceil(-Math.log(x)/Math.LN10));return Math.round(x*A)/A}(y),_*y}(a),d=h/a;this._container.innerHTML=this._isNumberFormatSupported&&r!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:r}).format(h):`${h}&nbsp;${Nc[r]}`,this._container.style.width=l*d+"px"})}onAdd(l){return this._map=l,this._language=l.getLanguage(),this._container=ht("div","mapboxgl-ctrl mapboxgl-ctrl-scale",l.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(l){this._language=l,this._update()}setUnit(l){this.options.unit=l,this._update()}},FullscreenControl:class{constructor(l){this._fullscreen=!1,l&&l.container&&(l.container instanceof o.window.HTMLElement?this._container=l.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in o.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(l){return this._map=l,this._container||(this._container=this._map.getContainer()),this._controlContainer=ht("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!o.window.document.fullscreenEnabled&&!o.window.document.webkitFullscreenEnabled)}_setupUI(){let l=this._fullscreenButton=ht("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ht("span","mapboxgl-ctrl-icon",l).setAttribute("aria-hidden","true"),l.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){let l=this._getTitle();this._fullscreenButton.setAttribute("aria-label",l),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",l)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(o.window.document.fullscreenElement||o.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends o.Evented{constructor(l){super(),this.options=o.extend(Object.create(Rc),l),o.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(l&&l.className?l.className.trim().split(/\s+/):[])}addTo(l){return this._map&&this.remove(),this._map=l,this.options.closeOnClick&&l.on("preclick",this._onClose),this.options.closeOnMove&&l.on("move",this._onClose),l.on("remove",this.remove),this._update(),l._addPopup(this),this._focusFirstElement(),this._trackPointer?(l.on("mousemove",this._onMouseEvent),l.on("mouseup",this._onMouseEvent),l._canvasContainer.classList.add("mapboxgl-track-pointer")):l.on("move",this._update),this.fire(new o.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);let l=this._map;return l&&(l.off("move",this._update),l.off("move",this._onClose),l.off("preclick",this._onClose),l.off("click",this._onClose),l.off("remove",this.remove),l.off("mousemove",this._onMouseEvent),l.off("mouseup",this._onMouseEvent),l.off("drag",this._onMouseEvent),l._canvasContainer&&l._canvasContainer.classList.remove("mapboxgl-track-pointer"),l._removePopup(this),this._map=void 0),this.fire(new o.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(l){this._lngLat=o.LngLat.convert(l),this._pos=null,this._trackPointer=!1,this._update();let a=this._map;return a&&(a.on("move",this._update),a.off("mousemove",this._onMouseEvent),a._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();let l=this._map;return l&&(l.off("move",this._update),l.on("mousemove",this._onMouseEvent),l.on("drag",this._onMouseEvent),l._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(l){return this.setDOMContent(o.window.document.createTextNode(l))}setHTML(l){let a=o.window.document.createDocumentFragment(),r=o.window.document.createElement("body"),h;for(r.innerHTML=l;h=r.firstChild,h;)a.appendChild(h);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(l){return this.options.maxWidth=l,this._update(),this}setDOMContent(l){let a=this._content;if(a)for(;a.hasChildNodes();)a.firstChild&&a.removeChild(a.firstChild);else a=this._content=ht("div","mapboxgl-popup-content",this._container||void 0);if(a.appendChild(l),this.options.closeButton){let r=this._closeButton=ht("button","mapboxgl-popup-close-button",a);r.type="button",r.setAttribute("aria-label","Close popup"),r.setAttribute("aria-hidden","true"),r.innerHTML="&#215;",r.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(l){return this._classList.add(l),this._updateClassList(),this}removeClassName(l){return this._classList.delete(l),this._updateClassList(),this}setOffset(l){return this.options.offset=l,this._update(),this}toggleClassName(l){let a;return this._classList.delete(l)?a=!1:(this._classList.add(l),a=!0),this._updateClassList(),a}_onMouseEvent(l){this._update(l.point)}_getAnchor(l){if(this.options.anchor)return this.options.anchor;let a=this._map,r=this._container,h=this._pos;if(!a||!r||!h)return"bottom";let d=r.offsetWidth,m=r.offsetHeight,_=h.x<d/2,y=h.x>a.transform.width-d/2;if(h.y+l<m)return _?"top-left":y?"top-right":"top";if(h.y>a.transform.height-m){if(_)return"bottom-left";if(y)return"bottom-right"}return _?"left":y?"right":"bottom"}_updateClassList(){let l=this._container;if(!l)return;let a=[...this._classList];a.push("mapboxgl-popup"),this._anchor&&a.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&a.push("mapboxgl-popup-track-pointer"),l.className=a.join(" ")}_update(l){let a=this._map,r=this._content;if(!a||!this._lngLat&&!this._trackPointer||!r)return;let h=this._container;if(h||(h=this._container=ht("div","mapboxgl-popup",a.getContainer()),this._tip=ht("div","mapboxgl-popup-tip",h),h.appendChild(r)),this.options.maxWidth&&h.style.maxWidth!==this.options.maxWidth&&(h.style.maxWidth=this.options.maxWidth),a.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Zr(this._lngLat,this._pos,a.transform)),!this._trackPointer||l){let d=this._pos=this._trackPointer&&l?l:a.project(this._lngLat),m=p1(this.options.offset),_=this._anchor=this._getAnchor(m.y),y=p1(this.options.offset,_),x=d.add(y).round();a._requestDomTask(()=>{this._container&&_&&(this._container.style.transform=`${cr[_]} translate(${x.x}px,${x.y}px)`)})}if(!this._marker&&a._showingGlobe()){let d=o.isLngLatBehindGlobe(a.transform,this._lngLat)?0:1;this._setOpacity(d)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let l=this._container.querySelector(Hh);l&&l.focus()}_onClose(){this.remove()}_setOpacity(l){this._container&&(this._container.style.opacity=`${l}`),this._content&&(this._content.style.pointerEvents=l?"auto":"none")}},Marker:Ze,Style:Wa,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,FreeCameraOptions:J0,Evented:o.Evented,config:o.config,prewarm:function(){Er().acquire(Za)},clearPrewarmedResources:function(){let l=ca;l&&(l.isPreloaded()&&l.numActive()===1?(l.release(Za),ca=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(l){o.config.ACCESS_TOKEN=l},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(l){o.config.API_URL=l},get workerCount(){return Vi.workerCount},set workerCount(l){Vi.workerCount=l},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(l){o.config.MAX_PARALLEL_IMAGE_REQUESTS=l},clearStorage(l){o.clearTileCache(l)},workerUrl:"",workerClass:null,setNow:o.exported.setNow,restoreNow:o.exported.restoreNow};return $r});var V=ie;return V})});var cg=Qm((C0,_d)=>{(function(te,ie){typeof C0=="object"&&typeof _d=="object"?_d.exports=ie():typeof define=="function"&&define.amd?define("eva",[],ie):typeof C0=="object"?C0.eva=ie():te.eva=ie()})(typeof self<"u"?self:C0,function(){return function(Le){var te={};function ie(w){if(te[w])return te[w].exports;var V=te[w]={i:w,l:!1,exports:{}};return Le[w].call(V.exports,V,V.exports,ie),V.l=!0,V.exports}return ie.m=Le,ie.c=te,ie.d=function(w,V,o){ie.o(w,V)||Object.defineProperty(w,V,{enumerable:!0,get:o})},ie.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},ie.t=function(w,V){if(V&1&&(w=ie(w)),V&8||V&4&&typeof w=="object"&&w&&w.__esModule)return w;var o=Object.create(null);if(ie.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:w}),V&2&&typeof w!="string")for(var ae in w)ie.d(o,ae,function(Qe){return w[Qe]}.bind(null,ae));return o},ie.n=function(w){var V=w&&w.__esModule?function(){return w.default}:function(){return w};return ie.d(V,"a",V),V},ie.o=function(w,V){return Object.prototype.hasOwnProperty.call(w,V)},ie.p="",ie(ie.s="./package/src/index.js")}({"./node_modules/classnames/dedupe.js":function(Le,te,ie){var w,V;(function(){"use strict";var o=function(){function ae(){}ae.prototype=Object.create(null);function Qe(li,Nt){for(var et=Nt.length,ut=0;ut<et;++ut)Yi(li,Nt[ut])}var pt={}.hasOwnProperty;function Je(li,Nt){li[Nt]=!0}function ht(li,Nt){for(var et in Nt)pt.call(Nt,et)&&(li[et]=!!Nt[et])}var Ht=/\s+/;function $t(li,Nt){for(var et=Nt.split(Ht),ut=et.length,He=0;He<ut;++He)li[et[He]]=!0}function Yi(li,Nt){if(Nt){var et=typeof Nt;et==="string"?$t(li,Nt):Array.isArray(Nt)?Qe(li,Nt):et==="object"?ht(li,Nt):et==="number"&&Je(li,Nt)}}function Bi(){for(var li=arguments.length,Nt=Array(li),et=0;et<li;et++)Nt[et]=arguments[et];var ut=new ae;Qe(ut,Nt);var He=[];for(var at in ut)ut[at]&&He.push(at);return He.join(" ")}return Bi}();typeof Le<"u"&&Le.exports?(o.default=o,Le.exports=o):(w=[],V=function(){return o}.apply(te,w),V!==void 0&&(Le.exports=V))})()},"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./package/src/animation.scss":function(Le,te,ie){te=Le.exports=ie("./node_modules/css-loader/lib/css-base.js")(!1),te.push([Le.i,`/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */
.eva-animation {
  animation-duration: 1s;
  animation-fill-mode: both; }

.eva-infinite {
  animation-iteration-count: infinite; }

.eva-icon-shake {
  animation-name: eva-shake; }

.eva-icon-zoom {
  animation-name: eva-zoomIn; }

.eva-icon-pulse {
  animation-name: eva-pulse; }

.eva-icon-flip {
  animation-name: eva-flipInY; }

.eva-hover {
  display: inline-block; }

.eva-hover:hover .eva-icon-hover-shake, .eva-parent-hover:hover .eva-icon-hover-shake {
  animation-name: eva-shake; }

.eva-hover:hover .eva-icon-hover-zoom, .eva-parent-hover:hover .eva-icon-hover-zoom {
  animation-name: eva-zoomIn; }

.eva-hover:hover .eva-icon-hover-pulse, .eva-parent-hover:hover .eva-icon-hover-pulse {
  animation-name: eva-pulse; }

.eva-hover:hover .eva-icon-hover-flip, .eva-parent-hover:hover .eva-icon-hover-flip {
  animation-name: eva-flipInY; }

@keyframes eva-flipInY {
  from {
    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    animation-timing-function: ease-in;
    opacity: 0; }
  40% {
    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
    animation-timing-function: ease-in; }
  60% {
    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
    opacity: 1; }
  80% {
    transform: perspective(400px) rotate3d(0, 1, 0, -5deg); }
  to {
    transform: perspective(400px); } }

@keyframes eva-shake {
  from,
  to {
    transform: translate3d(0, 0, 0); }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translate3d(-3px, 0, 0); }
  20%,
  40%,
  60%,
  80% {
    transform: translate3d(3px, 0, 0); } }

@keyframes eva-pulse {
  from {
    transform: scale3d(1, 1, 1); }
  50% {
    transform: scale3d(1.2, 1.2, 1.2); }
  to {
    transform: scale3d(1, 1, 1); } }

@keyframes eva-zoomIn {
  from {
    opacity: 1;
    transform: scale3d(0.5, 0.5, 0.5); }
  50% {
    opacity: 1; } }
`,""])},"./node_modules/css-loader/lib/css-base.js":function(Le,te){Le.exports=function(V){var o=[];return o.toString=function(){return this.map(function(Qe){var pt=ie(Qe,V);return Qe[2]?"@media "+Qe[2]+"{"+pt+"}":pt}).join("")},o.i=function(ae,Qe){typeof ae=="string"&&(ae=[[null,ae,""]]);for(var pt={},Je=0;Je<this.length;Je++){var ht=this[Je][0];typeof ht=="number"&&(pt[ht]=!0)}for(Je=0;Je<ae.length;Je++){var Ht=ae[Je];(typeof Ht[0]!="number"||!pt[Ht[0]])&&(Qe&&!Ht[2]?Ht[2]=Qe:Qe&&(Ht[2]="("+Ht[2]+") and ("+Qe+")"),o.push(Ht))}},o};function ie(V,o){var ae=V[1]||"",Qe=V[3];if(!Qe)return ae;if(o&&typeof btoa=="function"){var pt=w(Qe),Je=Qe.sources.map(function(ht){return"/*# sourceURL="+Qe.sourceRoot+ht+" */"});return[ae].concat(Je).concat([pt]).join(`
`)}return[ae].join(`
`)}function w(V){var o=btoa(unescape(encodeURIComponent(JSON.stringify(V)))),ae="sourceMappingURL=data:application/json;charset=utf-8;base64,"+o;return"/*# "+ae+" */"}},"./node_modules/isomorphic-style-loader/insertCss.js":function(Le,te,ie){"use strict";var w={};function V(Qe){return btoa(encodeURIComponent(Qe).replace(/%([0-9A-F]{2})/g,function(pt,Je){return String.fromCharCode("0x"+Je)}))}function o(Qe){Qe.forEach(function(pt){if(--w[pt]<=0){var Je=document.getElementById(pt);Je&&Je.parentNode.removeChild(Je)}})}function ae(Qe,pt){for(var Je=pt===void 0?{}:pt,ht=Je.replace,Ht=ht===void 0?!1:ht,$t=Je.prepend,Yi=$t===void 0?!1:$t,Bi=Je.prefix,li=Bi===void 0?"s":Bi,Nt=[],et=0;et<Qe.length;et++){var ut=Qe[et],He=ut[0],at=ut[1],ct=ut[2],yt=ut[3],Se=""+li+He+"-"+et;if(Nt.push(Se),w[Se]&&!Ht){w[Se]++;continue}w[Se]=1;var ai=document.getElementById(Se),Ln=!1;ai||(Ln=!0,ai=document.createElement("style"),ai.setAttribute("type","text/css"),ai.id=Se,ct&&ai.setAttribute("media",ct));var Mt=at;yt&&typeof btoa=="function"&&(Mt+=`
/*# sourceMappingURL=data:application/json;base64,`+V(JSON.stringify(yt))+"*/",Mt+=`
/*# sourceURL=`+yt.file+"?"+Se+"*/"),"textContent"in ai?ai.textContent=Mt:ai.styleSheet.cssText=Mt,Ln&&(Yi?document.head.insertBefore(ai,document.head.childNodes[0]):document.head.appendChild(ai))}return o.bind(null,Nt)}Le.exports=ae},"./package-build/eva-icons.json":function(Le){Le.exports={activity:'<g data-name="Layer 2"><g data-name="activity"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M14.33 20h-.21a2 2 0 0 1-1.76-1.58L9.68 6l-2.76 6.4A1 1 0 0 1 6 13H3a1 1 0 0 1 0-2h2.34l2.51-5.79a2 2 0 0 1 3.79.38L14.32 18l2.76-6.38A1 1 0 0 1 18 11h3a1 1 0 0 1 0 2h-2.34l-2.51 5.79A2 2 0 0 1 14.33 20z"/></g></g>',"alert-circle":'<g data-name="Layer 2"><g data-name="alert-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 15a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-4a1 1 0 0 1-2 0V8a1 1 0 0 1 2 0z"/></g></g>',"alert-triangle":'<g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zM12 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-4a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0z"/></g></g>',archive:'<g data-name="Layer 2"><g data-name="archive"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-2 5.22V18a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8.22A3 3 0 0 0 18 3zm-3 10.13a.87.87 0 0 1-.87.87H9.87a.87.87 0 0 1-.87-.87v-.26a.87.87 0 0 1 .87-.87h4.26a.87.87 0 0 1 .87.87zM18 7H6a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></g></g>',"arrow-back":'<g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g>',"arrow-circle-down":'<g data-name="Layer 2"><g data-name="arrow-circle-down"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3.69 11.86l-3 2.86a.49.49 0 0 1-.15.1.54.54 0 0 1-.16.1.94.94 0 0 1-.76 0 1 1 0 0 1-.33-.21l-3-3a1 1 0 0 1 1.42-1.42l1.29 1.3V8a1 1 0 0 1 2 0v5.66l1.31-1.25a1 1 0 0 1 1.38 1.45z"/></g></g>',"arrow-circle-left":'<g data-name="Layer 2"><g data-name="arrow-circle-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22 12a10 10 0 1 0-10 10 10 10 0 0 0 10-10zm-11.86 3.69l-2.86-3a.49.49 0 0 1-.1-.15.54.54 0 0 1-.1-.16.94.94 0 0 1 0-.76 1 1 0 0 1 .21-.33l3-3a1 1 0 0 1 1.42 1.42L10.41 11H16a1 1 0 0 1 0 2h-5.66l1.25 1.31a1 1 0 0 1-1.45 1.38z"/></g></g>',"arrow-circle-right":'<g data-name="Layer 2"><g data-name="arrow-circle-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M2 12A10 10 0 1 0 12 2 10 10 0 0 0 2 12zm11.86-3.69l2.86 3a.49.49 0 0 1 .1.15.54.54 0 0 1 .1.16.94.94 0 0 1 0 .76 1 1 0 0 1-.21.33l-3 3a1 1 0 0 1-1.42-1.42l1.3-1.29H8a1 1 0 0 1 0-2h5.66l-1.25-1.31a1 1 0 0 1 1.45-1.38z"/></g></g>',"arrow-circle-up":'<g data-name="Layer 2"><g data-name="arrow-circle-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 22A10 10 0 1 0 2 12a10 10 0 0 0 10 10zM8.31 10.14l3-2.86a.49.49 0 0 1 .15-.1.54.54 0 0 1 .16-.1.94.94 0 0 1 .76 0 1 1 0 0 1 .33.21l3 3a1 1 0 0 1-1.42 1.42L13 10.41V16a1 1 0 0 1-2 0v-5.66l-1.31 1.25a1 1 0 0 1-1.38-1.45z"/></g></g>',"arrow-down":'<g data-name="Layer 2"><g data-name="arrow-downward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"/></g></g>',"arrow-downward":'<g data-name="Layer 2"><g data-name="arrow-down"><rect width="24" height="24" opacity="0"/><path d="M18.77 13.36a1 1 0 0 0-1.41-.13L13 16.86V5a1 1 0 0 0-2 0v11.86l-4.36-3.63a1 1 0 1 0-1.28 1.54l6 5 .15.09.13.07a1 1 0 0 0 .72 0l.13-.07.15-.09 6-5a1 1 0 0 0 .13-1.41z"/></g></g>',"arrow-forward":'<g data-name="Layer 2"><g data-name="arrow-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 13h11.86l-3.63 4.36a1 1 0 0 0 1.54 1.28l5-6a1.19 1.19 0 0 0 .09-.15c0-.05.05-.08.07-.13A1 1 0 0 0 20 12a1 1 0 0 0-.07-.36c0-.05-.05-.08-.07-.13a1.19 1.19 0 0 0-.09-.15l-5-6A1 1 0 0 0 14 5a1 1 0 0 0-.64.23 1 1 0 0 0-.13 1.41L16.86 11H5a1 1 0 0 0 0 2z"/></g></g>',"arrow-ios-back":'<g data-name="Layer 2"><g data-name="arrow-ios-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.83 19a1 1 0 0 1-.78-.37l-4.83-6a1 1 0 0 1 0-1.27l5-6a1 1 0 0 1 1.54 1.28L10.29 12l4.32 5.36a1 1 0 0 1-.78 1.64z"/></g></g>',"arrow-ios-downward":'<g data-name="Layer 2"><g data-name="arrow-ios-downward"><rect width="24" height="24" opacity="0"/><path d="M12 16a1 1 0 0 1-.64-.23l-6-5a1 1 0 1 1 1.28-1.54L12 13.71l5.36-4.32a1 1 0 0 1 1.41.15 1 1 0 0 1-.14 1.46l-6 4.83A1 1 0 0 1 12 16z"/></g></g>',"arrow-ios-forward":'<g data-name="Layer 2"><g data-name="arrow-ios-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10 19a1 1 0 0 1-.64-.23 1 1 0 0 1-.13-1.41L13.71 12 9.39 6.63a1 1 0 0 1 .15-1.41 1 1 0 0 1 1.46.15l4.83 6a1 1 0 0 1 0 1.27l-5 6A1 1 0 0 1 10 19z"/></g></g>',"arrow-ios-upward":'<g data-name="Layer 2"><g data-name="arrow-ios-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 15a1 1 0 0 1-.64-.23L12 10.29l-5.37 4.32a1 1 0 0 1-1.41-.15 1 1 0 0 1 .15-1.41l6-4.83a1 1 0 0 1 1.27 0l6 5a1 1 0 0 1 .13 1.41A1 1 0 0 1 18 15z"/></g></g>',"arrow-left":'<g data-name="Layer 2"><g data-name="arrow-left"><rect width="24" height="24" opacity="0"/><path d="M13.54 18a2.06 2.06 0 0 1-1.3-.46l-5.1-4.21a1.7 1.7 0 0 1 0-2.66l5.1-4.21a2.1 2.1 0 0 1 2.21-.26 1.76 1.76 0 0 1 1.05 1.59v8.42a1.76 1.76 0 0 1-1.05 1.59 2.23 2.23 0 0 1-.91.2z"/></g></g>',"arrow-right":'<g data-name="Layer 2"><g data-name="arrow-right"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M10.46 18a2.23 2.23 0 0 1-.91-.2 1.76 1.76 0 0 1-1.05-1.59V7.79A1.76 1.76 0 0 1 9.55 6.2a2.1 2.1 0 0 1 2.21.26l5.1 4.21a1.7 1.7 0 0 1 0 2.66l-5.1 4.21a2.06 2.06 0 0 1-1.3.46z"/></g></g>',"arrow-up":'<g data-name="Layer 2"><g data-name="arrow-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16.21 16H7.79a1.76 1.76 0 0 1-1.59-1 2.1 2.1 0 0 1 .26-2.21l4.21-5.1a1.76 1.76 0 0 1 2.66 0l4.21 5.1A2.1 2.1 0 0 1 17.8 15a1.76 1.76 0 0 1-1.59 1z"/></g></g>',"arrow-upward":'<g data-name="Layer 2"><g data-name="arrow-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M5.23 10.64a1 1 0 0 0 1.41.13L11 7.14V19a1 1 0 0 0 2 0V7.14l4.36 3.63a1 1 0 1 0 1.28-1.54l-6-5-.15-.09-.13-.07a1 1 0 0 0-.72 0l-.13.07-.15.09-6 5a1 1 0 0 0-.13 1.41z"/></g></g>',"arrowhead-down":'<g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/><path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/><path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/></g></g>',"arrowhead-left":'<g data-name="Layer 2"><g data-name="arrowhead-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M11.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L7.29 12l4.48-5.37a1 1 0 0 0-.13-1.4z"/><path d="M14.29 12l4.48-5.37a1 1 0 0 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/></g></g>',"arrowhead-right":'<g data-name="Layer 2"><g data-name="arrowhead-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M18.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L16.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 13 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M7 5.37a1 1 0 0 0-1.61 1.26L9.71 12l-4.48 5.36a1 1 0 0 0 .13 1.41A1 1 0 0 0 6 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 0-1.27z"/></g></g>',"arrowhead-up":'<g data-name="Layer 2"><g data-name="arrowhead-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.63 11.61L12 7.29l5.37 4.48A1 1 0 0 0 18 12a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41l-6-5a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.14z"/><path d="M12.64 12.23a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.15L12 14.29l5.37 4.48A1 1 0 0 0 18 19a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41z"/></g></g>',at:'<g data-name="Layer 2"><g data-name="at"><rect width="24" height="24" opacity="0"/><path d="M13 2a10 10 0 0 0-5 19.1 10.15 10.15 0 0 0 4 .9 10 10 0 0 0 6.08-2.06 1 1 0 0 0 .19-1.4 1 1 0 0 0-1.41-.19A8 8 0 1 1 12.77 4 8.17 8.17 0 0 1 20 12.22v.68a1.71 1.71 0 0 1-1.78 1.7 1.82 1.82 0 0 1-1.62-1.88V8.4a1 1 0 0 0-1-1 1 1 0 0 0-1 .87 5 5 0 0 0-3.44-1.36A5.09 5.09 0 1 0 15.31 15a3.6 3.6 0 0 0 5.55.61A3.67 3.67 0 0 0 22 12.9v-.68A10.2 10.2 0 0 0 13 2zm-1.82 13.09A3.09 3.09 0 1 1 14.27 12a3.1 3.1 0 0 1-3.09 3.09z"/></g></g>',"attach-2":'<g data-name="Layer 2"><g data-name="attach-2"><rect width="24" height="24" opacity="0"/><path d="M12 22a5.86 5.86 0 0 1-6-5.7V6.13A4.24 4.24 0 0 1 10.33 2a4.24 4.24 0 0 1 4.34 4.13v10.18a2.67 2.67 0 0 1-5.33 0V6.92a1 1 0 0 1 1-1 1 1 0 0 1 1 1v9.39a.67.67 0 0 0 1.33 0V6.13A2.25 2.25 0 0 0 10.33 4 2.25 2.25 0 0 0 8 6.13V16.3a3.86 3.86 0 0 0 4 3.7 3.86 3.86 0 0 0 4-3.7V6.13a1 1 0 1 1 2 0V16.3a5.86 5.86 0 0 1-6 5.7z"/></g></g>',attach:'<g data-name="Layer 2"><g data-name="attach"><rect width="24" height="24" opacity="0"/><path d="M9.29 21a6.23 6.23 0 0 1-4.43-1.88 6 6 0 0 1-.22-8.49L12 3.2A4.11 4.11 0 0 1 15 2a4.48 4.48 0 0 1 3.19 1.35 4.36 4.36 0 0 1 .15 6.13l-7.4 7.43a2.54 2.54 0 0 1-1.81.75 2.72 2.72 0 0 1-1.95-.82 2.68 2.68 0 0 1-.08-3.77l6.83-6.86a1 1 0 0 1 1.37 1.41l-6.83 6.86a.68.68 0 0 0 .08.95.78.78 0 0 0 .53.23.56.56 0 0 0 .4-.16l7.39-7.43a2.36 2.36 0 0 0-.15-3.31 2.38 2.38 0 0 0-3.27-.15L6.06 12a4 4 0 0 0 .22 5.67 4.22 4.22 0 0 0 3 1.29 3.67 3.67 0 0 0 2.61-1.06l7.39-7.43a1 1 0 1 1 1.42 1.41l-7.39 7.43A5.65 5.65 0 0 1 9.29 21z"/></g></g>',award:'<g data-name="Layer 2"><g data-name="award"><rect width="24" height="24" opacity="0"/><path d="M19 20.75l-2.31-9A5.94 5.94 0 0 0 18 8 6 6 0 0 0 6 8a5.94 5.94 0 0 0 1.34 3.77L5 20.75a1 1 0 0 0 1.48 1.11l5.33-3.13 5.68 3.14A.91.91 0 0 0 18 22a1 1 0 0 0 1-1.25zM12 4a4 4 0 1 1-4 4 4 4 0 0 1 4-4z"/></g></g>',backspace:'<g data-name="Layer 2"><g data-name="backspace"><rect width="24" height="24" opacity="0"/><path d="M20.14 4h-9.77a3 3 0 0 0-2 .78l-.1.11-6 7.48a1 1 0 0 0 .11 1.37l6 5.48a3 3 0 0 0 2 .78h9.77A1.84 1.84 0 0 0 22 18.18V5.82A1.84 1.84 0 0 0 20.14 4zm-3.43 9.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L14 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L15.41 12z"/></g></g>',"bar-chart-2":'<g data-name="Layer 2"><g data-name="bar-chart-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M19 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M5 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/></g></g>',"bar-chart":'<g data-name="Layer 2"><g data-name="bar-chart"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M19 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/><path d="M5 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',battery:'<g data-name="Layer 2"><g data-name="battery"><rect width="24" height="24" opacity="0"/><path d="M15.83 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h11.66A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',behance:'<g data-name="Layer 2"><g data-name="behance"><rect width="24" height="24" opacity="0"/><path d="M14.76 11.19a1 1 0 0 0-1 1.09h2.06a1 1 0 0 0-1.06-1.09z"/><path d="M9.49 12.3H8.26v1.94h1c1 0 1.44-.33 1.44-1s-.46-.94-1.21-.94z"/><path d="M10.36 10.52c0-.53-.35-.85-.95-.85H8.26v1.74h.85c.89 0 1.25-.32 1.25-.89z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM9.7 15.2H7V8.7h2.7c1.17 0 1.94.61 1.94 1.6a1.4 1.4 0 0 1-1.12 1.43A1.52 1.52 0 0 1 12 13.37c0 1.16-1 1.83-2.3 1.83zm3.55-6h3v.5h-3zM17 13.05h-3.3v.14a1.07 1.07 0 0 0 1.09 1.19.9.9 0 0 0 1-.63H17a2 2 0 0 1-2.17 1.55 2.15 2.15 0 0 1-2.36-2.3v-.44a2.11 2.11 0 0 1 2.28-2.25A2.12 2.12 0 0 1 17 12.58z"/></g></g>',"bell-off":'<g data-name="Layer 2"><g data-name="bell-off"><rect width="24" height="24" opacity="0"/><path d="M15.88 18.71l-.59-.59L14 16.78l-.07-.07L6.58 9.4 5.31 8.14a5.68 5.68 0 0 0 0 .59v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.88 3.88 0 0 0 4-3.22zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4z"/><path d="M7.13 4.3l1.46 1.46 9.53 9.53 2 2 .31.3a1.58 1.58 0 0 0 .45-.6 1.62 1.62 0 0 0-.35-1.78l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.83-6.88 6.71 6.71 0 0 0-5.32 1.61 6.88 6.88 0 0 0-.58.54z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',bell:'<g data-name="Layer 2"><g data-name="bell"><rect width="24" height="24" opacity="0"/><path d="M20.52 15.21l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.74 6.74 0 0 0-7.62 6.67v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.84 3.84 0 0 0 4-3.66V18h3.36a1.64 1.64 0 0 0 1.16-2.79zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4z"/></g></g>',bluetooth:'<g data-name="Layer 2"><g data-name="bluetooth"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.63 12l4-3.79a1.14 1.14 0 0 0-.13-1.77l-4.67-3.23a1.17 1.17 0 0 0-1.21-.08 1.15 1.15 0 0 0-.62 1v6.2l-3.19-4a1 1 0 0 0-1.56 1.3L9.72 12l-3.5 4.43a1 1 0 0 0 .16 1.4A1 1 0 0 0 7 18a1 1 0 0 0 .78-.38L11 13.56v6.29A1.16 1.16 0 0 0 12.16 21a1.16 1.16 0 0 0 .67-.21l4.64-3.18a1.17 1.17 0 0 0 .49-.85 1.15 1.15 0 0 0-.34-.91zM13 5.76l2.5 1.73L13 9.85zm0 12.49v-4.07l2.47 2.38z"/></g></g>',"book-open":'<g data-name="Layer 2"><g data-name="book-open"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21 4.34a1.24 1.24 0 0 0-1.08-.23L13 5.89v14.27l7.56-1.94A1.25 1.25 0 0 0 21.5 17V5.32a1.25 1.25 0 0 0-.5-.98z"/><path d="M11 5.89L4.06 4.11A1.27 1.27 0 0 0 3 4.34a1.25 1.25 0 0 0-.48 1V17a1.25 1.25 0 0 0 .94 1.21L11 20.16z"/></g></g>',book:'<g data-name="Layer 2"><g data-name="book"><rect width="24" height="24" opacity="0"/><path d="M19 3H7a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM7 19a1 1 0 0 1 0-2h11v2z"/></g></g>',bookmark:'<g data-name="Layer 2"><g data-name="bookmark"><rect width="24" height="24" opacity="0"/><path d="M6 21a1 1 0 0 1-.49-.13A1 1 0 0 1 5 20V5.33A2.28 2.28 0 0 1 7.2 3h9.6A2.28 2.28 0 0 1 19 5.33V20a1 1 0 0 1-.5.86 1 1 0 0 1-1 0l-5.67-3.21-5.33 3.2A1 1 0 0 1 6 21z"/></g></g>',briefcase:'<g data-name="Layer 2"><g data-name="briefcase"><rect width="24" height="24" opacity="0"/><path d="M7 21h10V7h-1V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H7zm3-15.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4z"/><path d="M19 7v14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3z"/><path d="M5 7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3z"/></g></g>',browser:'<g data-name="Layer 2"><g data-name="browser"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-6 3a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM8 6a1 1 0 1 1-1 1 1 1 0 0 1 1-1zm11 12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7h14z"/></g></g>',brush:'<g data-name="Layer 2"><g data-name="brush"><rect width="24" height="24" opacity="0"/><path d="M7.12 12.55a4 4 0 0 0-3.07 3.86v3.11a.47.47 0 0 0 .48.48l3.24-.06a3.78 3.78 0 0 0 3.44-2.2 3.65 3.65 0 0 0-4.09-5.19z"/><path d="M19.26 4.46a2.14 2.14 0 0 0-2.88.21L10 11.08a.47.47 0 0 0 0 .66L12.25 14a.47.47 0 0 0 .66 0l6.49-6.47a2.06 2.06 0 0 0 .6-1.47 2 2 0 0 0-.74-1.6z"/></g></g>',bulb:'<g data-name="Layer 2"><g data-name="bulb"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 7a5 5 0 0 0-3 9v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a5 5 0 0 0-3-9z"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M5 11H3a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M7.66 6.42L6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.06-1.41z"/><path d="M19.19 5.05a1 1 0 0 0-1.41 0l-1.44 1.37a1 1 0 0 0 0 1.41 1 1 0 0 0 .72.31 1 1 0 0 0 .69-.28l1.44-1.39a1 1 0 0 0 0-1.42z"/></g></g>',calendar:'<g data-name="Layer 2"><g data-name="calendar"><rect width="24" height="24" opacity="0"/><path d="M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm3-6H5V7a1 1 0 0 1 1-1h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1z"/></g></g>',camera:'<g data-name="Layer 2"><g data-name="camera"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="14" r="1.5"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-9-1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zm2 12a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',car:'<g data-name="Layer 2"><g data-name="car"><rect width="24" height="24" opacity="0"/><path d="M21.6 11.22L17 7.52V5a1.91 1.91 0 0 0-1.81-2H3.79A1.91 1.91 0 0 0 2 5v10a2 2 0 0 0 1.2 1.88 3 3 0 1 0 5.6.12h6.36a3 3 0 1 0 5.64 0h.2a1 1 0 0 0 1-1v-4a1 1 0 0 0-.4-.78zM20 12.48V15h-3v-4.92zM7 18a1 1 0 1 1-1-1 1 1 0 0 1 1 1zm12 0a1 1 0 1 1-1-1 1 1 0 0 1 1 1z"/></g></g>',cast:'<g data-name="Layer 2"><g data-name="cast"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M18.4 3H5.6A2.7 2.7 0 0 0 3 5.78V7a1 1 0 0 0 2 0V5.78A.72.72 0 0 1 5.6 5h12.8a.72.72 0 0 1 .6.78v12.44a.72.72 0 0 1-.6.78H17a1 1 0 0 0 0 2h1.4a2.7 2.7 0 0 0 2.6-2.78V5.78A2.7 2.7 0 0 0 18.4 3z"/><path d="M3.86 14A1 1 0 0 0 3 15.17a1 1 0 0 0 1.14.83 2.49 2.49 0 0 1 2.12.72 2.52 2.52 0 0 1 .51 2.84 1 1 0 0 0 .48 1.33 1.06 1.06 0 0 0 .42.09 1 1 0 0 0 .91-.58A4.52 4.52 0 0 0 3.86 14z"/><path d="M3.86 10.08a1 1 0 0 0 .28 2 6 6 0 0 1 5.09 1.71 6 6 0 0 1 1.53 5.95 1 1 0 0 0 .68 1.26.9.9 0 0 0 .28 0 1 1 0 0 0 1-.72 8 8 0 0 0-8.82-10.2z"/><circle cx="4" cy="19" r="1"/></g></g>',charging:'<g data-name="Layer 2"><g data-name="charging"><rect width="24" height="24" opacity="0"/><path d="M11.28 13H7a1 1 0 0 1-.86-.5 1 1 0 0 1 0-1L9.28 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h4.25z"/><path d="M15.83 6h-4.25l-2.86 5H13a1 1 0 0 1 .86.5 1 1 0 0 1 0 1L10.72 18h5.11A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',"checkmark-circle-2":'<g data-name="Layer 2"><g data-name="checkmark-circle-2"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4.3 7.61l-4.57 6a1 1 0 0 1-.79.39 1 1 0 0 1-.79-.38l-2.44-3.11a1 1 0 0 1 1.58-1.23l1.63 2.08 3.78-5a1 1 0 1 1 1.6 1.22z"/></g></g>',"checkmark-circle":'<g data-name="Layer 2"><g data-name="checkmark-circle"><rect width="24" height="24" opacity="0"/><path d="M9.71 11.29a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .72-.34l7-8a1 1 0 0 0-1.5-1.32L12 13.54z"/><path d="M21 11a1 1 0 0 0-1 1 8 8 0 0 1-8 8A8 8 0 0 1 6.33 6.36 7.93 7.93 0 0 1 12 4a8.79 8.79 0 0 1 1.9.22 1 1 0 1 0 .47-1.94A10.54 10.54 0 0 0 12 2a10 10 0 0 0-7 17.09A9.93 9.93 0 0 0 12 22a10 10 0 0 0 10-10 1 1 0 0 0-1-1z"/></g></g>',"checkmark-square-2":'<g data-name="Layer 2"><g data-name="checkmark-square-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-1.7 6.61l-4.57 6a1 1 0 0 1-.79.39 1 1 0 0 1-.79-.38l-2.44-3.11a1 1 0 0 1 1.58-1.23l1.63 2.08 3.78-5a1 1 0 1 1 1.6 1.22z"/></g></g>',"checkmark-square":'<g data-name="Layer 2"><g data-name="checkmark-square"><rect width="24" height="24" opacity="0"/><path d="M20 11.83a1 1 0 0 0-1 1v5.57a.6.6 0 0 1-.6.6H5.6a.6.6 0 0 1-.6-.6V5.6a.6.6 0 0 1 .6-.6h9.57a1 1 0 1 0 0-2H5.6A2.61 2.61 0 0 0 3 5.6v12.8A2.61 2.61 0 0 0 5.6 21h12.8a2.61 2.61 0 0 0 2.6-2.6v-5.57a1 1 0 0 0-1-1z"/><path d="M10.72 11a1 1 0 0 0-1.44 1.38l2.22 2.33a1 1 0 0 0 .72.31 1 1 0 0 0 .72-.3l6.78-7a1 1 0 1 0-1.44-1.4l-6.05 6.26z"/></g></g>',checkmark:'<g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g>',"chevron-down":'<g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g>',"chevron-left":'<g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g>',"chevron-right":'<g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g>',"chevron-up":'<g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g>',clipboard:'<g data-name="Layer 2"><g data-name="clipboard"><rect width="24" height="24" opacity="0"/><path d="M18 4v3a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z"/><rect x="7" y="2" width="10" height="6" rx="1" ry="1"/></g></g>',clock:'<g data-name="Layer 2"><g data-name="clock"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 11h-4a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2z"/></g></g>',"close-circle":'<g data-name="Layer 2"><g data-name="close-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm2.71 11.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L12 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L13.41 12z"/></g></g>',"close-square":'<g data-name="Layer 2"><g data-name="close-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3.29 10.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L12 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L13.41 12z"/></g></g>',close:'<g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"cloud-download":'<g data-name="Layer 2"><g data-name="cloud-download"><rect width="24" height="24" opacity="0"/><path d="M21.9 11c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 9.08 21 9s-.2-.25-.31-.37-.21-.2-.32-.3L20 8l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09h-.18A6 6 0 0 0 6.33 7h-.18a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23L4.05 8l-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 12a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 15a5 5 0 0 0 4 2 2 2 0 0 1 .59-1.41A2 2 0 0 1 9 15a1.92 1.92 0 0 1 1 .27V12a2 2 0 0 1 4 0v3.37a2 2 0 0 1 1-.27 2.05 2.05 0 0 1 1.44.61A2 2 0 0 1 17 17a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 12a5.23 5.23 0 0 0-.1-1z"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/><rect width="24" height="24" opacity="0"/><path d="M21.9 11c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 9.08 21 9s-.2-.25-.31-.37-.21-.2-.32-.3L20 8l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09h-.18A6 6 0 0 0 6.33 7h-.18a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23L4.05 8l-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 12a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 15a5 5 0 0 0 4 2 2 2 0 0 1 .59-1.41A2 2 0 0 1 9 15a1.92 1.92 0 0 1 1 .27V12a2 2 0 0 1 4 0v3.37a2 2 0 0 1 1-.27 2.05 2.05 0 0 1 1.44.61A2 2 0 0 1 17 17a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 12a5.23 5.23 0 0 0-.1-1z"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/></g></g>',"cloud-upload":'<g data-name="Layer 2"><g data-name="cloud-upload"><rect width="24" height="24" opacity="0"/><path d="M21.9 12c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 10.08 21 10s-.2-.25-.31-.37-.21-.2-.32-.3L20 9l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09L17.67 8A6 6 0 0 0 6.33 8l-.18.05a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23l-.36.3-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 13a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 16a5 5 0 0 0 4 2h3v-1.37a2 2 0 0 1-1 .27 2.05 2.05 0 0 1-1.44-.61 2 2 0 0 1 .05-2.83l3-2.9A2 2 0 0 1 12 10a2 2 0 0 1 1.41.59l3 3a2 2 0 0 1 0 2.82A2 2 0 0 1 15 17a1.92 1.92 0 0 1-1-.27V18h3a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 13a5.23 5.23 0 0 0-.1-1z"/><path d="M12.71 11.29a1 1 0 0 0-1.4 0l-3 2.9a1 1 0 1 0 1.38 1.44L11 14.36V20a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"code-download":'<g data-name="Layer 2"><g data-name="code-download"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M4.29 12l4.48-5.36a1 1 0 1 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.56 1.26L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M15.72 11.41a1 1 0 0 0-1.41 0L13 12.64V8a1 1 0 0 0-2 0v4.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .69-.28l3-2.9a1 1 0 0 0 .03-1.41z"/></g></g>',code:'<g data-name="Layer 2"><g data-name="code"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M8.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L4.29 12l4.48-5.36a1 1 0 0 0-.13-1.41z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/></g></g>',collapse:'<g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g>',"color-palette":'<g data-name="Layer 2"><g data-name="color-palette"><rect width="24" height="24" opacity="0"/><path d="M19.54 5.08A10.61 10.61 0 0 0 11.91 2a10 10 0 0 0-.05 20 2.58 2.58 0 0 0 2.53-1.89 2.52 2.52 0 0 0-.57-2.28.5.5 0 0 1 .37-.83h1.65A6.15 6.15 0 0 0 22 11.33a8.48 8.48 0 0 0-2.46-6.25zm-12.7 9.66a1.5 1.5 0 1 1 .4-2.08 1.49 1.49 0 0 1-.4 2.08zM8.3 9.25a1.5 1.5 0 1 1-.55-2 1.5 1.5 0 0 1 .55 2zM11 7a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 11 7zm5.75.8a1.5 1.5 0 1 1 .55-2 1.5 1.5 0 0 1-.55 2z"/></g></g>',"color-picker":'<g data-name="Layer 2"><g data-name="color-picker"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A1.92 1.92 0 0 0 14 4.53l-2 2-1.29-1.24a1 1 0 0 0-1.42 1.42L10.53 8 5 13.53a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l5.58-5.58 1.24 1.24a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-1.24-1.24 2-2a1.92 1.92 0 0 0-.07-2.71zm-13 7.6L12 9.36l2.69 2.7-2.79 2.79"/></g></g>',compass:'<g data-name="Layer 2"><g data-name="compass"><rect width="24" height="24" opacity="0"/><polygon points="10.8 13.21 12.49 12.53 13.2 10.79 11.51 11.47 10.8 13.21"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3.93 7.42l-1.75 4.26a1 1 0 0 1-.55.55l-4.21 1.7A1 1 0 0 1 9 16a1 1 0 0 1-.71-.31h-.05a1 1 0 0 1-.18-1l1.75-4.26a1 1 0 0 1 .55-.55l4.21-1.7a1 1 0 0 1 1.1.25 1 1 0 0 1 .26.99z"/></g></g>',copy:'<g data-name="Layer 2"><g data-name="copy"><rect width="24" height="24" opacity="0"/><path d="M18 9h-3V5.67A2.68 2.68 0 0 0 12.33 3H5.67A2.68 2.68 0 0 0 3 5.67v6.66A2.68 2.68 0 0 0 5.67 15H9v3a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3v-6a3 3 0 0 0-3-3zm-9 3v1H5.67a.67.67 0 0 1-.67-.67V5.67A.67.67 0 0 1 5.67 5h6.66a.67.67 0 0 1 .67.67V9h-1a3 3 0 0 0-3 3z"/></g></g>',"corner-down-left":'<g data-name="Layer 2"><g data-name="corner-down-left"><rect x=".05" y=".05" width="24" height="24" transform="rotate(-89.76 12.05 12.05)" opacity="0"/><path d="M20 6a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 1-.29.71A1 1 0 0 1 17 12H8.08l2.69-3.39a1 1 0 0 0-1.52-1.17l-4 5a1 1 0 0 0 0 1.25l4 5a1 1 0 0 0 .78.37 1 1 0 0 0 .62-.22 1 1 0 0 0 .15-1.41l-2.66-3.36h8.92a3 3 0 0 0 3-3z"/></g></g>',"corner-down-right":'<g data-name="Layer 2"><g data-name="corner-down-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 12.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a1 1 0 0 1-1-1V6a1 1 0 0 0-2 0v5a3 3 0 0 0 3 3h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 19a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"corner-left-down":'<g data-name="Layer 2"><g data-name="corner-left-down"><rect width="24" height="24" opacity="0"/><path d="M18 5h-5a3 3 0 0 0-3 3v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 1 0-1.24-1.56L12 16.92V8a1 1 0 0 1 1-1h5a1 1 0 0 0 0-2z"/></g></g>',"corner-left-up":'<g data-name="Layer 2"><g data-name="corner-left-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 17h-5a1 1 0 0 1-1-1V7.08l3.38 2.7A1 1 0 0 0 16 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L10 7.08V16a3 3 0 0 0 3 3h5a1 1 0 0 0 0-2z"/></g></g>',"corner-right-down":'<g data-name="Layer 2"><g data-name="corner-right-down"><rect width="24" height="24" opacity="0"/><path d="M18.78 14.38a1 1 0 0 0-1.4-.16L14 16.92V8a3 3 0 0 0-3-3H6a1 1 0 0 0 0 2h5a1 1 0 0 1 1 1v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 0 0 .16-1.4z"/></g></g>',"corner-right-up":'<g data-name="Layer 2"><g data-name="corner-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.62 8.22l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L12 7.08V16a1 1 0 0 1-1 1H6a1 1 0 0 0 0 2h5a3 3 0 0 0 3-3V7.08l3.38 2.7A1 1 0 0 0 18 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4z"/></g></g>',"corner-up-left":'<g data-name="Layer 2"><g data-name="corner-up-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16 10H7.08l2.7-3.38a1 1 0 1 0-1.56-1.24l-4 5a1 1 0 0 0 0 1.24l4 5A1 1 0 0 0 9 17a1 1 0 0 0 .62-.22 1 1 0 0 0 .16-1.4L7.08 12H16a1 1 0 0 1 1 1v5a1 1 0 0 0 2 0v-5a3 3 0 0 0-3-3z"/></g></g>',"corner-up-right":'<g data-name="Layer 2"><g data-name="corner-up-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 10.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a3 3 0 0 0-3 3v5a1 1 0 0 0 2 0v-5a1 1 0 0 1 1-1h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 17a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"credit-card":'<g data-name="Layer 2"><g data-name="credit-card"><rect width="24" height="24" opacity="0"/><path d="M19 5H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zm-8 10H7a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm6 0h-2a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2zm3-6H4V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',crop:'<g data-name="Layer 2"><g data-name="crop"><rect width="24" height="24" opacity="0"/><path d="M21 16h-3V8.56A2.56 2.56 0 0 0 15.44 6H8V3a1 1 0 0 0-2 0v3H3a1 1 0 0 0 0 2h3v7.44A2.56 2.56 0 0 0 8.56 18H16v3a1 1 0 0 0 2 0v-3h3a1 1 0 0 0 0-2zM8.56 16a.56.56 0 0 1-.56-.56V8h7.44a.56.56 0 0 1 .56.56V16z"/></g></g>',cube:'<g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M11.25 11.83L3 8.36v7.73a1.69 1.69 0 0 0 1 1.52L11.19 21h.06z"/><path d="M12 10.5l8.51-3.57a1.62 1.62 0 0 0-.51-.38l-7.2-3.37a1.87 1.87 0 0 0-1.6 0L4 6.55a1.62 1.62 0 0 0-.51.38z"/><path d="M12.75 11.83V21h.05l7.2-3.39a1.69 1.69 0 0 0 1-1.51V8.36z"/></g></g>',"diagonal-arrow-left-down":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-down"><rect width="24" height="24" opacity="0"/><path d="M17.71 6.29a1 1 0 0 0-1.42 0L8 14.59V9a1 1 0 0 0-2 0v8a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H9.41l8.3-8.29a1 1 0 0 0 0-1.42z"/></g></g>',"diagonal-arrow-left-up":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.71 16.29L9.42 8H15a1 1 0 0 0 0-2H7.05a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1H7a1 1 0 0 0 1-1V9.45l8.26 8.26a1 1 0 0 0 1.42 0 1 1 0 0 0 .03-1.42z"/></g></g>',"diagonal-arrow-right-down":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 8a1 1 0 0 0-1 1v5.59l-8.29-8.3a1 1 0 0 0-1.42 1.42l8.3 8.29H9a1 1 0 0 0 0 2h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"/></g></g>',"diagonal-arrow-right-up":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 7.05a1 1 0 0 0-1-1L9 6a1 1 0 0 0 0 2h5.56l-8.27 8.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L16 9.42V15a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/></g></g>',"done-all":'<g data-name="Layer 2"><g data-name="done-all"><rect width="24" height="24" opacity="0"/><path d="M16.62 6.21a1 1 0 0 0-1.41.17l-7 9-3.43-4.18a1 1 0 1 0-1.56 1.25l4.17 5.18a1 1 0 0 0 .78.37 1 1 0 0 0 .83-.38l7.83-10a1 1 0 0 0-.21-1.41z"/><path d="M21.62 6.21a1 1 0 0 0-1.41.17l-7 9-.61-.75-1.26 1.62 1.1 1.37a1 1 0 0 0 .78.37 1 1 0 0 0 .78-.38l7.83-10a1 1 0 0 0-.21-1.4z"/><path d="M8.71 13.06L10 11.44l-.2-.24a1 1 0 0 0-1.43-.2 1 1 0 0 0-.15 1.41z"/></g></g>',download:'<g data-name="Layer 2"><g data-name="download"><rect width="24" height="24" opacity="0"/><rect x="4" y="18" width="16" height="2" rx="1" ry="1"/><rect x="3" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 5 18)"/><rect x="17" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 19 18)"/><path d="M12 15a1 1 0 0 1-.58-.18l-4-2.82a1 1 0 0 1-.24-1.39 1 1 0 0 1 1.4-.24L12 12.76l3.4-2.56a1 1 0 0 1 1.2 1.6l-4 3a1 1 0 0 1-.6.2z"/><path d="M12 13a1 1 0 0 1-1-1V4a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"droplet-off":'<g data-name="Layer 2"><g data-name="droplet-off"><rect width="24" height="24" opacity="0"/><path d="M19 16.14A7.73 7.73 0 0 0 17.34 8l-4.56-4.69a1 1 0 0 0-.71-.31 1 1 0 0 0-.72.3L8.74 5.92z"/><path d="M6 8.82a7.73 7.73 0 0 0 .64 9.9A7.44 7.44 0 0 0 11.92 21a7.34 7.34 0 0 0 4.64-1.6z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',droplet:'<g data-name="Layer 2"><g data-name="droplet"><rect x=".1" y=".1" width="24" height="24" transform="rotate(.48 11.987 11.887)" opacity="0"/><path d="M12 21.1a7.4 7.4 0 0 1-5.28-2.28 7.73 7.73 0 0 1 .1-10.77l4.64-4.65a.94.94 0 0 1 .71-.3 1 1 0 0 1 .71.31l4.56 4.72a7.73 7.73 0 0 1-.09 10.77A7.33 7.33 0 0 1 12 21.1z"/></g></g>',"edit-2":'<g data-name="Layer 2"><g data-name="edit-2"><rect width="24" height="24" opacity="0"/><path d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2z"/><path d="M5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18zM15.27 4L18 6.73l-2 1.95L13.32 6z"/></g></g>',edit:'<g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g>',email:'<g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm0 2l-6.5 4.47a1 1 0 0 1-1 0L5 6z"/></g></g>',expand:'<g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g>',"external-link":'<g data-name="Layer 2"><g data-name="external-link"><rect width="24" height="24" opacity="0"/><path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"/><path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"/></g></g>',"eye-off-2":'<g data-name="Layer 2"><g data-name="eye-off-2"><rect width="24" height="24" opacity="0"/><path d="M17.81 13.39A8.93 8.93 0 0 0 21 7.62a1 1 0 1 0-2-.24 7.07 7.07 0 0 1-14 0 1 1 0 1 0-2 .24 8.93 8.93 0 0 0 3.18 5.77l-2.3 2.32a1 1 0 0 0 1.41 1.41l2.61-2.6a9.06 9.06 0 0 0 3.1.92V19a1 1 0 0 0 2 0v-3.56a9.06 9.06 0 0 0 3.1-.92l2.61 2.6a1 1 0 0 0 1.41-1.41z"/></g></g>',"eye-off":'<g data-name="Layer 2"><g data-name="eye-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M15.29 18.12L14 16.78l-.07-.07-1.27-1.27a4.07 4.07 0 0 1-.61.06A3.5 3.5 0 0 1 8.5 12a4.07 4.07 0 0 1 .06-.61l-2-2L5 7.87a15.89 15.89 0 0 0-2.87 3.63 1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25a9.48 9.48 0 0 0 3.23-.67z"/><path d="M8.59 5.76l2.8 2.8A4.07 4.07 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 4.07 4.07 0 0 1-.06.61l2.68 2.68.84.84a15.89 15.89 0 0 0 2.91-3.63 1 1 0 0 0 0-1c-.64-1.11-4.16-6.68-10.14-6.5a9.48 9.48 0 0 0-3.23.67z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',eye:'<g data-name="Layer 2"><g data-name="eye"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zm-9.87 4a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',facebook:'<g data-name="Layer 2"><g data-name="facebook"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 3.5a.5.5 0 0 0-.5-.5H14a4.77 4.77 0 0 0-5 4.5v2.7H6.5a.5.5 0 0 0-.5.5v2.6a.5.5 0 0 0 .5.5H9v6.7a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-6.7h2.62a.5.5 0 0 0 .49-.37l.72-2.6a.5.5 0 0 0-.48-.63H13V7.5a1 1 0 0 1 1-.9h2.5a.5.5 0 0 0 .5-.5z"/></g></g>',"file-add":'<g data-name="Layer 2"><g data-name="file-add"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 15h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2zm.71-7a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',"file-remove":'<g data-name="Layer 2"><g data-name="file-remove"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 15h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm.71-7a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',"file-text":'<g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM9 12h3a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2zm6 6H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2zm-.29-10a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',file:'<g data-name="Layer 2"><g data-name="file"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 4l3.74 4h-3a.79.79 0 0 1-.74-.85z"/></g></g>',film:'<g data-name="Layer 2"><g data-name="film"><rect width="24" height="24" opacity="0"/><path d="M18.26 3H5.74A2.74 2.74 0 0 0 3 5.74v12.52A2.74 2.74 0 0 0 5.74 21h12.52A2.74 2.74 0 0 0 21 18.26V5.74A2.74 2.74 0 0 0 18.26 3zM7 11H5V9h2zm-2 2h2v2H5zm14-2h-2V9h2zm-2 2h2v2h-2zm2-7.26V7h-2V5h1.26a.74.74 0 0 1 .74.74zM5.74 5H7v2H5V5.74A.74.74 0 0 1 5.74 5zM5 18.26V17h2v2H5.74a.74.74 0 0 1-.74-.74zm14 0a.74.74 0 0 1-.74.74H17v-2h2z"/></g></g>',flag:'<g data-name="Layer 2"><g data-name="flag"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M19.27 4.68a1.79 1.79 0 0 0-1.6-.25 7.53 7.53 0 0 1-2.17.28 8.54 8.54 0 0 1-3.13-.78A10.15 10.15 0 0 0 8.5 3c-2.89 0-4 1-4.2 1.14a1 1 0 0 0-.3.72V20a1 1 0 0 0 2 0v-4.3a6.28 6.28 0 0 1 2.5-.41 8.54 8.54 0 0 1 3.13.78 10.15 10.15 0 0 0 3.87.93 7.66 7.66 0 0 0 3.5-.7 1.74 1.74 0 0 0 1-1.55V6.11a1.77 1.77 0 0 0-.73-1.43z"/></g></g>',"flash-off":'<g data-name="Layer 2"><g data-name="flash-off"><rect width="24" height="24" opacity="0"/><path d="M17.33 14.5l2.5-3.74A1 1 0 0 0 19 9.2h-5.89l.77-7.09a1 1 0 0 0-.65-1 1 1 0 0 0-1.17.38L8.94 6.11z"/><path d="M6.67 9.5l-2.5 3.74A1 1 0 0 0 5 14.8h5.89l-.77 7.09a1 1 0 0 0 .65 1.05 1 1 0 0 0 .34.06 1 1 0 0 0 .83-.44l3.12-4.67z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',flash:'<g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44z"/></g></g>',"flip-2":'<g data-name="Layer 2"><g data-name="flip-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.09 19h12l-1.3 1.29a1 1 0 0 0 1.42 1.42l3-3a1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0 1 1 0 0 0 0 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19z"/><path d="M5.79 9.71a1 1 0 1 0 1.42-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5h-12l1.3-1.29a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 0 1.42z"/></g></g>',flip:'<g data-name="Layer 2"><g data-name="flip-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 6.09v12l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0L7 18.09v-12A1.56 1.56 0 0 1 8.53 4.5H11a1 1 0 0 0 0-2H8.53A3.56 3.56 0 0 0 5 6.09z"/><path d="M14.29 5.79a1 1 0 0 0 1.42 1.42L17 5.91v12a1.56 1.56 0 0 1-1.53 1.59H13a1 1 0 0 0 0 2h2.47A3.56 3.56 0 0 0 19 17.91v-12l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0z"/></g></g>',"folder-add":'<g data-name="Layer 2"><g data-name="folder-add"><rect width="24" height="24" opacity="0"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zM14 15h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2z"/></g></g>',"folder-remove":'<g data-name="Layer 2"><g data-name="folder-remove"><rect width="24" height="24" opacity="0"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zM14 15h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/></g></g>',folder:'<g data-name="Layer 2"><g data-name="folder"><rect width="24" height="24" opacity="0"/><path d="M19.5 20.5h-15A2.47 2.47 0 0 1 2 18.07V5.93A2.47 2.47 0 0 1 4.5 3.5h4.6a1 1 0 0 1 .77.37l2.6 3.18h7A2.47 2.47 0 0 1 22 9.48v8.59a2.47 2.47 0 0 1-2.5 2.43z"/></g></g>',funnel:'<g data-name="Layer 2"><g data-name="funnel"><rect width="24" height="24" opacity="0"/><path d="M13.9 22a1 1 0 0 1-.6-.2l-4-3.05a1 1 0 0 1-.39-.8v-3.27l-4.8-9.22A1 1 0 0 1 5 4h14a1 1 0 0 1 .86.49 1 1 0 0 1 0 1l-5 9.21V21a1 1 0 0 1-.55.9 1 1 0 0 1-.41.1z"/></g></g>',gift:'<g data-name="Layer 2"><g data-name="gift"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M4.64 15.27v4.82a.92.92 0 0 0 .92.91h5.62v-5.73z"/><path d="M12.82 21h5.62a.92.92 0 0 0 .92-.91v-4.82h-6.54z"/><path d="M20.1 7.09h-1.84a2.82 2.82 0 0 0 .29-1.23A2.87 2.87 0 0 0 15.68 3 4.21 4.21 0 0 0 12 5.57 4.21 4.21 0 0 0 8.32 3a2.87 2.87 0 0 0-2.87 2.86 2.82 2.82 0 0 0 .29 1.23H3.9c-.5 0-.9.59-.9 1.31v3.93c0 .72.4 1.31.9 1.31h7.28V7.09h1.64v6.55h7.28c.5 0 .9-.59.9-1.31V8.4c0-.72-.4-1.31-.9-1.31zm-11.78 0a1.23 1.23 0 1 1 0-2.45c1.4 0 2.19 1.44 2.58 2.45zm7.36 0H13.1c.39-1 1.18-2.45 2.58-2.45a1.23 1.23 0 1 1 0 2.45z"/></g></g>',github:'<g data-name="Layer 2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 1A10.89 10.89 0 0 0 1 11.77 10.79 10.79 0 0 0 8.52 22c.55.1.75-.23.75-.52v-1.83c-3.06.65-3.71-1.44-3.71-1.44a2.86 2.86 0 0 0-1.22-1.58c-1-.66.08-.65.08-.65a2.31 2.31 0 0 1 1.68 1.11 2.37 2.37 0 0 0 3.2.89 2.33 2.33 0 0 1 .7-1.44c-2.44-.27-5-1.19-5-5.32a4.15 4.15 0 0 1 1.11-2.91 3.78 3.78 0 0 1 .11-2.84s.93-.29 3 1.1a10.68 10.68 0 0 1 5.5 0c2.1-1.39 3-1.1 3-1.1a3.78 3.78 0 0 1 .11 2.84A4.15 4.15 0 0 1 19 11.2c0 4.14-2.58 5.05-5 5.32a2.5 2.5 0 0 1 .75 2v2.95c0 .35.2.63.75.52A10.8 10.8 0 0 0 23 11.77 10.89 10.89 0 0 0 12 1" data-name="github"/></g>',"globe-2":'<g data-name="Layer 2"><g data-name="globe-2"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 2a8.19 8.19 0 0 1 1.79.21 2.61 2.61 0 0 1-.78 1c-.22.17-.46.31-.7.46a4.56 4.56 0 0 0-1.85 1.67 6.49 6.49 0 0 0-.62 3.3c0 1.36 0 2.16-.95 2.87-1.37 1.07-3.46.47-4.76-.07A8.33 8.33 0 0 1 4 12a8 8 0 0 1 8-8zm4.89 14.32a6.79 6.79 0 0 0-.63-1.14c-.11-.16-.22-.32-.32-.49-.39-.68-.25-1 .38-2l.1-.17a4.77 4.77 0 0 0 .58-2.43 5.42 5.42 0 0 1 .09-1c.16-.73 1.71-.93 2.67-1a7.94 7.94 0 0 1-2.86 8.28z"/></g></g>',"globe-3":'<g data-name="Layer 2"><g data-name="globe-3"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM5 15.8a8.42 8.42 0 0 0 2 .27 5 5 0 0 0 3.14-1c1.71-1.34 1.71-3.06 1.71-4.44a4.76 4.76 0 0 1 .37-2.34 2.86 2.86 0 0 1 1.12-.91 9.75 9.75 0 0 0 .92-.61 4.55 4.55 0 0 0 1.4-1.87A8 8 0 0 1 19 8.12c-1.43.2-3.46.67-3.86 2.53A7 7 0 0 0 15 12a2.93 2.93 0 0 1-.29 1.47l-.1.17c-.65 1.08-1.38 2.31-.39 4 .12.21.25.41.38.61a2.29 2.29 0 0 1 .52 1.08A7.89 7.89 0 0 1 12 20a8 8 0 0 1-7-4.2z"/></g></g>',globe:'<g data-name="Layer 2"><g data-name="globe"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M22 12A10 10 0 0 0 12 2a10 10 0 0 0 0 20 10 10 0 0 0 10-10zm-2.07-1H17a12.91 12.91 0 0 0-2.33-6.54A8 8 0 0 1 19.93 11zM9.08 13H15a11.44 11.44 0 0 1-3 6.61A11 11 0 0 1 9.08 13zm0-2A11.4 11.4 0 0 1 12 4.4a11.19 11.19 0 0 1 3 6.6zm.36-6.57A13.18 13.18 0 0 0 7.07 11h-3a8 8 0 0 1 5.37-6.57zM4.07 13h3a12.86 12.86 0 0 0 2.35 6.56A8 8 0 0 1 4.07 13zm10.55 6.55A13.14 13.14 0 0 0 17 13h2.95a8 8 0 0 1-5.33 6.55z"/></g></g>',google:'<g data-name="Layer 2"><g data-name="google"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M17.5 14a5.51 5.51 0 0 1-4.5 3.93 6.15 6.15 0 0 1-7-5.45A6 6 0 0 1 12 6a6.12 6.12 0 0 1 2.27.44.5.5 0 0 0 .64-.21l1.44-2.65a.52.52 0 0 0-.23-.7A10 10 0 0 0 2 12.29 10.12 10.12 0 0 0 11.57 22 10 10 0 0 0 22 12.52v-2a.51.51 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h5"/></g></g>',grid:'<g data-name="Layer 2"><g data-name="grid"><rect width="24" height="24" opacity="0"/><path d="M9 3H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/><path d="M19 3h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/><path d="M9 13H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2z"/><path d="M19 13h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2z"/></g></g>',"hard-drive":'<g data-name="Layer 2"><g data-name="hard-drive"><rect width="24" height="24" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zM5.62 11l2.72-5.45a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11z"/></g></g>',hash:'<g data-name="Layer 2"><g data-name="hash"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 14h-4.3l.73-4H20a1 1 0 0 0 0-2h-3.21l.69-3.81A1 1 0 0 0 16.64 3a1 1 0 0 0-1.22.82L14.67 8h-3.88l.69-3.81A1 1 0 0 0 10.64 3a1 1 0 0 0-1.22.82L8.67 8H4a1 1 0 0 0 0 2h4.3l-.73 4H4a1 1 0 0 0 0 2h3.21l-.69 3.81A1 1 0 0 0 7.36 21a1 1 0 0 0 1.22-.82L9.33 16h3.88l-.69 3.81a1 1 0 0 0 .84 1.19 1 1 0 0 0 1.22-.82l.75-4.18H20a1 1 0 0 0 0-2zM9.7 14l.73-4h3.87l-.73 4z"/></g></g>',headphones:'<g data-name="Layer 2"><g data-name="headphones"><rect width="24" height="24" opacity="0"/><path d="M12 2A10.2 10.2 0 0 0 2 12.37V17a4 4 0 1 0 4-4 3.91 3.91 0 0 0-2 .56v-1.19A8.2 8.2 0 0 1 12 4a8.2 8.2 0 0 1 8 8.37v1.19a3.91 3.91 0 0 0-2-.56 4 4 0 1 0 4 4v-4.63A10.2 10.2 0 0 0 12 2z"/></g></g>',heart:'<g data-name="Layer 2"><g data-name="heart"><rect width="24" height="24" opacity="0"/><path d="M12 21a1 1 0 0 1-.71-.29l-7.77-7.78a5.26 5.26 0 0 1 0-7.4 5.24 5.24 0 0 1 7.4 0L12 6.61l1.08-1.08a5.24 5.24 0 0 1 7.4 0 5.26 5.26 0 0 1 0 7.4l-7.77 7.78A1 1 0 0 1 12 21z"/></g></g>',home:'<g data-name="Layer 2"><g data-name="home"><rect width="24" height="24" opacity="0"/><rect x="10" y="14" width="4" height="7"/><path d="M20.42 10.18L12.71 2.3a1 1 0 0 0-1.42 0l-7.71 7.89A2 2 0 0 0 3 11.62V20a2 2 0 0 0 1.89 2H8v-9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v9h3.11A2 2 0 0 0 21 20v-8.38a2.07 2.07 0 0 0-.58-1.44z"/></g></g>',"image-2":'<g data-name="Layer 2"><g data-name="image-2"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM8 7a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 7zm11 10.83A1.09 1.09 0 0 1 18 19H6l7.57-6.82a.69.69 0 0 1 .93 0l4.5 4.48z"/></g></g>',image:'<g data-name="Layer 2"><g data-name="image"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v8.36l-3.2-2.73a2.77 2.77 0 0 0-3.52 0L5 17.7V6a1 1 0 0 1 1-1z"/><circle cx="8" cy="8.5" r="1.5"/></g></g>',inbox:'<g data-name="Layer 2"><g data-name="inbox"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H16a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2a1 1 0 0 0-1-1H5.62z"/></g></g>',info:'<g data-name="Layer 2"><g data-name="info"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 14a1 1 0 0 1-2 0v-5a1 1 0 0 1 2 0zm-1-7a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',keypad:'<g data-name="Layer 2"><g data-name="keypad"><rect width="24" height="24" opacity="0"/><path d="M5 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 8a3 3 0 1 0-3-3 3 3 0 0 0 3 3z"/><path d="M5 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M5 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/></g></g>',layers:'<g data-name="Layer 2"><g data-name="layers"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M3.24 7.29l8.52 4.63a.51.51 0 0 0 .48 0l8.52-4.63a.44.44 0 0 0-.05-.81L12.19 3a.5.5 0 0 0-.38 0L3.29 6.48a.44.44 0 0 0-.05.81z"/><path d="M20.71 10.66l-1.83-.78-6.64 3.61a.51.51 0 0 1-.48 0L5.12 9.88l-1.83.78a.48.48 0 0 0 0 .85l8.52 4.9a.46.46 0 0 0 .48 0l8.52-4.9a.48.48 0 0 0-.1-.85z"/><path d="M20.71 15.1l-1.56-.68-6.91 3.76a.51.51 0 0 1-.48 0l-6.91-3.76-1.56.68a.49.49 0 0 0 0 .87l8.52 5a.51.51 0 0 0 .48 0l8.52-5a.49.49 0 0 0-.1-.87z"/></g></g>',layout:'<g data-name="Layer 2"><g data-name="layout"><rect width="24" height="24" opacity="0"/><path d="M21 8V6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v2z"/><path d="M3 10v8a3 3 0 0 0 3 3h5V10z"/><path d="M13 10v11h5a3 3 0 0 0 3-3v-8z"/></g></g>',"link-2":'<g data-name="Layer 2"><g data-name="link-2"><rect width="24" height="24" opacity="0"/><path d="M13.29 9.29l-4 4a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4-4a1 1 0 0 0-1.42-1.42z"/><path d="M12.28 17.4L11 18.67a4.2 4.2 0 0 1-5.58.4 4 4 0 0 1-.27-5.93l1.42-1.43a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-1.27 1.28a6.15 6.15 0 0 0-.67 8.07 6.06 6.06 0 0 0 9.07.6l1.42-1.42a1 1 0 0 0-1.42-1.42z"/><path d="M19.66 3.22a6.18 6.18 0 0 0-8.13.68L10.45 5a1.09 1.09 0 0 0-.17 1.61 1 1 0 0 0 1.42 0L13 5.3a4.17 4.17 0 0 1 5.57-.4 4 4 0 0 1 .27 5.95l-1.42 1.43a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.42-1.42a6.06 6.06 0 0 0-.6-9.06z"/></g></g>',link:'<g data-name="Layer 2"><g data-name="link"><rect width="24" height="24" opacity="0"/><path d="M8 12a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2H9a1 1 0 0 0-1 1z"/><path d="M9 16H7.21A4.13 4.13 0 0 1 3 12.37 4 4 0 0 1 7 8h2a1 1 0 0 0 0-2H7.21a6.15 6.15 0 0 0-6.16 5.21A6 6 0 0 0 7 18h2a1 1 0 0 0 0-2z"/><path d="M23 11.24A6.16 6.16 0 0 0 16.76 6h-1.51C14.44 6 14 6.45 14 7a1 1 0 0 0 1 1h1.79A4.13 4.13 0 0 1 21 11.63 4 4 0 0 1 17 16h-2a1 1 0 0 0 0 2h2a6 6 0 0 0 6-6.76z"/></g></g>',linkedin:'<g data-name="Layer 2"><g data-name="linkedin"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M15.15 8.4a5.83 5.83 0 0 0-5.85 5.82v5.88a.9.9 0 0 0 .9.9h2.1a.9.9 0 0 0 .9-.9v-5.88a1.94 1.94 0 0 1 2.15-1.93 2 2 0 0 1 1.75 2v5.81a.9.9 0 0 0 .9.9h2.1a.9.9 0 0 0 .9-.9v-5.88a5.83 5.83 0 0 0-5.85-5.82z"/><rect x="3" y="9.3" width="4.5" height="11.7" rx=".9" ry=".9"/><circle cx="5.25" cy="5.25" r="2.25"/></g></g>',list:'<g data-name="Layer 2"><g data-name="list"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="7" r="1"/><circle cx="4" cy="12" r="1"/><circle cx="4" cy="17" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="16" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="6" width="14" height="2" rx=".94" ry=".94"/></g></g>',lock:'<g data-name="Layer 2"><g data-name="lock"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="15" r="1"/><path d="M17 8h-1V6.11a4 4 0 1 0-8 0V8H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-7-1.89A2.06 2.06 0 0 1 12 4a2.06 2.06 0 0 1 2 2.11V8h-4zM12 18a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"log-in":'<g data-name="Layer 2"><g data-name="log-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19 4h-2a1 1 0 0 0 0 2h1v12h-1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/><path d="M11.8 7.4a1 1 0 0 0-1.6 1.2L12 11H4a1 1 0 0 0 0 2h8.09l-1.72 2.44a1 1 0 0 0 .24 1.4 1 1 0 0 0 .58.18 1 1 0 0 0 .81-.42l2.82-4a1 1 0 0 0 0-1.18z"/></g></g>',"log-out":'<g data-name="Layer 2"><g data-name="log-out"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M7 6a1 1 0 0 0 0-2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 0-2H6V6z"/><path d="M20.82 11.42l-2.82-4a1 1 0 0 0-1.39-.24 1 1 0 0 0-.24 1.4L18.09 11H10a1 1 0 0 0 0 2h8l-1.8 2.4a1 1 0 0 0 .2 1.4 1 1 0 0 0 .6.2 1 1 0 0 0 .8-.4l3-4a1 1 0 0 0 .02-1.18z"/></g></g>',map:'<g data-name="Layer 2"><g data-name="map"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.41 5.89l-4-1.8H15.59L12 5.7 8.41 4.09h-.05L8.24 4h-.6l-4 1.8a1 1 0 0 0-.64 1V19a1 1 0 0 0 .46.84A1 1 0 0 0 4 20a1 1 0 0 0 .41-.09L8 18.3l3.59 1.61h.05a.85.85 0 0 0 .72 0h.05L16 18.3l3.59 1.61A1 1 0 0 0 20 20a1 1 0 0 0 .54-.16A1 1 0 0 0 21 19V6.8a1 1 0 0 0-.59-.91zM9 6.55l2 .89v10l-2-.89zm10 10.9l-2-.89v-10l2 .89z"/></g></g>',maximize:'<g data-name="Layer 2"><g data-name="maximize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM13 12h-1v1a1 1 0 0 1-2 0v-1H9a1 1 0 0 1 0-2h1V9a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2z"/></g></g>',"menu-2":'<g data-name="Layer 2"><g data-name="menu-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="12" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="3" y="16" width="18" height="2" rx=".94" ry=".94"/><rect x="3" y="6" width="18" height="2" rx=".94" ry=".94"/></g></g>',"menu-arrow":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.05 11H5.91l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 13h14.14a1 1 0 0 0 .95-.95V12a1 1 0 0 0-.95-1z"/><rect x="3" y="17" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="5" width="18" height="2" rx=".95" ry=".95"/></g></g>',menu:'<g data-name="Layer 2"><g data-name="menu"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="3" y="11" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="16" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="6" width="18" height="2" rx=".95" ry=".95"/></g></g>',"message-circle":'<g data-name="Layer 2"><g data-name="message-circle"><rect width="24" height="24" opacity="0"/><path d="M19.07 4.93a10 10 0 0 0-16.28 11 1.06 1.06 0 0 1 .09.64L2 20.8a1 1 0 0 0 .27.91A1 1 0 0 0 3 22h.2l4.28-.86a1.26 1.26 0 0 1 .64.09 10 10 0 0 0 11-16.28zM8 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"message-square":'<g data-name="Layer 2"><g data-name="message-square"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM8 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"mic-off":'<g data-name="Layer 2"><g data-name="mic-off"><rect width="24" height="24" opacity="0"/><path d="M15.58 12.75A4 4 0 0 0 16 11V6a4 4 0 0 0-7.92-.75"/><path d="M19 11a1 1 0 0 0-2 0 4.86 4.86 0 0 1-.69 2.48L17.78 15A7 7 0 0 0 19 11z"/><path d="M12 15h.16L8 10.83V11a4 4 0 0 0 4 4z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M15 20h-2v-2.08a7 7 0 0 0 1.65-.44l-1.6-1.6A4.57 4.57 0 0 1 12 16a5 5 0 0 1-5-5 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',mic:'<g data-name="Layer 2"><g data-name="mic"><rect width="24" height="24" opacity="0"/><path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4z"/><path d="M19 11a1 1 0 0 0-2 0 5 5 0 0 1-10 0 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H8.89a.89.89 0 0 0-.89.89v.22a.89.89 0 0 0 .89.89h6.22a.89.89 0 0 0 .89-.89v-.22a.89.89 0 0 0-.89-.89H13v-2.08A7 7 0 0 0 19 11z"/></g></g>',minimize:'<g data-name="Layer 2"><g data-name="minimize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM13 12H9a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/></g></g>',"minus-circle":'<g data-name="Layer 2"><g data-name="minus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3 11H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z"/></g></g>',"minus-square":'<g data-name="Layer 2"><g data-name="minus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3 10H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z"/></g></g>',minus:'<g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g>',monitor:'<g data-name="Layer 2"><g data-name="monitor"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v5h20V6a3 3 0 0 0-3-3z"/><path d="M2 14a3 3 0 0 0 3 3h6v2H7a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2h-4v-2h6a3 3 0 0 0 3-3v-1H2z"/></g></g>',moon:'<g data-name="Layer 2"><g data-name="moon"><rect width="24" height="24" opacity="0"/><path d="M12.3 22h-.1a10.31 10.31 0 0 1-7.34-3.15 10.46 10.46 0 0 1-.26-14 10.13 10.13 0 0 1 4-2.74 1 1 0 0 1 1.06.22 1 1 0 0 1 .24 1 8.4 8.4 0 0 0 1.94 8.81 8.47 8.47 0 0 0 8.83 1.94 1 1 0 0 1 1.27 1.29A10.16 10.16 0 0 1 19.6 19a10.28 10.28 0 0 1-7.3 3z"/></g></g>',"more-horizontal":'<g data-name="Layer 2"><g data-name="more-horizotnal"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/><circle cx="5" cy="12" r="2"/></g></g>',"more-vertical":'<g data-name="Layer 2"><g data-name="more-vertical"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/></g></g>',move:'<g data-name="Layer 2"><g data-name="move"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21.71 11.31l-3-3a1 1 0 0 0-1.42 1.42L18.58 11H13V5.41l1.29 1.3A1 1 0 0 0 15 7a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42l-3-3A1 1 0 0 0 12 2a1 1 0 0 0-.7.29l-3 3a1 1 0 0 0 1.41 1.42L11 5.42V11H5.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3A1 1 0 0 0 2 12a1 1 0 0 0 .29.71l3 3A1 1 0 0 0 6 16a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42L5.42 13H11v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 22a1 1 0 0 0 .7-.29l3-3a1 1 0 0 0-1.42-1.42L13 18.58V13h5.59l-1.3 1.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 16a1 1 0 0 0 .71-.29l3-3A1 1 0 0 0 22 12a1 1 0 0 0-.29-.69z"/></g></g>',music:'<g data-name="Layer 2"><g data-name="music"><rect width="24" height="24" opacity="0"/><path d="M19 15V4a1 1 0 0 0-.38-.78 1 1 0 0 0-.84-.2l-9 2A1 1 0 0 0 8 6v8.34a3.49 3.49 0 1 0 2 3.18 4.36 4.36 0 0 0 0-.52V6.8l7-1.55v7.09a3.49 3.49 0 1 0 2 3.17 4.57 4.57 0 0 0 0-.51z"/></g></g>',"navigation-2":'<g data-name="Layer 2"><g data-name="navigation-2"><rect width="24" height="24" opacity="0"/><path d="M13.67 22h-.06a1 1 0 0 1-.92-.8l-1.54-7.57a1 1 0 0 0-.78-.78L2.8 11.31a1 1 0 0 1-.12-1.93l16-5.33A1 1 0 0 1 20 5.32l-5.33 16a1 1 0 0 1-1 .68z"/></g></g>',navigation:'<g data-name="Layer 2"><g data-name="navigation"><rect width="24" height="24" opacity="0"/><path d="M20 20a.94.94 0 0 1-.55-.17l-6.9-4.56a1 1 0 0 0-1.1 0l-6.9 4.56a1 1 0 0 1-1.44-1.28l8-16a1 1 0 0 1 1.78 0l8 16a1 1 0 0 1-.23 1.2A1 1 0 0 1 20 20z"/></g></g>',npm:'<g data-name="Layer 2"><g data-name="npm"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h7V11h4v10h1a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3z"/></g></g>',"options-2":'<g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2z"/></g></g>',options:'<g data-name="Layer 2"><g data-name="options"><rect width="24" height="24" opacity="0"/><path d="M7 14.18V3a1 1 0 0 0-2 0v11.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-1.18a3 3 0 0 0 0-5.64z"/><path d="M21 13a3 3 0 0 0-2-2.82V3a1 1 0 0 0-2 0v7.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-5.18A3 3 0 0 0 21 13z"/><path d="M15 5a3 3 0 1 0-4 2.82V21a1 1 0 0 0 2 0V7.82A3 3 0 0 0 15 5z"/></g></g>',pantone:'<g data-name="Layer 2"><g data-name="pantone"><rect width="24" height="24" opacity="0"/><path d="M20 13.18h-2.7l-1.86 2L11.88 19l-1.41 1.52L10 21h10a1 1 0 0 0 1-1v-5.82a1 1 0 0 0-1-1z"/><path d="M18.19 9.3l-4.14-3.86a.89.89 0 0 0-.71-.26 1 1 0 0 0-.7.31l-.82.89v10.71a5.23 5.23 0 0 1-.06.57l6.48-6.95a1 1 0 0 0-.05-1.41z"/><path d="M10.82 4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v13.09a3.91 3.91 0 0 0 7.82 0zm-2 13.09a1.91 1.91 0 0 1-3.82 0V15h3.82zm0-4.09H5v-3h3.82zm0-5H5V5h3.82z"/></g></g>',"paper-plane":'<g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g>',"pause-circle":'<g data-name="Layer 2"><g data-name="pause-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm-2 13a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0zm6 0a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0z"/></g></g>',people:'<g data-name="Layer 2"><g data-name="people"><rect width="24" height="24" opacity="0"/><path d="M9 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M17 13a3 3 0 1 0-3-3 3 3 0 0 0 3 3z"/><path d="M21 20a1 1 0 0 0 1-1 5 5 0 0 0-8.06-3.95A7 7 0 0 0 2 20a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1"/></g></g>',percent:'<g data-name="Layer 2"><g data-name="percent"><rect width="24" height="24" opacity="0"/><path d="M8 11a3.5 3.5 0 1 0-3.5-3.5A3.5 3.5 0 0 0 8 11zm0-5a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 6z"/><path d="M16 14a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 16 14zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 19z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',"person-add":'<g data-name="Layer 2"><g data-name="person-add"><rect width="24" height="24" opacity="0"/><path d="M21 6h-1V5a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0V8h1a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',"person-delete":'<g data-name="Layer 2"><g data-name="person-delete"><rect width="24" height="24" opacity="0"/><path d="M20.47 7.5l.73-.73a1 1 0 0 0-1.47-1.47L19 6l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1 1 0 0 0 1.47 1.47L19 9l.73.73a1 1 0 0 0 1.47-1.5z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1z"/></g></g>',"person-done":'<g data-name="Layer 2"><g data-name="person-done"><rect width="24" height="24" opacity="0"/><path d="M21.66 4.25a1 1 0 0 0-1.41.09l-1.87 2.15-.63-.71a1 1 0 0 0-1.5 1.33l1.39 1.56a1 1 0 0 0 .75.33 1 1 0 0 0 .74-.34l2.61-3a1 1 0 0 0-.08-1.41z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',"person-remove":'<g data-name="Layer 2"><g data-name="person-remove"><rect width="24" height="24" opacity="0"/><path d="M21 6h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',person:'<g data-name="Layer 2"><g data-name="person"><rect width="24" height="24" opacity="0"/><path d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M18 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1z"/></g></g>',"phone-call":'<g data-name="Layer 2"><g data-name="phone-call"><rect width="24" height="24" opacity="0"/><path d="M13 8a3 3 0 0 1 3 3 1 1 0 0 0 2 0 5 5 0 0 0-5-5 1 1 0 0 0 0 2z"/><path d="M13 4a7 7 0 0 1 7 7 1 1 0 0 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0 0 2z"/><path d="M21.75 15.91a1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a9.91 9.91 0 0 1-4.87-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76 4.34 4.34 0 0 0-.19-.73z"/></g></g>',"phone-missed":'<g data-name="Layer 2"><g data-name="phone-missed"><rect width="24" height="24" opacity="0"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10 10 0 0 1-4.88-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/><path d="M15.8 8.7a1.05 1.05 0 0 0 1.47 0L18 8l.73.73a1 1 0 0 0 1.47-1.5l-.73-.73.73-.73a1 1 0 0 0-1.47-1.47L18 5l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1.05 1.05 0 0 0 0 1.47z"/></g></g>',"phone-off":'<g data-name="Layer 2"><g data-name="phone-off"><rect width="24" height="24" opacity="0"/><path d="M9.27 12.06a10.37 10.37 0 0 1-.8-1.42C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6a15.33 15.33 0 0 0 3.27 9.46z"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10.88 10.88 0 0 1-1.41-.8l-4 4A15.33 15.33 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',phone:'<g data-name="Layer 2"><g data-name="phone"><rect width="24" height="24" opacity="0"/><path d="M17.4 22A15.42 15.42 0 0 1 2 6.6 4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07 3.79 3.79 0 0 1 .72.18 1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65 4.34 4.34 0 0 1 .19.73 4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22z"/></g></g>',"pie-chart-2":'<g data-name="Layer 2"><g data-name="pie-chart-2"><rect width="24" height="24" opacity="0"/><path d="M14.5 10.33h6.67A.83.83 0 0 0 22 9.5 7.5 7.5 0 0 0 14.5 2a.83.83 0 0 0-.83.83V9.5a.83.83 0 0 0 .83.83zm.83-6.6a5.83 5.83 0 0 1 4.94 4.94h-4.94z"/><path d="M21.08 12h-8.15a.91.91 0 0 1-.91-.91V2.92A.92.92 0 0 0 11 2a10 10 0 1 0 11 11 .92.92 0 0 0-.92-1z"/></g></g>',"pie-chart":'<g data-name="Layer 2"><g data-name="pie-chart"><rect width="24" height="24" opacity="0"/><path d="M14.5 10.33h6.67A.83.83 0 0 0 22 9.5 7.5 7.5 0 0 0 14.5 2a.83.83 0 0 0-.83.83V9.5a.83.83 0 0 0 .83.83z"/><path d="M21.08 12h-8.15a.91.91 0 0 1-.91-.91V2.92A.92.92 0 0 0 11 2a10 10 0 1 0 11 11 .92.92 0 0 0-.92-1z"/></g></g>',pin:'<g data-name="Layer 2"><g data-name="pin"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="9.5" r="1.5"/><path d="M12 2a8 8 0 0 0-8 7.92c0 5.48 7.05 11.58 7.35 11.84a1 1 0 0 0 1.3 0C13 21.5 20 15.4 20 9.92A8 8 0 0 0 12 2zm0 11a3.5 3.5 0 1 1 3.5-3.5A3.5 3.5 0 0 1 12 13z"/></g></g>',"play-circle":'<g data-name="Layer 2"><g data-name="play-circle"><rect width="24" height="24" opacity="0"/><polygon points="11.5 14.6 14.31 12 11.5 9.4 11.5 14.6"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 11.18l-3.64 3.37a1.74 1.74 0 0 1-1.16.45 1.68 1.68 0 0 1-.69-.15 1.6 1.6 0 0 1-1-1.48V8.63a1.6 1.6 0 0 1 1-1.48 1.7 1.7 0 0 1 1.85.3L16 10.82a1.6 1.6 0 0 1 0 2.36z"/></g></g>',"plus-circle":'<g data-name="Layer 2"><g data-name="plus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3 11h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V9a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2z"/></g></g>',"plus-square":'<g data-name="Layer 2"><g data-name="plus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3 10h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V9a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2z"/></g></g>',plus:'<g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g>',power:'<g data-name="Layer 2"><g data-name="power"><rect width="24" height="24" opacity="0"/><path d="M12 13a1 1 0 0 0 1-1V2a1 1 0 0 0-2 0v10a1 1 0 0 0 1 1z"/><path d="M16.59 3.11a1 1 0 0 0-.92 1.78 8 8 0 1 1-7.34 0 1 1 0 1 0-.92-1.78 10 10 0 1 0 9.18 0z"/></g></g>',pricetags:'<g data-name="Layer 2"><g data-name="pricetags"><rect width="24" height="24" opacity="0"/><path d="M21.47 11.58l-6.42-6.41a1 1 0 0 0-.61-.29L5.09 4a1 1 0 0 0-.8.29 1 1 0 0 0-.29.8l.88 9.35a1 1 0 0 0 .29.61l6.41 6.42a1.84 1.84 0 0 0 1.29.53 1.82 1.82 0 0 0 1.28-.53l7.32-7.32a1.82 1.82 0 0 0 0-2.57zm-9.91 0a1.5 1.5 0 1 1 0-2.12 1.49 1.49 0 0 1 0 2.1z"/></g></g>',printer:'<g data-name="Layer 2"><g data-name="printer"><rect width="24" height="24" opacity="0"/><path d="M19.36 7H18V5a1.92 1.92 0 0 0-1.83-2H7.83A1.92 1.92 0 0 0 6 5v2H4.64A2.66 2.66 0 0 0 2 9.67v6.66A2.66 2.66 0 0 0 4.64 19h.86a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2h.86A2.66 2.66 0 0 0 22 16.33V9.67A2.66 2.66 0 0 0 19.36 7zM8 5h8v2H8zm-.5 14v-4h9v4z"/></g></g>',"question-mark-circle":'<g data-name="Layer 2"><g data-name="menu-arrow-circle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 16a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-5.16V14a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.5-1.5 1 1 0 0 1-2 0 3.5 3.5 0 1 1 4.5 3.34z"/></g></g>',"question-mark":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g>',"radio-button-off":'<g data-name="Layer 2"><g data-name="radio-button-off"><rect width="24" height="24" opacity="0"/><path d="M12 22a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/></g></g>',"radio-button-on":'<g data-name="Layer 2"><g data-name="radio-button-on"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5z"/></g></g>',radio:'<g data-name="Layer 2"><g data-name="radio"><rect width="24" height="24" opacity="0"/><path d="M12 8a3 3 0 0 0-1 5.83 1 1 0 0 0 0 .17v6a1 1 0 0 0 2 0v-6a1 1 0 0 0 0-.17A3 3 0 0 0 12 8z"/><path d="M3.5 11a6.87 6.87 0 0 1 2.64-5.23 1 1 0 1 0-1.28-1.54A8.84 8.84 0 0 0 1.5 11a8.84 8.84 0 0 0 3.36 6.77 1 1 0 1 0 1.28-1.54A6.87 6.87 0 0 1 3.5 11z"/><path d="M16.64 6.24a1 1 0 0 0-1.28 1.52A4.28 4.28 0 0 1 17 11a4.28 4.28 0 0 1-1.64 3.24A1 1 0 0 0 16 16a1 1 0 0 0 .64-.24A6.2 6.2 0 0 0 19 11a6.2 6.2 0 0 0-2.36-4.76z"/><path d="M8.76 6.36a1 1 0 0 0-1.4-.12A6.2 6.2 0 0 0 5 11a6.2 6.2 0 0 0 2.36 4.76 1 1 0 0 0 1.4-.12 1 1 0 0 0-.12-1.4A4.28 4.28 0 0 1 7 11a4.28 4.28 0 0 1 1.64-3.24 1 1 0 0 0 .12-1.4z"/><path d="M19.14 4.23a1 1 0 1 0-1.28 1.54A6.87 6.87 0 0 1 20.5 11a6.87 6.87 0 0 1-2.64 5.23 1 1 0 0 0 1.28 1.54A8.84 8.84 0 0 0 22.5 11a8.84 8.84 0 0 0-3.36-6.77z"/></g></g>',recording:'<g data-name="Layer 2"><g data-name="recording"><rect width="24" height="24" opacity="0"/><path d="M18 8a4 4 0 0 0-4 4 3.91 3.91 0 0 0 .56 2H9.44a3.91 3.91 0 0 0 .56-2 4 4 0 1 0-4 4h12a4 4 0 0 0 0-8z"/></g></g>',refresh:'<g data-name="Layer 2"><g data-name="refresh"><rect width="24" height="24" opacity="0"/><path d="M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"/></g></g>',repeat:'<g data-name="Layer 2"><g data-name="repeat"><rect width="24" height="24" opacity="0"/><path d="M17.91 5h-12l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5z"/><path d="M18.21 14.29a1 1 0 0 0-1.42 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19h12l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42z"/></g></g>',"rewind-left":'<g data-name="Layer 2"><g data-name="rewind-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.45 6.2a2.1 2.1 0 0 0-2.21.26l-4.74 3.92V7.79a1.76 1.76 0 0 0-1.05-1.59 2.1 2.1 0 0 0-2.21.26l-5.1 4.21a1.7 1.7 0 0 0 0 2.66l5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59v-2.59l4.74 3.92a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59z"/></g></g>',"rewind-right":'<g data-name="Layer 2"><g data-name="rewind-right"><rect width="24" height="24" opacity="0"/><path d="M20.86 10.67l-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1.05 1.59v2.59L7.76 6.46a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l4.74-3.92v2.59a1.76 1.76 0 0 0 1.05 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21a1.7 1.7 0 0 0 0-2.66z"/></g></g>',save:'<g data-name="Layer 2"><g data-name="save"><rect width="24" height="24" opacity="0"/><rect x="10" y="17" width="4" height="4"/><path d="M20.12 8.71l-4.83-4.83A3 3 0 0 0 13.17 3H10v6h5a1 1 0 0 1 0 2H9a1 1 0 0 1-1-1V3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h2v-4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4h2a3 3 0 0 0 3-3v-7.17a3 3 0 0 0-.88-2.12z"/></g></g>',scissors:'<g data-name="Layer 2"><g data-name="scissors"><rect width="24" height="24" opacity="0"/><path d="M20.21 5.71a1 1 0 1 0-1.42-1.42l-6.28 6.31-3.3-3.31A3 3 0 0 0 9.5 6a3 3 0 1 0-3 3 3 3 0 0 0 1.29-.3L11.1 12l-3.29 3.3A3 3 0 0 0 6.5 15a3 3 0 1 0 3 3 3 3 0 0 0-.29-1.26zM6.5 7a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15.21 13.29a1 1 0 0 0-1.42 1.42l5 5a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',search:'<g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g>',"settings-2":'<g data-name="Layer 2"><g data-name="settings-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M20.32 9.37h-1.09c-.14 0-.24-.11-.3-.26a.34.34 0 0 1 0-.37l.81-.74a1.63 1.63 0 0 0 .5-1.18 1.67 1.67 0 0 0-.5-1.19L18.4 4.26a1.67 1.67 0 0 0-2.37 0l-.77.74a.38.38 0 0 1-.41 0 .34.34 0 0 1-.22-.29V3.68A1.68 1.68 0 0 0 13 2h-1.94a1.69 1.69 0 0 0-1.69 1.68v1.09c0 .14-.11.24-.26.3a.34.34 0 0 1-.37 0L8 4.26a1.72 1.72 0 0 0-1.19-.5 1.65 1.65 0 0 0-1.18.5L4.26 5.6a1.67 1.67 0 0 0 0 2.4l.74.74a.38.38 0 0 1 0 .41.34.34 0 0 1-.29.22H3.68A1.68 1.68 0 0 0 2 11.05v1.89a1.69 1.69 0 0 0 1.68 1.69h1.09c.14 0 .24.11.3.26a.34.34 0 0 1 0 .37l-.81.74a1.72 1.72 0 0 0-.5 1.19 1.66 1.66 0 0 0 .5 1.19l1.34 1.36a1.67 1.67 0 0 0 2.37 0l.77-.74a.38.38 0 0 1 .41 0 .34.34 0 0 1 .22.29v1.09A1.68 1.68 0 0 0 11.05 22h1.89a1.69 1.69 0 0 0 1.69-1.68v-1.09c0-.14.11-.24.26-.3a.34.34 0 0 1 .37 0l.76.77a1.72 1.72 0 0 0 1.19.5 1.65 1.65 0 0 0 1.18-.5l1.34-1.34a1.67 1.67 0 0 0 0-2.37l-.73-.73a.34.34 0 0 1 0-.37.34.34 0 0 1 .29-.22h1.09A1.68 1.68 0 0 0 22 13v-1.94a1.69 1.69 0 0 0-1.68-1.69zM12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',settings:'<g data-name="Layer 2"><g data-name="settings"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M21.89 10.32L21.1 7.8a2.26 2.26 0 0 0-2.88-1.51l-.34.11a1.74 1.74 0 0 1-1.59-.26l-.11-.08a1.76 1.76 0 0 1-.69-1.43v-.28a2.37 2.37 0 0 0-.68-1.68 2.26 2.26 0 0 0-1.6-.67h-2.55a2.32 2.32 0 0 0-2.29 2.33v.24a1.94 1.94 0 0 1-.73 1.51l-.13.1a1.93 1.93 0 0 1-1.78.29 2.14 2.14 0 0 0-1.68.12 2.18 2.18 0 0 0-1.12 1.33l-.82 2.6a2.34 2.34 0 0 0 1.48 2.94h.16a1.83 1.83 0 0 1 1.12 1.22l.06.16a2.06 2.06 0 0 1-.23 1.86 2.37 2.37 0 0 0 .49 3.3l2.07 1.57a2.25 2.25 0 0 0 1.35.43A2 2 0 0 0 9 22a2.25 2.25 0 0 0 1.47-1l.23-.33a1.8 1.8 0 0 1 1.43-.77 1.75 1.75 0 0 1 1.5.78l.12.17a2.24 2.24 0 0 0 3.22.53L19 19.86a2.38 2.38 0 0 0 .5-3.23l-.26-.38A2 2 0 0 1 19 14.6a1.89 1.89 0 0 1 1.21-1.28l.2-.07a2.36 2.36 0 0 0 1.48-2.93zM12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',shake:'<g data-name="Layer 2"><g data-name="shake"><rect width="24" height="24" opacity="0"/><path d="M5.5 18a1 1 0 0 1-.64-.24A8.81 8.81 0 0 1 1.5 11a8.81 8.81 0 0 1 3.36-6.76 1 1 0 1 1 1.28 1.52A6.9 6.9 0 0 0 3.5 11a6.9 6.9 0 0 0 2.64 5.24 1 1 0 0 1 .13 1.4 1 1 0 0 1-.77.36z"/><path d="M12 7a4.09 4.09 0 0 1 1 .14V3a1 1 0 0 0-2 0v4.14A4.09 4.09 0 0 1 12 7z"/><path d="M12 15a4.09 4.09 0 0 1-1-.14V20a1 1 0 0 0 2 0v-5.14a4.09 4.09 0 0 1-1 .14z"/><path d="M16 16a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A4.28 4.28 0 0 0 17 11a4.28 4.28 0 0 0-1.64-3.24 1 1 0 1 1 1.28-1.52A6.2 6.2 0 0 1 19 11a6.2 6.2 0 0 1-2.36 4.76A1 1 0 0 1 16 16z"/><path d="M8 16a1 1 0 0 1-.64-.24A6.2 6.2 0 0 1 5 11a6.2 6.2 0 0 1 2.36-4.76 1 1 0 1 1 1.28 1.52A4.28 4.28 0 0 0 7 11a4.28 4.28 0 0 0 1.64 3.24 1 1 0 0 1 .13 1.4A1 1 0 0 1 8 16z"/><path d="M18.5 18a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A6.9 6.9 0 0 0 20.5 11a6.9 6.9 0 0 0-2.64-5.24 1 1 0 1 1 1.28-1.52A8.81 8.81 0 0 1 22.5 11a8.81 8.81 0 0 1-3.36 6.76 1 1 0 0 1-.64.24z"/><path d="M12 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1zm0 0zm0 0zm0 0zm0 0zm0 0zm0 0z"/></g></g>',share:'<g data-name="Layer 2"><g data-name="share"><rect width="24" height="24" opacity="0"/><path d="M18 15a3 3 0 0 0-2.1.86L8 12.34V12v-.33l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3z"/></g></g>',"shield-off":'<g data-name="Layer 2"><g data-name="shield-off"><rect width="24" height="24" opacity="0"/><path d="M3.73 6.56A2 2 0 0 0 3 8.09v.14a15.17 15.17 0 0 0 7.72 13.2l.3.17a2 2 0 0 0 2 0l.3-.17a15.22 15.22 0 0 0 3-2.27z"/><path d="M18.84 16A15.08 15.08 0 0 0 21 8.23v-.14a2 2 0 0 0-1-1.75L13 2.4a2 2 0 0 0-2 0L7.32 4.49z"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',shield:'<g data-name="Layer 2"><g data-name="shield"><rect width="24" height="24" opacity="0"/><path d="M12 21.85a2 2 0 0 1-1-.25l-.3-.17A15.17 15.17 0 0 1 3 8.23v-.14a2 2 0 0 1 1-1.75l7-3.94a2 2 0 0 1 2 0l7 3.94a2 2 0 0 1 1 1.75v.14a15.17 15.17 0 0 1-7.72 13.2l-.3.17a2 2 0 0 1-.98.25z"/></g></g>',"shopping-bag":'<g data-name="Layer 2"><g data-name="shopping-bag"><rect width="24" height="24" opacity="0"/><path d="M20.12 6.71l-2.83-2.83A3 3 0 0 0 15.17 3H8.83a3 3 0 0 0-2.12.88L3.88 6.71A3 3 0 0 0 3 8.83V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8.83a3 3 0 0 0-.88-2.12zM12 16a4 4 0 0 1-4-4 1 1 0 0 1 2 0 2 2 0 0 0 4 0 1 1 0 0 1 2 0 4 4 0 0 1-4 4zM6.41 7l1.71-1.71A1.05 1.05 0 0 1 8.83 5h6.34a1.05 1.05 0 0 1 .71.29L17.59 7z"/></g></g>',"shopping-cart":'<g data-name="Layer 2"><g data-name="shopping-cart"><rect width="24" height="24" opacity="0"/><path d="M21.08 7a2 2 0 0 0-1.7-1H6.58L6 3.74A1 1 0 0 0 5 3H3a1 1 0 0 0 0 2h1.24L7 15.26A1 1 0 0 0 8 16h9a1 1 0 0 0 .89-.55l3.28-6.56A2 2 0 0 0 21.08 7z"/><circle cx="7.5" cy="19.5" r="1.5"/><circle cx="17.5" cy="19.5" r="1.5"/></g></g>',"shuffle-2":'<g data-name="Layer 2"><g data-name="shuffle-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.71 14.29a1 1 0 0 0-1.42 1.42l.29.29H16a4 4 0 0 1 0-8h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 10a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 7a1 1 0 0 0-.29-.71l-2-2a1 1 0 0 0-1.42 1.42l.29.29H16a6 6 0 0 0-5 2.69A6 6 0 0 0 6 6H4a1 1 0 0 0 0 2h2a4 4 0 0 1 0 8H4a1 1 0 0 0 0 2h2a6 6 0 0 0 5-2.69A6 6 0 0 0 16 18h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 20a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 17a1 1 0 0 0-.29-.71z"/></g></g>',shuffle:'<g data-name="Layer 2"><g data-name="shuffle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 9.31a1 1 0 0 0 1 1 1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-4.3a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1.89L12 10.59 6.16 4.76a1 1 0 0 0-1.41 1.41L10.58 12l-6.29 6.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42z"/><path d="M19 13.68a1 1 0 0 0-1 1v1.91l-2.78-2.79a1 1 0 0 0-1.42 1.42L16.57 18h-1.88a1 1 0 0 0 0 2H19a1 1 0 0 0 1-1.11v-4.21a1 1 0 0 0-1-1z"/></g></g>',"skip-back":'<g data-name="Layer 2"><g data-name="skip-back"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16.45 6.2a2.1 2.1 0 0 0-2.21.26l-5.1 4.21-.14.15V7a1 1 0 0 0-2 0v10a1 1 0 0 0 2 0v-3.82l.14.15 5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59z"/></g></g>',"skip-forward":'<g data-name="Layer 2"><g data-name="skip-forward"><rect width="24" height="24" opacity="0"/><path d="M16 6a1 1 0 0 0-1 1v3.82l-.14-.15-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21.14-.15V17a1 1 0 0 0 2 0V7a1 1 0 0 0-1-1z"/></g></g>',slash:'<g data-name="Layer 2"><g data-name="slash"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm8 10a7.92 7.92 0 0 1-1.69 4.9L7.1 5.69A7.92 7.92 0 0 1 12 4a8 8 0 0 1 8 8zM4 12a7.92 7.92 0 0 1 1.69-4.9L16.9 18.31A7.92 7.92 0 0 1 12 20a8 8 0 0 1-8-8z"/></g></g>',smartphone:'<g data-name="Layer 2"><g data-name="smartphone"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm-5 16a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 18zm2.5-10h-5a1 1 0 0 1 0-2h5a1 1 0 0 1 0 2z"/></g></g>',"smiling-face":'<defs><style/></defs><g id="Layer_2" data-name="Layer 2"><g id="smiling-face"><g id="smiling-face" data-name="smiling-face"><rect width="24" height="24" opacity="0"/><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm5 9a5 5 0 0 1-10 0z" id="&#x1F3A8;-Icon-&#x421;olor"/></g></g></g>',speaker:'<g data-name="Layer 2"><g data-name="speaker"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><circle cx="12" cy="15.5" r="1.5"/><circle cx="12" cy="8" r="1"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm-5 3a3 3 0 1 1-3 3 3 3 0 0 1 3-3zm0 14a3.5 3.5 0 1 1 3.5-3.5A3.5 3.5 0 0 1 12 19z"/></g></g>',square:'<g data-name="Layer 2"><g data-name="square"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/></g></g>',star:'<g data-name="Layer 2"><g data-name="star"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.56 21a1 1 0 0 1-.46-.11L12 18.22l-5.1 2.67a1 1 0 0 1-1.45-1.06l1-5.63-4.12-4a1 1 0 0 1-.25-1 1 1 0 0 1 .81-.68l5.7-.83 2.51-5.13a1 1 0 0 1 1.8 0l2.54 5.12 5.7.83a1 1 0 0 1 .81.68 1 1 0 0 1-.25 1l-4.12 4 1 5.63a1 1 0 0 1-.4 1 1 1 0 0 1-.62.18z"/></g></g>',"stop-circle":'<g data-name="Layer 2"><g data-name="stop-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 12.75A1.25 1.25 0 0 1 14.75 16h-5.5A1.25 1.25 0 0 1 8 14.75v-5.5A1.25 1.25 0 0 1 9.25 8h5.5A1.25 1.25 0 0 1 16 9.25z"/><rect x="10" y="10" width="4" height="4"/></g></g>',sun:'<g data-name="Layer 2"><g data-name="sun"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/><path d="M12 8a4 4 0 1 0 4 4 4 4 0 0 0-4-4z"/></g></g>',swap:'<g data-name="Layer 2"><g data-name="swap"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M4 9h13l-1.6 1.2a1 1 0 0 0-.2 1.4 1 1 0 0 0 .8.4 1 1 0 0 0 .6-.2l4-3a1 1 0 0 0 0-1.59l-3.86-3a1 1 0 0 0-1.23 1.58L17.08 7H4a1 1 0 0 0 0 2z"/><path d="M20 16H7l1.6-1.2a1 1 0 0 0-1.2-1.6l-4 3a1 1 0 0 0 0 1.59l3.86 3a1 1 0 0 0 .61.21 1 1 0 0 0 .79-.39 1 1 0 0 0-.17-1.4L6.92 18H20a1 1 0 0 0 0-2z"/></g></g>',sync:'<g data-name="Layer 2"><g data-name="sync"><rect width="24" height="24" opacity="0"/><path d="M21.66 10.37a.62.62 0 0 0 .07-.19l.75-4a1 1 0 0 0-2-.36l-.37 2a9.22 9.22 0 0 0-16.58.84 1 1 0 0 0 .55 1.3 1 1 0 0 0 1.31-.55A7.08 7.08 0 0 1 12.07 5a7.17 7.17 0 0 1 6.24 3.58l-1.65-.27a1 1 0 1 0-.32 2l4.25.71h.16a.93.93 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.08-.1a1.07 1.07 0 0 0 .14-.16.58.58 0 0 0 .05-.16z"/><path d="M19.88 14.07a1 1 0 0 0-1.31.56A7.08 7.08 0 0 1 11.93 19a7.17 7.17 0 0 1-6.24-3.58l1.65.27h.16a1 1 0 0 0 .16-2L3.41 13a.91.91 0 0 0-.33 0H3a1.15 1.15 0 0 0-.32.14 1 1 0 0 0-.18.18l-.09.1a.84.84 0 0 0-.07.19.44.44 0 0 0-.07.17l-.75 4a1 1 0 0 0 .8 1.22h.18a1 1 0 0 0 1-.82l.37-2a9.22 9.22 0 0 0 16.58-.83 1 1 0 0 0-.57-1.28z"/></g></g>',text:'<g data-name="Layer 2"><g data-name="text"><rect width="24" height="24" opacity="0"/><path d="M20 4H4a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0V6h6v13H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2h-2V6h6v2a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/></g></g>',"thermometer-minus":'<g data-name="Layer 2"><g data-name="thermometer-minus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4a1 1 0 0 0-1 1v4.54z"/></g></g>',"thermometer-plus":'<g data-name="Layer 2"><g data-name="thermometer-plus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1" transform="rotate(-90 5 6)"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4a1 1 0 0 0-1 1v4.54z"/></g></g>',thermometer:'<g data-name="Layer 2"><g data-name="thermometer"><rect width="24" height="24" opacity="0"/><path d="M12 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 12 4a1 1 0 0 0-1 1v4.54z"/></g></g>',"toggle-left":'<g data-name="Layer 2"><g data-name="toggle-left"><rect x=".02" y=".02" width="23.97" height="23.97" transform="rotate(179.92 12.002 11.998)" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zM9 15a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/><path d="M9 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></g></g>',"toggle-right":'<g data-name="Layer 2"><g data-name="toggle-right"><rect width="24" height="24" opacity="0"/><circle cx="15" cy="12" r="1"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 10a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"trash-2":'<g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0zm0-11.67c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM16 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0z"/></g></g>',trash:'<g data-name="Layer 2"><g data-name="trash"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4z"/></g></g>',"trending-down":'<g data-name="Layer 2"><g data-name="trending-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 12a1 1 0 0 0-2 0v2.3l-4.24-5a1 1 0 0 0-1.27-.21L9.22 11.7 4.77 6.36a1 1 0 1 0-1.54 1.28l5 6a1 1 0 0 0 1.28.22l4.28-2.57 4 4.71H15a1 1 0 0 0 0 2h5a1.1 1.1 0 0 0 .36-.07l.14-.08a1.19 1.19 0 0 0 .15-.09.75.75 0 0 0 .14-.17 1.1 1.1 0 0 0 .09-.14.64.64 0 0 0 .05-.17A.78.78 0 0 0 21 17z"/></g></g>',"trending-up":'<g data-name="Layer 2"><g data-name="trending-up"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 7a.78.78 0 0 0 0-.21.64.64 0 0 0-.05-.17 1.1 1.1 0 0 0-.09-.14.75.75 0 0 0-.14-.17l-.12-.07a.69.69 0 0 0-.19-.1h-.2A.7.7 0 0 0 20 6h-5a1 1 0 0 0 0 2h2.83l-4 4.71-4.32-2.57a1 1 0 0 0-1.28.22l-5 6a1 1 0 0 0 .13 1.41A1 1 0 0 0 4 18a1 1 0 0 0 .77-.36l4.45-5.34 4.27 2.56a1 1 0 0 0 1.27-.21L19 9.7V12a1 1 0 0 0 2 0V7z"/></g></g>',tv:'<g data-name="Layer 2"><g data-name="tv"><rect width="24" height="24" opacity="0"/><path d="M18 6h-3.59l2.3-2.29a1 1 0 1 0-1.42-1.42L12 5.59l-3.29-3.3a1 1 0 1 0-1.42 1.42L9.59 6H6a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/></g></g>',twitter:'<g data-name="Layer 2"><g data-name="twitter"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M8.08 20A11.07 11.07 0 0 0 19.52 9 8.09 8.09 0 0 0 21 6.16a.44.44 0 0 0-.62-.51 1.88 1.88 0 0 1-2.16-.38 3.89 3.89 0 0 0-5.58-.17A4.13 4.13 0 0 0 11.49 9C8.14 9.2 5.84 7.61 4 5.43a.43.43 0 0 0-.75.24 9.68 9.68 0 0 0 4.6 10.05A6.73 6.73 0 0 1 3.38 18a.45.45 0 0 0-.14.84A11 11 0 0 0 8.08 20"/></g></g>',umbrella:'<g data-name="Layer 2"><g data-name="umbrella"><rect width="24" height="24" opacity="0"/><path d="M12 2A10 10 0 0 0 2 12a1 1 0 0 0 1 1h8v6a3 3 0 0 0 6 0 1 1 0 0 0-2 0 1 1 0 0 1-2 0v-6h8a1 1 0 0 0 1-1A10 10 0 0 0 12 2z"/></g></g>',undo:'<g data-name="Layer 2"><g data-name="undo"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M20.22 21a1 1 0 0 1-1-.76 8.91 8.91 0 0 0-7.8-6.69v1.12a1.78 1.78 0 0 1-1.09 1.64A2 2 0 0 1 8.18 16l-5.06-4.41a1.76 1.76 0 0 1 0-2.68l5.06-4.42a2 2 0 0 1 2.18-.3 1.78 1.78 0 0 1 1.09 1.64V7A10.89 10.89 0 0 1 21.5 17.75a10.29 10.29 0 0 1-.31 2.49 1 1 0 0 1-1 .76z"/></g></g>',unlock:'<g data-name="Layer 2"><g data-name="unlock"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="15" r="1"/><path d="M17 8h-7V6a2 2 0 0 1 4 0 1 1 0 0 0 2 0 4 4 0 0 0-8 0v2H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-5 10a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',upload:'<g data-name="Layer 2"><g data-name="upload"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="4" y="4" width="16" height="2" rx="1" ry="1" transform="rotate(180 12 5)"/><rect x="17" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 19 6)"/><rect x="3" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 5 6)"/><path d="M8 14a1 1 0 0 1-.8-.4 1 1 0 0 1 .2-1.4l4-3a1 1 0 0 1 1.18 0l4 2.82a1 1 0 0 1 .24 1.39 1 1 0 0 1-1.4.24L12 11.24 8.6 13.8a1 1 0 0 1-.6.2z"/><path d="M12 21a1 1 0 0 1-1-1v-8a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"video-off":'<g data-name="Layer 2"><g data-name="video-off"><rect width="24" height="24" opacity="0"/><path d="M14.22 17.05L4.88 7.71 3.12 6 3 5.8A3 3 0 0 0 2 8v8a3 3 0 0 0 3 3h9a2.94 2.94 0 0 0 1.66-.51z"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H7.83l1.29 1.29 6.59 6.59 2 2 2 2a1.73 1.73 0 0 0 .6.11 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63a1.6 1.6 0 0 0-1-1.48z"/><path d="M17 15.59l-2-2L8.41 7l-2-2-1.7-1.71a1 1 0 0 0-1.42 1.42l.54.53L5.59 7l9.34 9.34 1.46 1.46 2.9 2.91a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',video:'<g data-name="Layer 2"><g data-name="video"><rect width="24" height="24" opacity="0"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h9a3 3 0 0 0 3-3v-1.45l2.16 2a1.74 1.74 0 0 0 1.16.45 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15z"/></g></g>',"volume-down":'<g data-name="Layer 2"><g data-name="volume-down"><rect width="24" height="24" opacity="0"/><path d="M20.78 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 20 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M16.47 3.12a1 1 0 0 0-1 0L9 7.57H4a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 16 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88z"/></g></g>',"volume-mute":'<g data-name="Layer 2"><g data-name="volume-mute"><rect width="24" height="24" opacity="0"/><path d="M17 21a1.06 1.06 0 0 1-.57-.17L10 16.43H5a1 1 0 0 1-1-1V8.57a1 1 0 0 1 1-1h5l6.41-4.4A1 1 0 0 1 18 4v16a1 1 0 0 1-1 1z"/></g></g>',"volume-off":'<g data-name="Layer 2"><g data-name="volume-off"><rect width="24" height="24" opacity="0"/><path d="M16.91 14.08l1.44 1.44a6 6 0 0 0-.07-7.15 1 1 0 1 0-1.56 1.26 4 4 0 0 1 .19 4.45z"/><path d="M21 12a6.51 6.51 0 0 1-1.78 4.39l1.42 1.42A8.53 8.53 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77 1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12z"/><path d="M15 12.17V4a1 1 0 0 0-1.57-.83L9 6.2z"/><path d="M4.74 7.57H2a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 14 21a1 1 0 0 0 1-1v-2.17z"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"volume-up":'<g data-name="Layer 2"><g data-name="volume-up"><rect width="24" height="24" opacity="0"/><path d="M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"/><path d="M14.47 3.12a1 1 0 0 0-1 0L7 7.57H2a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 14 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88z"/></g></g>',"wifi-off":'<g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"/><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"/><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"/><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"/><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"/></g></g>',wifi:'<g data-name="Layer 2"><g data-name="wifi"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12 14a5 5 0 0 0-3.47 1.4 1 1 0 1 0 1.39 1.44 3.08 3.08 0 0 1 4.16 0 1 1 0 1 0 1.39-1.44A5 5 0 0 0 12 14z"/><path d="M12 9a9 9 0 0 0-6.47 2.75A1 1 0 0 0 7 13.14a7 7 0 0 1 10.08 0 1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9z"/><path d="M21.72 7.93a14 14 0 0 0-19.44 0 1 1 0 0 0 1.38 1.44 12 12 0 0 1 16.68 0 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.41z"/></g></g>',"activity-outline":'<g data-name="Layer 2"><g data-name="activity"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M14.33 20h-.21a2 2 0 0 1-1.76-1.58L9.68 6l-2.76 6.4A1 1 0 0 1 6 13H3a1 1 0 0 1 0-2h2.34l2.51-5.79a2 2 0 0 1 3.79.38L14.32 18l2.76-6.38A1 1 0 0 1 18 11h3a1 1 0 0 1 0 2h-2.34l-2.51 5.79A2 2 0 0 1 14.33 20z"/></g></g>',"alert-circle-outline":'<g data-name="Layer 2"><g data-name="alert-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><circle cx="12" cy="16" r="1"/><path d="M12 7a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0V8a1 1 0 0 0-1-1z"/></g></g>',"alert-triangle-outline":'<g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zm-1.7 2.05a1.31 1.31 0 0 1-1.19.65H4.33a1.31 1.31 0 0 1-1.19-.65 1 1 0 0 1 0-1l7.68-12.73a1.48 1.48 0 0 1 2.36 0l7.67 12.72a1 1 0 0 1 .01 1.01z"/><circle cx="12" cy="16" r="1"/><path d="M12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"archive-outline":'<g data-name="Layer 2"><g data-name="archive"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M21 6a3 3 0 0 0-3-3H6a3 3 0 0 0-2 5.22V18a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8.22A3 3 0 0 0 21 6zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm12 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h12z"/><rect x="9" y="12" width="6" height="2" rx=".87" ry=".87"/></g></g>',"arrow-back-outline":'<g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g>',"arrow-circle-down-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-down"><rect width="24" height="24" opacity="0"/><path d="M14.31 12.41L13 13.66V8a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 .33.21.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1.49.49 0 0 0 .15-.1l3-2.86a1 1 0 0 0-1.38-1.45z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-left-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-left"><rect width="24" height="24" opacity="0"/><path d="M16 11h-5.66l1.25-1.31a1 1 0 0 0-1.45-1.38l-2.86 3a1 1 0 0 0-.09.13.72.72 0 0 0-.11.19.88.88 0 0 0-.06.28L7 12a1 1 0 0 0 .08.38 1 1 0 0 0 .21.32l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L10.41 13H16a1 1 0 0 0 0-2z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-right-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 12v-.09a.88.88 0 0 0-.06-.28.72.72 0 0 0-.11-.19 1 1 0 0 0-.09-.13l-2.86-3a1 1 0 0 0-1.45 1.38L13.66 11H8a1 1 0 0 0 0 2h5.59l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 .21-.32A1 1 0 0 0 17 12z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-up-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-up"><rect width="24" height="24" opacity="0"/><path d="M12.71 7.29a1 1 0 0 0-.32-.21A1 1 0 0 0 12 7h-.1a.82.82 0 0 0-.27.06.72.72 0 0 0-.19.11 1 1 0 0 0-.13.09l-3 2.86a1 1 0 0 0 1.38 1.45L11 10.34V16a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-down-outline":'<g data-name="Layer 2"><g data-name="arrow-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17zm-3.91-7L12 14.82 16 10z"/></g></g>',"arrow-downward-outline":'<g data-name="Layer 2"><g data-name="arrow-downward"><rect width="24" height="24" opacity="0"/><path d="M18.77 13.36a1 1 0 0 0-1.41-.13L13 16.86V5a1 1 0 0 0-2 0v11.86l-4.36-3.63a1 1 0 1 0-1.28 1.54l6 5 .15.09.13.07a1 1 0 0 0 .72 0l.13-.07.15-.09 6-5a1 1 0 0 0 .13-1.41z"/></g></g>',"arrow-forward-outline":'<g data-name="Layer 2"><g data-name="arrow-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 13h11.86l-3.63 4.36a1 1 0 0 0 1.54 1.28l5-6a1.19 1.19 0 0 0 .09-.15c0-.05.05-.08.07-.13A1 1 0 0 0 20 12a1 1 0 0 0-.07-.36c0-.05-.05-.08-.07-.13a1.19 1.19 0 0 0-.09-.15l-5-6A1 1 0 0 0 14 5a1 1 0 0 0-.64.23 1 1 0 0 0-.13 1.41L16.86 11H5a1 1 0 0 0 0 2z"/></g></g>',"arrow-ios-back-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.83 19a1 1 0 0 1-.78-.37l-4.83-6a1 1 0 0 1 0-1.27l5-6a1 1 0 0 1 1.54 1.28L10.29 12l4.32 5.36a1 1 0 0 1-.78 1.64z"/></g></g>',"arrow-ios-downward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-downward"><rect width="24" height="24" opacity="0"/><path d="M12 16a1 1 0 0 1-.64-.23l-6-5a1 1 0 1 1 1.28-1.54L12 13.71l5.36-4.32a1 1 0 0 1 1.41.15 1 1 0 0 1-.14 1.46l-6 4.83A1 1 0 0 1 12 16z"/></g></g>',"arrow-ios-forward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10 19a1 1 0 0 1-.64-.23 1 1 0 0 1-.13-1.41L13.71 12 9.39 6.63a1 1 0 0 1 .15-1.41 1 1 0 0 1 1.46.15l4.83 6a1 1 0 0 1 0 1.27l-5 6A1 1 0 0 1 10 19z"/></g></g>',"arrow-ios-upward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 15a1 1 0 0 1-.64-.23L12 10.29l-5.37 4.32a1 1 0 0 1-1.41-.15 1 1 0 0 1 .15-1.41l6-4.83a1 1 0 0 1 1.27 0l6 5a1 1 0 0 1 .13 1.41A1 1 0 0 1 18 15z"/></g></g>',"arrow-left-outline":'<g data-name="Layer 2"><g data-name="arrow-left"><rect width="24" height="24" opacity="0"/><path d="M13.54 18a2.06 2.06 0 0 1-1.3-.46l-5.1-4.21a1.7 1.7 0 0 1 0-2.66l5.1-4.21a2.1 2.1 0 0 1 2.21-.26 1.76 1.76 0 0 1 1.05 1.59v8.42a1.76 1.76 0 0 1-1.05 1.59 2.23 2.23 0 0 1-.91.2zm-4.86-6l4.82 4V8.09z"/></g></g>',"arrow-right-outline":'<g data-name="Layer 2"><g data-name="arrow-right"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M10.46 18a2.23 2.23 0 0 1-.91-.2 1.76 1.76 0 0 1-1.05-1.59V7.79A1.76 1.76 0 0 1 9.55 6.2a2.1 2.1 0 0 1 2.21.26l5.1 4.21a1.7 1.7 0 0 1 0 2.66l-5.1 4.21a2.06 2.06 0 0 1-1.3.46zm0-10v7.9l4.86-3.9z"/></g></g>',"arrow-up-outline":'<g data-name="Layer 2"><g data-name="arrow-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16.21 16H7.79a1.76 1.76 0 0 1-1.59-1 2.1 2.1 0 0 1 .26-2.21l4.21-5.1a1.76 1.76 0 0 1 2.66 0l4.21 5.1A2.1 2.1 0 0 1 17.8 15a1.76 1.76 0 0 1-1.59 1zM8 14h7.9L12 9.18z"/></g></g>',"arrow-upward-outline":'<g data-name="Layer 2"><g data-name="arrow-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M5.23 10.64a1 1 0 0 0 1.41.13L11 7.14V19a1 1 0 0 0 2 0V7.14l4.36 3.63a1 1 0 1 0 1.28-1.54l-6-5-.15-.09-.13-.07a1 1 0 0 0-.72 0l-.13.07-.15.09-6 5a1 1 0 0 0-.13 1.41z"/></g></g>',"arrowhead-down-outline":'<g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/><path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/><path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/></g></g>',"arrowhead-left-outline":'<g data-name="Layer 2"><g data-name="arrowhead-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M11.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L7.29 12l4.48-5.37a1 1 0 0 0-.13-1.4z"/><path d="M14.29 12l4.48-5.37a1 1 0 0 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/></g></g>',"arrowhead-right-outline":'<g data-name="Layer 2"><g data-name="arrowhead-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M18.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L16.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 13 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M7 5.37a1 1 0 0 0-1.61 1.26L9.71 12l-4.48 5.36a1 1 0 0 0 .13 1.41A1 1 0 0 0 6 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 0-1.27z"/></g></g>',"arrowhead-up-outline":'<g data-name="Layer 2"><g data-name="arrowhead-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.63 11.61L12 7.29l5.37 4.48A1 1 0 0 0 18 12a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41l-6-5a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.14z"/><path d="M12.64 12.23a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.15L12 14.29l5.37 4.48A1 1 0 0 0 18 19a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41z"/></g></g>',"at-outline":'<g data-name="Layer 2"><g data-name="at"><rect width="24" height="24" opacity="0"/><path d="M13 2a10 10 0 0 0-5 19.1 10.15 10.15 0 0 0 4 .9 10 10 0 0 0 6.08-2.06 1 1 0 0 0 .19-1.4 1 1 0 0 0-1.41-.19A8 8 0 1 1 12.77 4 8.17 8.17 0 0 1 20 12.22v.68a1.71 1.71 0 0 1-1.78 1.7 1.82 1.82 0 0 1-1.62-1.88V8.4a1 1 0 0 0-1-1 1 1 0 0 0-1 .87 5 5 0 0 0-3.44-1.36A5.09 5.09 0 1 0 15.31 15a3.6 3.6 0 0 0 5.55.61A3.67 3.67 0 0 0 22 12.9v-.68A10.2 10.2 0 0 0 13 2zm-1.82 13.09A3.09 3.09 0 1 1 14.27 12a3.1 3.1 0 0 1-3.09 3.09z"/></g></g>',"attach-2-outline":'<g data-name="Layer 2"><g data-name="attach-2"><rect width="24" height="24" opacity="0"/><path d="M12 22a5.86 5.86 0 0 1-6-5.7V6.13A4.24 4.24 0 0 1 10.33 2a4.24 4.24 0 0 1 4.34 4.13v10.18a2.67 2.67 0 0 1-5.33 0V6.92a1 1 0 0 1 1-1 1 1 0 0 1 1 1v9.39a.67.67 0 0 0 1.33 0V6.13A2.25 2.25 0 0 0 10.33 4 2.25 2.25 0 0 0 8 6.13V16.3a3.86 3.86 0 0 0 4 3.7 3.86 3.86 0 0 0 4-3.7V6.13a1 1 0 1 1 2 0V16.3a5.86 5.86 0 0 1-6 5.7z"/></g></g>',"attach-outline":'<g data-name="Layer 2"><g data-name="attach"><rect width="24" height="24" opacity="0"/><path d="M9.29 21a6.23 6.23 0 0 1-4.43-1.88 6 6 0 0 1-.22-8.49L12 3.2A4.11 4.11 0 0 1 15 2a4.48 4.48 0 0 1 3.19 1.35 4.36 4.36 0 0 1 .15 6.13l-7.4 7.43a2.54 2.54 0 0 1-1.81.75 2.72 2.72 0 0 1-1.95-.82 2.68 2.68 0 0 1-.08-3.77l6.83-6.86a1 1 0 0 1 1.37 1.41l-6.83 6.86a.68.68 0 0 0 .08.95.78.78 0 0 0 .53.23.56.56 0 0 0 .4-.16l7.39-7.43a2.36 2.36 0 0 0-.15-3.31 2.38 2.38 0 0 0-3.27-.15L6.06 12a4 4 0 0 0 .22 5.67 4.22 4.22 0 0 0 3 1.29 3.67 3.67 0 0 0 2.61-1.06l7.39-7.43a1 1 0 1 1 1.42 1.41l-7.39 7.43A5.65 5.65 0 0 1 9.29 21z"/></g></g>',"award-outline":'<g data-name="Layer 2"><g data-name="award"><rect width="24" height="24" opacity="0"/><path d="M19 20.75l-2.31-9A5.94 5.94 0 0 0 18 8 6 6 0 0 0 6 8a5.94 5.94 0 0 0 1.34 3.77L5 20.75a1 1 0 0 0 1.48 1.11l5.33-3.13 5.68 3.14A.91.91 0 0 0 18 22a1 1 0 0 0 1-1.25zM12 4a4 4 0 1 1-4 4 4 4 0 0 1 4-4zm.31 12.71a1 1 0 0 0-1 0l-3.75 2.2L9 13.21a5.94 5.94 0 0 0 5.92 0L16.45 19z"/></g></g>',"backspace-outline":'<g data-name="Layer 2"><g data-name="backspace"><rect width="24" height="24" opacity="0"/><path d="M20.14 4h-9.77a3 3 0 0 0-2 .78l-.1.11-6 7.48a1 1 0 0 0 .11 1.37l6 5.48a3 3 0 0 0 2 .78h9.77A1.84 1.84 0 0 0 22 18.18V5.82A1.84 1.84 0 0 0 20.14 4zM20 18h-9.63a1 1 0 0 1-.67-.26l-5.33-4.85 5.38-6.67a1 1 0 0 1 .62-.22H20z"/><path d="M11.29 14.71a1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L15.41 12l1.3-1.29a1 1 0 0 0-1.42-1.42L14 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42z"/></g></g>',"bar-chart-2-outline":'<g data-name="Layer 2"><g data-name="bar-chart-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M19 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M5 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/></g></g>',"bar-chart-outline":'<g data-name="Layer 2"><g data-name="bar-chart"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M19 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/><path d="M5 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"battery-outline":'<g data-name="Layer 2"><g data-name="battery"><rect width="24" height="24" opacity="0"/><path d="M15.83 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h11.66A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6zm.17 9.57a.52.52 0 0 1-.17.43H4.18a.5.5 0 0 1-.18-.43V8.43A.53.53 0 0 1 4.17 8h11.65a.5.5 0 0 1 .18.43z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',"behance-outline":'<g data-name="Layer 2"><g data-name="behance"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M10.52 11.78a1.4 1.4 0 0 0 1.12-1.43c0-1-.77-1.6-1.94-1.6H7v6.5h2.7c1.3-.05 2.3-.72 2.3-1.88a1.52 1.52 0 0 0-1.48-1.59zM8.26 9.67h1.15c.6 0 .95.32.95.85s-.38.89-1.25.89h-.85zm1 4.57h-1V12.3h1.23c.75 0 1.17.38 1.17 1s-.42.94-1.44.94z"/><path d="M14.75 10.3a2.11 2.11 0 0 0-2.28 2.25V13a2.15 2.15 0 0 0 2.34 2.31A2 2 0 0 0 17 13.75h-1.21a.9.9 0 0 1-1 .63 1.07 1.07 0 0 1-1.09-1.19v-.14H17v-.47a2.12 2.12 0 0 0-2.25-2.28zm1 2h-2.02a1 1 0 0 1 1-1.09 1 1 0 0 1 1 1.09z"/><rect x="13.25" y="9.2" width="3" height=".5"/></g></g>',"bell-off-outline":'<g data-name="Layer 2"><g data-name="bell-off"><rect width="24" height="24" opacity="0"/><path d="M8.9 5.17A4.67 4.67 0 0 1 12.64 4a4.86 4.86 0 0 1 4.08 4.9v4.5a1.92 1.92 0 0 0 .1.59l3.6 3.6a1.58 1.58 0 0 0 .45-.6 1.62 1.62 0 0 0-.35-1.78l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.71 6.71 0 0 0-5.32 1.61 6.88 6.88 0 0 0-.58.54l1.47 1.43a4.79 4.79 0 0 1 .43-.47z"/><path d="M14 16.86l-.83-.86H5.51l1.18-1.18a2 2 0 0 0 .59-1.42v-3.29l-2-2a5.68 5.68 0 0 0 0 .59v4.7l-1.8 1.81A1.63 1.63 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.88 3.88 0 0 0 4-3.22l-.83-.78zM12 20a1.88 1.88 0 0 1-2-1.66V18h4v.34A1.88 1.88 0 0 1 12 20z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"bell-outline":'<g data-name="Layer 2"><g data-name="bell"><rect width="24" height="24" opacity="0"/><path d="M20.52 15.21l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.74 6.74 0 0 0-7.62 6.67v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.84 3.84 0 0 0 4-3.66V18h3.36a1.64 1.64 0 0 0 1.16-2.79zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4zM5.51 16l1.18-1.18a2 2 0 0 0 .59-1.42V8.73A4.73 4.73 0 0 1 8.9 5.17 4.67 4.67 0 0 1 12.64 4a4.86 4.86 0 0 1 4.08 4.9v4.5a2 2 0 0 0 .58 1.42L18.49 16z"/></g></g>',"bluetooth-outline":'<g data-name="Layer 2"><g data-name="bluetooth"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.63 12l4-3.79a1.14 1.14 0 0 0-.13-1.77l-4.67-3.23a1.17 1.17 0 0 0-1.21-.08 1.15 1.15 0 0 0-.62 1v6.2l-3.19-4a1 1 0 0 0-1.56 1.3L9.72 12l-3.5 4.43a1 1 0 0 0 .16 1.4A1 1 0 0 0 7 18a1 1 0 0 0 .78-.38L11 13.56v6.29A1.16 1.16 0 0 0 12.16 21a1.16 1.16 0 0 0 .67-.21l4.64-3.18a1.17 1.17 0 0 0 .49-.85 1.15 1.15 0 0 0-.34-.91zM13 5.76l2.5 1.73L13 9.85zm0 12.49v-4.07l2.47 2.38z"/></g></g>',"book-open-outline":'<g data-name="Layer 2"><g data-name="book-open"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.62 4.22a1 1 0 0 0-.84-.2L12 5.77 4.22 4A1 1 0 0 0 3 5v12.2a1 1 0 0 0 .78 1l8 1.8h.44l8-1.8a1 1 0 0 0 .78-1V5a1 1 0 0 0-.38-.78zM5 6.25l6 1.35v10.15L5 16.4zM19 16.4l-6 1.35V7.6l6-1.35z"/></g></g>',"book-outline":'<g data-name="Layer 2"><g data-name="book"><rect width="24" height="24" opacity="0"/><path d="M19 3H7a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM7 5h11v10H7a3 3 0 0 0-1 .18V6a1 1 0 0 1 1-1zm0 14a1 1 0 0 1 0-2h11v2z"/></g></g>',"bookmark-outline":'<g data-name="Layer 2"><g data-name="bookmark"><rect width="24" height="24" opacity="0"/><path d="M6.09 21.06a1 1 0 0 1-1-1L4.94 5.4a2.26 2.26 0 0 1 2.18-2.35L16.71 3a2.27 2.27 0 0 1 2.23 2.31l.14 14.66a1 1 0 0 1-.49.87 1 1 0 0 1-1 0l-5.7-3.16-5.29 3.23a1.2 1.2 0 0 1-.51.15zm5.76-5.55a1.11 1.11 0 0 1 .5.12l4.71 2.61-.12-12.95c0-.2-.13-.34-.21-.33l-9.6.09c-.08 0-.19.13-.19.33l.12 12.9 4.28-2.63a1.06 1.06 0 0 1 .51-.14z"/></g></g>',"briefcase-outline":'<g data-name="Layer 2"><g data-name="briefcase"><rect width="24" height="24" opacity="0"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-4 2v10H9V9zm-5-3.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zM4 18v-8a1 1 0 0 1 1-1h2v10H5a1 1 0 0 1-1-1zm16 0a1 1 0 0 1-1 1h-2V9h2a1 1 0 0 1 1 1z"/></g></g>',"browser-outline":'<g data-name="Layer 2"><g data-name="browser"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7h14zM5 9V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3z"/><circle cx="8" cy="7.03" r="1"/><circle cx="12" cy="7.03" r="1"/></g></g>',"brush-outline":'<g data-name="Layer 2"><g data-name="brush"><rect width="24" height="24" opacity="0"/><path d="M20 6.83a2.76 2.76 0 0 0-.82-2 2.89 2.89 0 0 0-4 0l-6.6 6.6h-.22a4.42 4.42 0 0 0-4.3 4.31L4 19a1 1 0 0 0 .29.73A1.05 1.05 0 0 0 5 20l3.26-.06a4.42 4.42 0 0 0 4.31-4.3v-.23l6.61-6.6A2.74 2.74 0 0 0 20 6.83zM8.25 17.94L6 18v-2.23a2.4 2.4 0 0 1 2.4-2.36 2.15 2.15 0 0 1 2.15 2.19 2.4 2.4 0 0 1-2.3 2.34zm9.52-10.55l-5.87 5.87a4.55 4.55 0 0 0-.52-.64 3.94 3.94 0 0 0-.64-.52l5.87-5.86a.84.84 0 0 1 1.16 0 .81.81 0 0 1 .23.59.79.79 0 0 1-.23.56z"/></g></g>',"bulb-outline":'<g data-name="Layer 2"><g data-name="bulb"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 7a5 5 0 0 0-3 9v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a5 5 0 0 0-3-9zm1.5 7.59a1 1 0 0 0-.5.87V20h-2v-4.54a1 1 0 0 0-.5-.87A3 3 0 0 1 9 12a3 3 0 0 1 6 0 3 3 0 0 1-1.5 2.59z"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M5 11H3a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M7.66 6.42L6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.06-1.41z"/><path d="M19.19 5.05a1 1 0 0 0-1.41 0l-1.44 1.37a1 1 0 0 0 0 1.41 1 1 0 0 0 .72.31 1 1 0 0 0 .69-.28l1.44-1.39a1 1 0 0 0 0-1.42z"/></g></g>',"calendar-outline":'<g data-name="Layer 2"><g data-name="calendar"><rect width="24" height="24" opacity="0"/><path d="M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z"/><circle cx="8" cy="16" r="1"/><path d="M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"camera-outline":'<g data-name="Layer 2"><g data-name="camera"><rect width="24" height="24" opacity="0"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-9-1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zM20 18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/><path d="M12 10.5a3.5 3.5 0 1 0 3.5 3.5 3.5 3.5 0 0 0-3.5-3.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"/></g></g>',"car-outline":'<g data-name="Layer 2"><g data-name="car"><rect width="24" height="24" opacity="0"/><path d="M21.6 11.22L17 7.52V5a1.91 1.91 0 0 0-1.81-2H3.79A1.91 1.91 0 0 0 2 5v10a2 2 0 0 0 1.2 1.88 3 3 0 1 0 5.6.12h6.36a3 3 0 1 0 5.64 0h.2a1 1 0 0 0 1-1v-4a1 1 0 0 0-.4-.78zM20 12.48V15h-3v-4.92zM7 18a1 1 0 1 1-1-1 1 1 0 0 1 1 1zm5-3H4V5h11v10zm7 3a1 1 0 1 1-1-1 1 1 0 0 1 1 1z"/></g></g>',"cast-outline":'<g data-name="Layer 2"><g data-name="cast"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M18.4 3H5.6A2.7 2.7 0 0 0 3 5.78V7a1 1 0 0 0 2 0V5.78A.72.72 0 0 1 5.6 5h12.8a.72.72 0 0 1 .6.78v12.44a.72.72 0 0 1-.6.78H17a1 1 0 0 0 0 2h1.4a2.7 2.7 0 0 0 2.6-2.78V5.78A2.7 2.7 0 0 0 18.4 3z"/><path d="M3.86 14A1 1 0 0 0 3 15.17a1 1 0 0 0 1.14.83 2.49 2.49 0 0 1 2.12.72 2.52 2.52 0 0 1 .51 2.84 1 1 0 0 0 .48 1.33 1.06 1.06 0 0 0 .42.09 1 1 0 0 0 .91-.58A4.52 4.52 0 0 0 3.86 14z"/><path d="M3.86 10.08a1 1 0 0 0 .28 2 6 6 0 0 1 5.09 1.71 6 6 0 0 1 1.53 5.95 1 1 0 0 0 .68 1.26.9.9 0 0 0 .28 0 1 1 0 0 0 1-.72 8 8 0 0 0-8.82-10.2z"/><circle cx="4" cy="19" r="1"/></g></g>',"charging-outline":'<g data-name="Layer 2"><g data-name="charging"><rect width="24" height="24" opacity="0"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/><path d="M15.83 6h-3.1l-1.14 2h4.23a.5.5 0 0 1 .18.43v7.14a.52.52 0 0 1-.17.43H13l-1.15 2h4A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M4 15.57V8.43A.53.53 0 0 1 4.17 8H7l1.13-2h-4A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h3.1l1.14-2H4.18a.5.5 0 0 1-.18-.43z"/><path d="M9 20a1 1 0 0 1-.87-1.5l3.15-5.5H7a1 1 0 0 1-.86-.5 1 1 0 0 1 0-1l4-7a1 1 0 0 1 1.74 1L8.72 11H13a1 1 0 0 1 .86.5 1 1 0 0 1 0 1l-4 7A1 1 0 0 1 9 20z"/></g></g>',"checkmark-circle-2-outline":'<g data-name="Layer 2"><g data-name="checkmark-circle-2"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.7 8.39l-3.78 5-1.63-2.11a1 1 0 0 0-1.58 1.23l2.43 3.11a1 1 0 0 0 .79.38 1 1 0 0 0 .79-.39l4.57-6a1 1 0 1 0-1.6-1.22z"/></g></g>',"checkmark-circle-outline":'<g data-name="Layer 2"><g data-name="checkmark-circle"><rect width="24" height="24" opacity="0"/><path d="M9.71 11.29a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .72-.34l7-8a1 1 0 0 0-1.5-1.32L12 13.54z"/><path d="M21 11a1 1 0 0 0-1 1 8 8 0 0 1-8 8A8 8 0 0 1 6.33 6.36 7.93 7.93 0 0 1 12 4a8.79 8.79 0 0 1 1.9.22 1 1 0 1 0 .47-1.94A10.54 10.54 0 0 0 12 2a10 10 0 0 0-7 17.09A9.93 9.93 0 0 0 12 22a10 10 0 0 0 10-10 1 1 0 0 0-1-1z"/></g></g>',"checkmark-outline":'<g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g>',"checkmark-square-2-outline":'<g data-name="Layer 2"><g data-name="checkmark-square-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M14.7 8.39l-3.78 5-1.63-2.11a1 1 0 0 0-1.58 1.23l2.43 3.11a1 1 0 0 0 .79.38 1 1 0 0 0 .79-.39l4.57-6a1 1 0 1 0-1.6-1.22z"/></g></g>',"checkmark-square-outline":'<g data-name="Layer 2"><g data-name="checkmark-square"><rect width="24" height="24" opacity="0"/><path d="M20 11.83a1 1 0 0 0-1 1v5.57a.6.6 0 0 1-.6.6H5.6a.6.6 0 0 1-.6-.6V5.6a.6.6 0 0 1 .6-.6h9.57a1 1 0 1 0 0-2H5.6A2.61 2.61 0 0 0 3 5.6v12.8A2.61 2.61 0 0 0 5.6 21h12.8a2.61 2.61 0 0 0 2.6-2.6v-5.57a1 1 0 0 0-1-1z"/><path d="M10.72 11a1 1 0 0 0-1.44 1.38l2.22 2.33a1 1 0 0 0 .72.31 1 1 0 0 0 .72-.3l6.78-7a1 1 0 1 0-1.44-1.4l-6.05 6.26z"/></g></g>',"chevron-down-outline":'<g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g>',"chevron-left-outline":'<g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g>',"chevron-right-outline":'<g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g>',"chevron-up-outline":'<g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g>',"clipboard-outline":'<g data-name="Layer 2"><g data-name="clipboard"><rect width="24" height="24" opacity="0"/><path d="M18 5V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v1a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zM8 4h8v4H8V4zm11 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a1 1 0 0 1 1 1z"/></g></g>',"clock-outline":'<g data-name="Layer 2"><g data-name="clock"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M16 11h-3V8a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1h4a1 1 0 0 0 0-2z"/></g></g>',"close-circle-outline":'<g data-name="Layer 2"><g data-name="close-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.71 9.29a1 1 0 0 0-1.42 0L12 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12l1.3-1.29a1 1 0 0 0 0-1.42z"/></g></g>',"close-outline":'<g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"close-square-outline":'<g data-name="Layer 2"><g data-name="close-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M14.71 9.29a1 1 0 0 0-1.42 0L12 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12l1.3-1.29a1 1 0 0 0 0-1.42z"/></g></g>',"cloud-download-outline":'<g data-name="Layer 2"><g data-name="cloud-download"><rect width="24" height="24" opacity="0"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/><path d="M17.67 7A6 6 0 0 0 6.33 7a5 5 0 0 0-3.08 8.27A1 1 0 1 0 4.75 14 3 3 0 0 1 7 9h.1a1 1 0 0 0 1-.8 4 4 0 0 1 7.84 0 1 1 0 0 0 1 .8H17a3 3 0 0 1 2.25 5 1 1 0 0 0 .09 1.42 1 1 0 0 0 .66.25 1 1 0 0 0 .75-.34A5 5 0 0 0 17.67 7z"/></g></g>',"cloud-upload-outline":'<g data-name="Layer 2"><g data-name="cloud-upload"><rect width="24" height="24" opacity="0"/><path d="M12.71 11.29a1 1 0 0 0-1.4 0l-3 2.9a1 1 0 1 0 1.38 1.44L11 14.36V20a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M17.67 7A6 6 0 0 0 6.33 7a5 5 0 0 0-3.08 8.27A1 1 0 1 0 4.75 14 3 3 0 0 1 7 9h.1a1 1 0 0 0 1-.8 4 4 0 0 1 7.84 0 1 1 0 0 0 1 .8H17a3 3 0 0 1 2.25 5 1 1 0 0 0 .09 1.42 1 1 0 0 0 .66.25 1 1 0 0 0 .75-.34A5 5 0 0 0 17.67 7z"/></g></g>',"code-download-outline":'<g data-name="Layer 2"><g data-name="code-download"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M4.29 12l4.48-5.36a1 1 0 1 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.56 1.26L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M15.72 11.41a1 1 0 0 0-1.41 0L13 12.64V8a1 1 0 0 0-2 0v4.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .69-.28l3-2.9a1 1 0 0 0 .03-1.41z"/></g></g>',"code-outline":'<g data-name="Layer 2"><g data-name="code"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M8.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L4.29 12l4.48-5.36a1 1 0 0 0-.13-1.41z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/></g></g>',"collapse-outline":'<g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g>',"color-palette-outline":'<g data-name="Layer 2"><g data-name="color-palette"><rect width="24" height="24" opacity="0"/><path d="M19.54 5.08A10.61 10.61 0 0 0 11.91 2a10 10 0 0 0-.05 20 2.58 2.58 0 0 0 2.53-1.89 2.52 2.52 0 0 0-.57-2.28.5.5 0 0 1 .37-.83h1.65A6.15 6.15 0 0 0 22 11.33a8.48 8.48 0 0 0-2.46-6.25zM15.88 15h-1.65a2.49 2.49 0 0 0-1.87 4.15.49.49 0 0 1 .12.49c-.05.21-.28.34-.59.36a8 8 0 0 1-7.82-9.11A8.1 8.1 0 0 1 11.92 4H12a8.47 8.47 0 0 1 6.1 2.48 6.5 6.5 0 0 1 1.9 4.77A4.17 4.17 0 0 1 15.88 15z"/><circle cx="12" cy="6.5" r="1.5"/><path d="M15.25 7.2a1.5 1.5 0 1 0 2.05.55 1.5 1.5 0 0 0-2.05-.55z"/><path d="M8.75 7.2a1.5 1.5 0 1 0 .55 2.05 1.5 1.5 0 0 0-.55-2.05z"/><path d="M6.16 11.26a1.5 1.5 0 1 0 2.08.4 1.49 1.49 0 0 0-2.08-.4z"/></g></g>',"color-picker-outline":'<g data-name="Layer 2"><g data-name="color-picker"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A1.92 1.92 0 0 0 14 4.53l-2 2-1.29-1.24a1 1 0 0 0-1.42 1.42L10.53 8 5 13.53a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l5.58-5.58 1.24 1.24a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-1.24-1.24 2-2a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.36l2.69 2.7zm7-7L13.36 8l1.91-2L18 8.73z"/></g></g>',"compass-outline":'<g data-name="Layer 2"><g data-name="compass"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15.68 8.32a1 1 0 0 0-1.1-.25l-4.21 1.7a1 1 0 0 0-.55.55l-1.75 4.26a1 1 0 0 0 .18 1h.05A1 1 0 0 0 9 16a1 1 0 0 0 .38-.07l4.21-1.7a1 1 0 0 0 .55-.55l1.75-4.26a1 1 0 0 0-.21-1.1zm-4.88 4.89l.71-1.74 1.69-.68-.71 1.74z"/></g></g>',"copy-outline":'<g data-name="Layer 2"><g data-name="copy"><rect width="24" height="24" opacity="0"/><path d="M18 21h-6a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3zm-6-10a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1z"/><path d="M9.73 15H5.67A2.68 2.68 0 0 1 3 12.33V5.67A2.68 2.68 0 0 1 5.67 3h6.66A2.68 2.68 0 0 1 15 5.67V9.4h-2V5.67a.67.67 0 0 0-.67-.67H5.67a.67.67 0 0 0-.67.67v6.66a.67.67 0 0 0 .67.67h4.06z"/></g></g>',"corner-down-left-outline":'<g data-name="Layer 2"><g data-name="corner-down-left"><rect x=".05" y=".05" width="24" height="24" transform="rotate(-89.76 12.05 12.05)" opacity="0"/><path d="M20 6a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 1-.29.71A1 1 0 0 1 17 12H8.08l2.69-3.39a1 1 0 0 0-1.52-1.17l-4 5a1 1 0 0 0 0 1.25l4 5a1 1 0 0 0 .78.37 1 1 0 0 0 .62-.22 1 1 0 0 0 .15-1.41l-2.66-3.36h8.92a3 3 0 0 0 3-3z"/></g></g>',"corner-down-right-outline":'<g data-name="Layer 2"><g data-name="corner-down-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 12.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a1 1 0 0 1-1-1V6a1 1 0 0 0-2 0v5a3 3 0 0 0 3 3h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 19a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"corner-left-down-outline":'<g data-name="Layer 2"><g data-name="corner-left-down"><rect width="24" height="24" opacity="0"/><path d="M18 5h-5a3 3 0 0 0-3 3v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 1 0-1.24-1.56L12 16.92V8a1 1 0 0 1 1-1h5a1 1 0 0 0 0-2z"/></g></g>',"corner-left-up-outline":'<g data-name="Layer 2"><g data-name="corner-left-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 17h-5a1 1 0 0 1-1-1V7.08l3.38 2.7A1 1 0 0 0 16 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L10 7.08V16a3 3 0 0 0 3 3h5a1 1 0 0 0 0-2z"/></g></g>',"corner-right-down-outline":'<g data-name="Layer 2"><g data-name="corner-right-down"><rect width="24" height="24" opacity="0"/><path d="M18.78 14.38a1 1 0 0 0-1.4-.16L14 16.92V8a3 3 0 0 0-3-3H6a1 1 0 0 0 0 2h5a1 1 0 0 1 1 1v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 0 0 .16-1.4z"/></g></g>',"corner-right-up-outline":'<g data-name="Layer 2"><g data-name="corner-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.62 8.22l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L12 7.08V16a1 1 0 0 1-1 1H6a1 1 0 0 0 0 2h5a3 3 0 0 0 3-3V7.08l3.38 2.7A1 1 0 0 0 18 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4z"/></g></g>',"corner-up-left-outline":'<g data-name="Layer 2"><g data-name="corner-up-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16 10H7.08l2.7-3.38a1 1 0 1 0-1.56-1.24l-4 5a1 1 0 0 0 0 1.24l4 5A1 1 0 0 0 9 17a1 1 0 0 0 .62-.22 1 1 0 0 0 .16-1.4L7.08 12H16a1 1 0 0 1 1 1v5a1 1 0 0 0 2 0v-5a3 3 0 0 0-3-3z"/></g></g>',"corner-up-right-outline":'<g data-name="Layer 2"><g data-name="corner-up-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 10.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a3 3 0 0 0-3 3v5a1 1 0 0 0 2 0v-5a1 1 0 0 1 1-1h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 17a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"credit-card-outline":'<g data-name="Layer 2"><g data-name="credit-card"><rect width="24" height="24" opacity="0"/><path d="M19 5H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zM4 8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v1H4zm16 8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-5h16z"/><path d="M7 15h4a1 1 0 0 0 0-2H7a1 1 0 0 0 0 2z"/><path d="M15 15h2a1 1 0 0 0 0-2h-2a1 1 0 0 0 0 2z"/></g></g>',"crop-outline":'<g data-name="Layer 2"><g data-name="crop"><rect width="24" height="24" opacity="0"/><path d="M21 16h-3V8.56A2.56 2.56 0 0 0 15.44 6H8V3a1 1 0 0 0-2 0v3H3a1 1 0 0 0 0 2h3v7.44A2.56 2.56 0 0 0 8.56 18H16v3a1 1 0 0 0 2 0v-3h3a1 1 0 0 0 0-2zM8.56 16a.56.56 0 0 1-.56-.56V8h7.44a.56.56 0 0 1 .56.56V16z"/></g></g>',"cube-outline":'<g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M20.66 7.26c0-.07-.1-.14-.15-.21l-.09-.1a2.5 2.5 0 0 0-.86-.68l-6.4-3a2.7 2.7 0 0 0-2.26 0l-6.4 3a2.6 2.6 0 0 0-.86.68L3.52 7a1 1 0 0 0-.15.2A2.39 2.39 0 0 0 3 8.46v7.06a2.49 2.49 0 0 0 1.46 2.26l6.4 3a2.7 2.7 0 0 0 2.27 0l6.4-3A2.49 2.49 0 0 0 21 15.54V8.46a2.39 2.39 0 0 0-.34-1.2zm-8.95-2.2a.73.73 0 0 1 .58 0l5.33 2.48L12 10.15 6.38 7.54zM5.3 16a.47.47 0 0 1-.3-.43V9.1l6 2.79v6.72zm13.39 0L13 18.61v-6.72l6-2.79v6.44a.48.48 0 0 1-.31.46z"/></g></g>',"diagonal-arrow-left-down-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-down"><rect width="24" height="24" opacity="0"/><path d="M17.71 6.29a1 1 0 0 0-1.42 0L8 14.59V9a1 1 0 0 0-2 0v8a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H9.41l8.3-8.29a1 1 0 0 0 0-1.42z"/></g></g>',"diagonal-arrow-left-up-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.71 16.29L9.42 8H15a1 1 0 0 0 0-2H7.05a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1H7a1 1 0 0 0 1-1V9.45l8.26 8.26a1 1 0 0 0 1.42 0 1 1 0 0 0 .03-1.42z"/></g></g>',"diagonal-arrow-right-down-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 8a1 1 0 0 0-1 1v5.59l-8.29-8.3a1 1 0 0 0-1.42 1.42l8.3 8.29H9a1 1 0 0 0 0 2h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"/></g></g>',"diagonal-arrow-right-up-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 7.05a1 1 0 0 0-1-1L9 6a1 1 0 0 0 0 2h5.56l-8.27 8.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L16 9.42V15a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/></g></g>',"done-all-outline":'<g data-name="Layer 2"><g data-name="done-all"><rect width="24" height="24" opacity="0"/><path d="M16.62 6.21a1 1 0 0 0-1.41.17l-7 9-3.43-4.18a1 1 0 1 0-1.56 1.25l4.17 5.18a1 1 0 0 0 .78.37 1 1 0 0 0 .83-.38l7.83-10a1 1 0 0 0-.21-1.41z"/><path d="M21.62 6.21a1 1 0 0 0-1.41.17l-7 9-.61-.75-1.26 1.62 1.1 1.37a1 1 0 0 0 .78.37 1 1 0 0 0 .78-.38l7.83-10a1 1 0 0 0-.21-1.4z"/><path d="M8.71 13.06L10 11.44l-.2-.24a1 1 0 0 0-1.43-.2 1 1 0 0 0-.15 1.41z"/></g></g>',"download-outline":'<g data-name="Layer 2"><g data-name="download"><rect width="24" height="24" opacity="0"/><rect x="4" y="18" width="16" height="2" rx="1" ry="1"/><rect x="3" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 5 18)"/><rect x="17" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 19 18)"/><path d="M12 15a1 1 0 0 1-.58-.18l-4-2.82a1 1 0 0 1-.24-1.39 1 1 0 0 1 1.4-.24L12 12.76l3.4-2.56a1 1 0 0 1 1.2 1.6l-4 3a1 1 0 0 1-.6.2z"/><path d="M12 13a1 1 0 0 1-1-1V4a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"droplet-off-outline":'<g data-name="Layer 2"><g data-name="droplet-off-outline"><rect width="24" height="24" opacity="0"/><path d="M12 19a5.4 5.4 0 0 1-3.88-1.64 5.73 5.73 0 0 1-.69-7.11L6 8.82a7.74 7.74 0 0 0 .7 9.94A7.37 7.37 0 0 0 12 21a7.36 7.36 0 0 0 4.58-1.59L15.15 18A5.43 5.43 0 0 1 12 19z"/><path d="M12 5.43l3.88 4a5.71 5.71 0 0 1 1.49 5.15L19 16.15A7.72 7.72 0 0 0 17.31 8l-4.6-4.7A1 1 0 0 0 12 3a1 1 0 0 0-.72.3L8.73 5.9l1.42 1.42z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"droplet-outline":'<g data-name="Layer 2"><g data-name="droplet-outline"><rect x=".1" y=".1" width="24" height="24" transform="rotate(.48 11.987 11.887)" opacity="0"/><path d="M12 21.1a7.4 7.4 0 0 1-5.28-2.28 7.73 7.73 0 0 1 .1-10.77l4.64-4.65a.94.94 0 0 1 .71-.3 1 1 0 0 1 .71.31l4.56 4.72a7.73 7.73 0 0 1-.09 10.77A7.33 7.33 0 0 1 12 21.1zm.13-15.57L8.24 9.45a5.74 5.74 0 0 0-.07 8A5.43 5.43 0 0 0 12 19.1a5.42 5.42 0 0 0 3.9-1.61 5.72 5.72 0 0 0 .06-8z"/></g></g>',"edit-2-outline":'<g data-name="Layer 2"><g data-name="edit-2"><rect width="24" height="24" opacity="0"/><path d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2z"/><path d="M5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18zM15.27 4L18 6.73l-2 1.95L13.32 6zm-8.9 8.91L12 7.32l2.7 2.7-5.6 5.6-3 .28z"/></g></g>',"edit-outline":'<g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g>',"email-outline":'<g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g>',"expand-outline":'<g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g>',"external-link-outline":'<g data-name="Layer 2"><g data-name="external-link"><rect width="24" height="24" opacity="0"/><path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"/><path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"/></g></g>',"eye-off-2-outline":'<g data-name="Layer 2"><g data-name="eye-off-2"><rect width="24" height="24" opacity="0"/><path d="M17.81 13.39A8.93 8.93 0 0 0 21 7.62a1 1 0 1 0-2-.24 7.07 7.07 0 0 1-14 0 1 1 0 1 0-2 .24 8.93 8.93 0 0 0 3.18 5.77l-2.3 2.32a1 1 0 0 0 1.41 1.41l2.61-2.6a9.06 9.06 0 0 0 3.1.92V19a1 1 0 0 0 2 0v-3.56a9.06 9.06 0 0 0 3.1-.92l2.61 2.6a1 1 0 0 0 1.41-1.41z"/></g></g>',"eye-off-outline":'<g data-name="Layer 2"><g data-name="eye-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l5.63 5.63a3.5 3.5 0 0 0 4.74 4.74l5.63 5.63a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM12 13.5a1.5 1.5 0 0 1-1.5-1.5v-.07l1.56 1.56z"/><path d="M12.22 17c-4.3.1-7.12-3.59-8-5a13.7 13.7 0 0 1 2.24-2.72L5 7.87a15.89 15.89 0 0 0-2.87 3.63 1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25a9.48 9.48 0 0 0 3.23-.67l-1.58-1.58a7.74 7.74 0 0 1-1.7.25z"/><path d="M21.87 11.5c-.64-1.11-4.17-6.68-10.14-6.5a9.48 9.48 0 0 0-3.23.67l1.58 1.58a7.74 7.74 0 0 1 1.7-.25c4.29-.11 7.11 3.59 8 5a13.7 13.7 0 0 1-2.29 2.72L19 16.13a15.89 15.89 0 0 0 2.91-3.63 1 1 0 0 0-.04-1z"/></g></g>',"eye-outline":'<g data-name="Layer 2"><g data-name="eye"><rect width="24" height="24" opacity="0"/><path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z"/><path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"/></g></g>',"facebook-outline":'<g data-name="Layer 2"><g data-name="facebook"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13 22H9a1 1 0 0 1-1-1v-6.2H6a1 1 0 0 1-1-1v-3.6a1 1 0 0 1 1-1h2V7.5A5.77 5.77 0 0 1 14 2h3a1 1 0 0 1 1 1v3.6a1 1 0 0 1-1 1h-3v1.6h3a1 1 0 0 1 .8.39 1 1 0 0 1 .16.88l-1 3.6a1 1 0 0 1-1 .73H14V21a1 1 0 0 1-1 1zm-3-2h2v-6.2a1 1 0 0 1 1-1h2.24l.44-1.6H13a1 1 0 0 1-1-1V7.5a2 2 0 0 1 2-1.9h2V4h-2a3.78 3.78 0 0 0-4 3.5v2.7a1 1 0 0 1-1 1H7v1.6h2a1 1 0 0 1 1 1z"/></g></g>',"file-add-outline":'<g data-name="Layer 2"><g data-name="file-add"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/><path d="M14 13h-1v-1a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/></g></g>',"file-outline":'<g data-name="Layer 2"><g data-name="file"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM17.65 9h-3.94a.79.79 0 0 1-.71-.85V4h.11zm-.21 11H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H11v4.15A2.79 2.79 0 0 0 13.71 11H18v8.5a.53.53 0 0 1-.56.5z"/></g></g>',"file-remove-outline":'<g data-name="Layer 2"><g data-name="file-remove"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/><path d="M14 13h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"file-text-outline":'<g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M15 16H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/><path d="M9 14h3a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2z"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/></g></g>',"film-outline":'<g data-name="Layer 2"><g data-name="film"><rect width="24" height="24" opacity="0"/><path d="M18.26 3H5.74A2.74 2.74 0 0 0 3 5.74v12.52A2.74 2.74 0 0 0 5.74 21h12.52A2.74 2.74 0 0 0 21 18.26V5.74A2.74 2.74 0 0 0 18.26 3zM7 11H5V9h2zm-2 2h2v2H5zm4-8h6v14H9zm10 6h-2V9h2zm-2 2h2v2h-2zm2-7.26V7h-2V5h1.26a.74.74 0 0 1 .74.74zM5.74 5H7v2H5V5.74A.74.74 0 0 1 5.74 5zM5 18.26V17h2v2H5.74a.74.74 0 0 1-.74-.74zm14 0a.74.74 0 0 1-.74.74H17v-2h2z"/></g></g>',"flag-outline":'<g data-name="Layer 2"><g data-name="flag"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M19.27 4.68a1.79 1.79 0 0 0-1.6-.25 7.53 7.53 0 0 1-2.17.28 8.54 8.54 0 0 1-3.13-.78A10.15 10.15 0 0 0 8.5 3c-2.89 0-4 1-4.2 1.14a1 1 0 0 0-.3.72V20a1 1 0 0 0 2 0v-4.3a6.28 6.28 0 0 1 2.5-.41 8.54 8.54 0 0 1 3.13.78 10.15 10.15 0 0 0 3.87.93 7.66 7.66 0 0 0 3.5-.7 1.74 1.74 0 0 0 1-1.55V6.11a1.77 1.77 0 0 0-.73-1.43zM18 14.59a6.32 6.32 0 0 1-2.5.41 8.36 8.36 0 0 1-3.13-.79 10.34 10.34 0 0 0-3.87-.92 9.51 9.51 0 0 0-2.5.29V5.42A6.13 6.13 0 0 1 8.5 5a8.36 8.36 0 0 1 3.13.79 10.34 10.34 0 0 0 3.87.92 9.41 9.41 0 0 0 2.5-.3z"/></g></g>',"flash-off-outline":'<g data-name="Layer 2"><g data-name="flash-off"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12.54 18.06l.27-2.42L10 12.8H6.87l1.24-1.86L6.67 9.5l-2.5 3.74A1 1 0 0 0 5 14.8h5.89l-.77 7.09a1 1 0 0 0 .65 1.05 1 1 0 0 0 .34.06 1 1 0 0 0 .83-.44l3.12-4.67-1.44-1.44z"/><path d="M11.46 5.94l-.27 2.42L14 11.2h3.1l-1.24 1.86 1.44 1.44 2.5-3.74A1 1 0 0 0 19 9.2h-5.89l.77-7.09a1 1 0 0 0-.65-1 1 1 0 0 0-1.17.38L8.94 6.11l1.44 1.44z"/></g></g>',"flash-outline":'<g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44zM6.87 12.8H12a1 1 0 0 1 .74.33 1 1 0 0 1 .25.78l-.45 4.15 4.59-6.86H12a1 1 0 0 1-1-1.11l.45-4.15z"/></g></g>',"flip-2-outline":'<g data-name="Layer 2"><g data-name="flip-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.09 19h12l-1.3 1.29a1 1 0 0 0 1.42 1.42l3-3a1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0 1 1 0 0 0 0 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19z"/><path d="M5.79 9.71a1 1 0 1 0 1.42-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5h-12l1.3-1.29a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 0 1.42z"/></g></g>',"flip-outline":'<g data-name="Layer 2"><g data-name="flip-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 6.09v12l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0L7 18.09v-12A1.56 1.56 0 0 1 8.53 4.5H11a1 1 0 0 0 0-2H8.53A3.56 3.56 0 0 0 5 6.09z"/><path d="M14.29 5.79a1 1 0 0 0 1.42 1.42L17 5.91v12a1.56 1.56 0 0 1-1.53 1.59H13a1 1 0 0 0 0 2h2.47A3.56 3.56 0 0 0 19 17.91v-12l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0z"/></g></g>',"folder-add-outline":'<g data-name="Layer 2"><g data-name="folder-add"><rect width="24" height="24" opacity="0"/><path d="M14 13h-1v-1a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zm.5 11a.46.46 0 0 1-.5.43h-15a.46.46 0 0 1-.5-.43V5.93a.46.46 0 0 1 .5-.43h4.13l2.6 3.18a1 1 0 0 0 .77.37h7.5a.46.46 0 0 1 .5.43z"/></g></g>',"folder-outline":'<g data-name="Layer 2"><g data-name="folder"><rect width="24" height="24" opacity="0"/><path d="M19.5 20.5h-15A2.47 2.47 0 0 1 2 18.07V5.93A2.47 2.47 0 0 1 4.5 3.5h4.6a1 1 0 0 1 .77.37l2.6 3.18h7A2.47 2.47 0 0 1 22 9.48v8.59a2.47 2.47 0 0 1-2.5 2.43zM4 13.76v4.31a.46.46 0 0 0 .5.43h15a.46.46 0 0 0 .5-.43V9.48a.46.46 0 0 0-.5-.43H12a1 1 0 0 1-.77-.37L8.63 5.5H4.5a.46.46 0 0 0-.5.43z"/></g></g>',"folder-remove-outline":'<g data-name="Layer 2"><g data-name="folder-remove"><rect width="24" height="24" opacity="0"/><path d="M14 13h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zm.5 11a.46.46 0 0 1-.5.43h-15a.46.46 0 0 1-.5-.43V5.93a.46.46 0 0 1 .5-.43h4.13l2.6 3.18a1 1 0 0 0 .77.37h7.5a.46.46 0 0 1 .5.43z"/></g></g>',"funnel-outline":'<g data-name="Layer 2"><g data-name="funnel"><rect width="24" height="24" opacity="0"/><path d="M13.9 22a1 1 0 0 1-.6-.2l-4-3.05a1 1 0 0 1-.39-.8v-3.27l-4.8-9.22A1 1 0 0 1 5 4h14a1 1 0 0 1 .86.49 1 1 0 0 1 0 1l-5 9.21V21a1 1 0 0 1-.55.9 1 1 0 0 1-.41.1zm-3-4.54l2 1.53v-4.55A1 1 0 0 1 13 14l4.3-8H6.64l4.13 8a1 1 0 0 1 .11.46z"/></g></g>',"gift-outline":'<g data-name="Layer 2"><g data-name="gift"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19.2 7h-.39A3 3 0 0 0 19 6a3.08 3.08 0 0 0-3.14-3A4.46 4.46 0 0 0 12 5.4 4.46 4.46 0 0 0 8.14 3 3.08 3.08 0 0 0 5 6a3 3 0 0 0 .19 1H4.8A2 2 0 0 0 3 9.2v3.6A2.08 2.08 0 0 0 4.5 15v4.37A1.75 1.75 0 0 0 6.31 21h11.38a1.75 1.75 0 0 0 1.81-1.67V15a2.08 2.08 0 0 0 1.5-2.2V9.2A2 2 0 0 0 19.2 7zM19 9.2v3.6a.56.56 0 0 1 0 .2h-6V9h6a.56.56 0 0 1 0 .2zM15.86 5A1.08 1.08 0 0 1 17 6a1.08 1.08 0 0 1-1.14 1H13.4a2.93 2.93 0 0 1 2.46-2zM7 6a1.08 1.08 0 0 1 1.14-1 2.93 2.93 0 0 1 2.45 2H8.14A1.08 1.08 0 0 1 7 6zM5 9.2A.56.56 0 0 1 5 9h6v4H5a.56.56 0 0 1 0-.2zM6.5 15H11v4H6.5zm6.5 4v-4h4.5v4z"/></g></g>',"github-outline":'<g data-name="Layer 2"><rect width="24" height="24" opacity="0"/><path d="M16.24 22a1 1 0 0 1-1-1v-2.6a2.15 2.15 0 0 0-.54-1.66 1 1 0 0 1 .61-1.67C17.75 14.78 20 14 20 9.77a4 4 0 0 0-.67-2.22 2.75 2.75 0 0 1-.41-2.06 3.71 3.71 0 0 0 0-1.41 7.65 7.65 0 0 0-2.09 1.09 1 1 0 0 1-.84.15 10.15 10.15 0 0 0-5.52 0 1 1 0 0 1-.84-.15 7.4 7.4 0 0 0-2.11-1.09 3.52 3.52 0 0 0 0 1.41 2.84 2.84 0 0 1-.43 2.08 4.07 4.07 0 0 0-.67 2.23c0 3.89 1.88 4.93 4.7 5.29a1 1 0 0 1 .82.66 1 1 0 0 1-.21 1 2.06 2.06 0 0 0-.55 1.56V21a1 1 0 0 1-2 0v-.57a6 6 0 0 1-5.27-2.09 3.9 3.9 0 0 0-1.16-.88 1 1 0 1 1 .5-1.94 4.93 4.93 0 0 1 2 1.36c1 1 2 1.88 3.9 1.52a3.89 3.89 0 0 1 .23-1.58c-2.06-.52-5-2-5-7a6 6 0 0 1 1-3.33.85.85 0 0 0 .13-.62 5.69 5.69 0 0 1 .33-3.21 1 1 0 0 1 .63-.57c.34-.1 1.56-.3 3.87 1.2a12.16 12.16 0 0 1 5.69 0c2.31-1.5 3.53-1.31 3.86-1.2a1 1 0 0 1 .63.57 5.71 5.71 0 0 1 .33 3.22.75.75 0 0 0 .11.57 6 6 0 0 1 1 3.34c0 5.07-2.92 6.54-5 7a4.28 4.28 0 0 1 .22 1.67V21a1 1 0 0 1-.94 1z"/></g>',"globe-2-outline":'<g data-name="Layer 2"><g data-name="globe-2"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 2a8.19 8.19 0 0 1 1.79.21 2.61 2.61 0 0 1-.78 1c-.22.17-.46.31-.7.46a4.56 4.56 0 0 0-1.85 1.67 6.49 6.49 0 0 0-.62 3.3c0 1.36 0 2.16-.95 2.87-1.37 1.07-3.46.47-4.76-.07A8.33 8.33 0 0 1 4 12a8 8 0 0 1 8-8zM5 15.8a8.42 8.42 0 0 0 2 .27 5 5 0 0 0 3.14-1c1.71-1.34 1.71-3.06 1.71-4.44a4.76 4.76 0 0 1 .37-2.34 2.86 2.86 0 0 1 1.12-.91 9.75 9.75 0 0 0 .92-.61 4.55 4.55 0 0 0 1.4-1.87A8 8 0 0 1 19 8.12c-1.43.2-3.46.67-3.86 2.53A7 7 0 0 0 15 12a2.93 2.93 0 0 1-.29 1.47l-.1.17c-.65 1.08-1.38 2.31-.39 4 .12.21.25.41.38.61a2.29 2.29 0 0 1 .52 1.08A7.89 7.89 0 0 1 12 20a8 8 0 0 1-7-4.2zm11.93 2.52a6.79 6.79 0 0 0-.63-1.14c-.11-.16-.22-.32-.32-.49-.39-.68-.25-1 .38-2l.1-.17a4.77 4.77 0 0 0 .54-2.43 5.42 5.42 0 0 1 .09-1c.16-.73 1.71-.93 2.67-1a7.94 7.94 0 0 1-2.86 8.28z"/></g></g>',"globe-outline":'<g data-name="Layer 2"><g data-name="globe"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M22 12A10 10 0 0 0 12 2a10 10 0 0 0 0 20 10 10 0 0 0 10-10zm-2.07-1H17a12.91 12.91 0 0 0-2.33-6.54A8 8 0 0 1 19.93 11zM9.08 13H15a11.44 11.44 0 0 1-3 6.61A11 11 0 0 1 9.08 13zm0-2A11.4 11.4 0 0 1 12 4.4a11.19 11.19 0 0 1 3 6.6zm.36-6.57A13.18 13.18 0 0 0 7.07 11h-3a8 8 0 0 1 5.37-6.57zM4.07 13h3a12.86 12.86 0 0 0 2.35 6.56A8 8 0 0 1 4.07 13zm10.55 6.55A13.14 13.14 0 0 0 17 13h2.95a8 8 0 0 1-5.33 6.55z"/></g></g>',"google-outline":'<g data-name="Layer 2"><g data-name="google"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M12 22h-.43A10.16 10.16 0 0 1 2 12.29a10 10 0 0 1 14.12-9.41 1.48 1.48 0 0 1 .77.86 1.47 1.47 0 0 1-.1 1.16L15.5 7.28a1.44 1.44 0 0 1-1.83.64A4.5 4.5 0 0 0 8.77 9a4.41 4.41 0 0 0-1.16 3.34 4.36 4.36 0 0 0 1.66 3 4.52 4.52 0 0 0 3.45 1 3.89 3.89 0 0 0 2.63-1.57h-2.9A1.45 1.45 0 0 1 11 13.33v-2.68a1.45 1.45 0 0 1 1.45-1.45h8.1A1.46 1.46 0 0 1 22 10.64v1.88A10 10 0 0 1 12 22zm0-18a8 8 0 0 0-8 8.24A8.12 8.12 0 0 0 11.65 20 8 8 0 0 0 20 12.42V11.2h-7v1.58h5.31l-.41 1.3a6 6 0 0 1-4.9 4.25A6.58 6.58 0 0 1 8 17a6.33 6.33 0 0 1-.72-9.3A6.52 6.52 0 0 1 14 5.91l.77-1.43A7.9 7.9 0 0 0 12 4z"/></g></g>',"grid-outline":'<g data-name="Layer 2"><g data-name="grid"><rect width="24" height="24" opacity="0"/><path d="M9 3H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM5 9V5h4v4z"/><path d="M19 3h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-4 6V5h4v4z"/><path d="M9 13H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm-4 6v-4h4v4z"/><path d="M19 13h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm-4 6v-4h4v4z"/></g></g>',"hard-drive-outline":'<g data-name="Layer 2"><g data-name="hard-drive"><rect width="24" height="24" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H5.62zM18 19H6a1 1 0 0 1-1-1v-5h14v5a1 1 0 0 1-1 1z"/><path d="M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><circle cx="8" cy="16" r="1"/></g></g>',"hash-outline":'<g data-name="Layer 2"><g data-name="hash"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 14h-4.3l.73-4H20a1 1 0 0 0 0-2h-3.21l.69-3.81A1 1 0 0 0 16.64 3a1 1 0 0 0-1.22.82L14.67 8h-3.88l.69-3.81A1 1 0 0 0 10.64 3a1 1 0 0 0-1.22.82L8.67 8H4a1 1 0 0 0 0 2h4.3l-.73 4H4a1 1 0 0 0 0 2h3.21l-.69 3.81A1 1 0 0 0 7.36 21a1 1 0 0 0 1.22-.82L9.33 16h3.88l-.69 3.81a1 1 0 0 0 .84 1.19 1 1 0 0 0 1.22-.82l.75-4.18H20a1 1 0 0 0 0-2zM9.7 14l.73-4h3.87l-.73 4z"/></g></g>',"headphones-outline":'<g data-name="Layer 2"><g data-name="headphones"><rect width="24" height="24" opacity="0"/><path d="M12 2A10.2 10.2 0 0 0 2 12.37V17a4 4 0 1 0 4-4 3.91 3.91 0 0 0-2 .56v-1.19A8.2 8.2 0 0 1 12 4a8.2 8.2 0 0 1 8 8.37v1.19a3.91 3.91 0 0 0-2-.56 4 4 0 1 0 4 4v-4.63A10.2 10.2 0 0 0 12 2zM6 15a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm12 4a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"heart-outline":'<g data-name="Layer 2"><g data-name="heart"><rect width="24" height="24" opacity="0"/><path d="M12 21a1 1 0 0 1-.71-.29l-7.77-7.78a5.26 5.26 0 0 1 0-7.4 5.24 5.24 0 0 1 7.4 0L12 6.61l1.08-1.08a5.24 5.24 0 0 1 7.4 0 5.26 5.26 0 0 1 0 7.4l-7.77 7.78A1 1 0 0 1 12 21zM7.22 6a3.2 3.2 0 0 0-2.28.94 3.24 3.24 0 0 0 0 4.57L12 18.58l7.06-7.07a3.24 3.24 0 0 0 0-4.57 3.32 3.32 0 0 0-4.56 0l-1.79 1.8a1 1 0 0 1-1.42 0L9.5 6.94A3.2 3.2 0 0 0 7.22 6z"/></g></g>',"home-outline":'<g data-name="Layer 2"><g data-name="home"><rect width="24" height="24" opacity="0"/><path d="M20.42 10.18L12.71 2.3a1 1 0 0 0-1.42 0l-7.71 7.89A2 2 0 0 0 3 11.62V20a2 2 0 0 0 1.89 2h14.22A2 2 0 0 0 21 20v-8.38a2.07 2.07 0 0 0-.58-1.44zM10 20v-6h4v6zm9 0h-3v-7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v7H5v-8.42l7-7.15 7 7.19z"/></g></g>',"image-outline":'<g data-name="Layer 2"><g data-name="image"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v8.36l-3.2-2.73a2.77 2.77 0 0 0-3.52 0L5 17.7V6a1 1 0 0 1 1-1zm12 14H6.56l7-5.84a.78.78 0 0 1 .93 0L19 17v1a1 1 0 0 1-1 1z"/><circle cx="8" cy="8.5" r="1.5"/></g></g>',"inbox-outline":'<g data-name="Layer 2"><g data-name="inbox"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H16a1 1 0 0 0-1 1v3H9v-3a1 1 0 0 0-1-1H5.62zM18 19H6a1 1 0 0 1-1-1v-5h2v3a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-3h2v5a1 1 0 0 1-1 1z"/></g></g>',"info-outline":'<g data-name="Layer 2"><g data-name="info"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><circle cx="12" cy="8" r="1"/><path d="M12 10a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1z"/></g></g>',"keypad-outline":'<g data-name="Layer 2"><g data-name="keypad"><rect width="24" height="24" opacity="0"/><path d="M5 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 8a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M5 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M5 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"layers-outline":'<g data-name="Layer 2"><g data-name="layers"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21 11.35a1 1 0 0 0-.61-.86l-2.15-.92 2.26-1.3a1 1 0 0 0 .5-.92 1 1 0 0 0-.61-.86l-8-3.41a1 1 0 0 0-.78 0l-8 3.41a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l2.26 1.3-2.15.92a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l2.26 1.3-2.15.92a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l8 4.6a1 1 0 0 0 1 0l8-4.6a1 1 0 0 0 .5-.92 1 1 0 0 0-.61-.86l-2.15-.92 2.26-1.3a1 1 0 0 0 .5-.92zm-9-6.26l5.76 2.45L12 10.85 6.24 7.54zm-.5 7.78a1 1 0 0 0 1 0l3.57-2 1.69.72L12 14.85l-5.76-3.31 1.69-.72zm6.26 2.67L12 18.85l-5.76-3.31 1.69-.72 3.57 2.05a1 1 0 0 0 1 0l3.57-2.05z"/></g></g>',"layout-outline":'<g data-name="Layer 2"><g data-name="layout"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v2H5V6a1 1 0 0 1 1-1zM5 18v-8h6v9H6a1 1 0 0 1-1-1zm13 1h-5v-9h6v8a1 1 0 0 1-1 1z"/></g></g>',"link-2-outline":'<g data-name="Layer 2"><g data-name="link-2"><rect width="24" height="24" opacity="0"/><path d="M13.29 9.29l-4 4a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4-4a1 1 0 0 0-1.42-1.42z"/><path d="M12.28 17.4L11 18.67a4.2 4.2 0 0 1-5.58.4 4 4 0 0 1-.27-5.93l1.42-1.43a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-1.27 1.28a6.15 6.15 0 0 0-.67 8.07 6.06 6.06 0 0 0 9.07.6l1.42-1.42a1 1 0 0 0-1.42-1.42z"/><path d="M19.66 3.22a6.18 6.18 0 0 0-8.13.68L10.45 5a1.09 1.09 0 0 0-.17 1.61 1 1 0 0 0 1.42 0L13 5.3a4.17 4.17 0 0 1 5.57-.4 4 4 0 0 1 .27 5.95l-1.42 1.43a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.42-1.42a6.06 6.06 0 0 0-.6-9.06z"/></g></g>',"link-outline":'<g data-name="Layer 2"><g data-name="link"><rect width="24" height="24" opacity="0"/><path d="M8 12a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2H9a1 1 0 0 0-1 1z"/><path d="M9 16H7.21A4.13 4.13 0 0 1 3 12.37 4 4 0 0 1 7 8h2a1 1 0 0 0 0-2H7.21a6.15 6.15 0 0 0-6.16 5.21A6 6 0 0 0 7 18h2a1 1 0 0 0 0-2z"/><path d="M23 11.24A6.16 6.16 0 0 0 16.76 6h-1.51C14.44 6 14 6.45 14 7a1 1 0 0 0 1 1h1.79A4.13 4.13 0 0 1 21 11.63 4 4 0 0 1 17 16h-2a1 1 0 0 0 0 2h2a6 6 0 0 0 6-6.76z"/></g></g>',"linkedin-outline":'<g data-name="Layer 2"><g data-name="linkedin"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 22h-1.67a2 2 0 0 1-2-2v-5.37a.92.92 0 0 0-.69-.93.84.84 0 0 0-.67.19.85.85 0 0 0-.3.65V20a2 2 0 0 1-2 2H11a2 2 0 0 1-2-2v-5.46a6.5 6.5 0 1 1 13 0V20a2 2 0 0 1-2 2zm-4.5-10.31a3.73 3.73 0 0 1 .47 0 2.91 2.91 0 0 1 2.36 2.9V20H20v-5.46a4.5 4.5 0 1 0-9 0V20h1.67v-5.46a2.85 2.85 0 0 1 2.83-2.85z"/><path d="M6 22H4a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2zM4 10v10h2V10z"/><path d="M5 7a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm0-4a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"/></g></g>',"list-outline":'<g data-name="Layer 2"><g data-name="list"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="7" r="1"/><circle cx="4" cy="12" r="1"/><circle cx="4" cy="17" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="16" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="6" width="14" height="2" rx=".94" ry=".94"/></g></g>',"loader-outline":'<g data-name="Layer 2"><g data-name="loader"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0V3a1 1 0 0 0-1-1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/></g></g>',"lock-outline":'<g data-name="Layer 2"><g data-name="lock"><rect width="24" height="24" opacity="0"/><path d="M17 8h-1V6.11a4 4 0 1 0-8 0V8H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-7-1.89A2.06 2.06 0 0 1 12 4a2.06 2.06 0 0 1 2 2.11V8h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><path d="M12 12a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"log-in-outline":'<g data-name="Layer 2"><g data-name="log-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19 4h-2a1 1 0 0 0 0 2h1v12h-1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/><path d="M11.8 7.4a1 1 0 0 0-1.6 1.2L12 11H4a1 1 0 0 0 0 2h8.09l-1.72 2.44a1 1 0 0 0 .24 1.4 1 1 0 0 0 .58.18 1 1 0 0 0 .81-.42l2.82-4a1 1 0 0 0 0-1.18z"/></g></g>',"log-out-outline":'<g data-name="Layer 2"><g data-name="log-out"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M7 6a1 1 0 0 0 0-2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 0-2H6V6z"/><path d="M20.82 11.42l-2.82-4a1 1 0 0 0-1.39-.24 1 1 0 0 0-.24 1.4L18.09 11H10a1 1 0 0 0 0 2h8l-1.8 2.4a1 1 0 0 0 .2 1.4 1 1 0 0 0 .6.2 1 1 0 0 0 .8-.4l3-4a1 1 0 0 0 .02-1.18z"/></g></g>',"map-outline":'<g data-name="Layer 2"><g data-name="map"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.41 5.89l-4-1.8H15.59L12 5.7 8.41 4.09h-.05L8.24 4h-.6l-4 1.8a1 1 0 0 0-.64 1V19a1 1 0 0 0 .46.84A1 1 0 0 0 4 20a1 1 0 0 0 .41-.09L8 18.3l3.59 1.61h.05a.85.85 0 0 0 .72 0h.05L16 18.3l3.59 1.61A1 1 0 0 0 20 20a1 1 0 0 0 .54-.16A1 1 0 0 0 21 19V6.8a1 1 0 0 0-.59-.91zM5 7.44l2-.89v10l-2 .89zm4-.89l2 .89v10l-2-.89zm4 .89l2-.89v10l-2 .89zm6 10l-2-.89v-10l2 .89z"/></g></g>',"maximize-outline":'<g data-name="Layer 2"><g data-name="maximize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/><path d="M13 10h-1V9a1 1 0 0 0-2 0v1H9a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/></g></g>',"menu-2-outline":'<g data-name="Layer 2"><g data-name="menu-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="12" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="3" y="16" width="18" height="2" rx=".94" ry=".94"/><rect x="3" y="6" width="18" height="2" rx=".94" ry=".94"/></g></g>',"menu-arrow-outline":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.05 11H5.91l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 13h14.14a1 1 0 0 0 .95-.95V12a1 1 0 0 0-.95-1z"/><rect x="3" y="17" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="5" width="18" height="2" rx=".95" ry=".95"/></g></g>',"menu-outline":'<g data-name="Layer 2"><g data-name="menu"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="3" y="11" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="16" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="6" width="18" height="2" rx=".95" ry=".95"/></g></g>',"message-circle-outline":'<g data-name="Layer 2"><g data-name="message-circle"><circle cx="12" cy="12" r="1"/><circle cx="16" cy="12" r="1"/><circle cx="8" cy="12" r="1"/><path d="M19.07 4.93a10 10 0 0 0-16.28 11 1.06 1.06 0 0 1 .09.64L2 20.8a1 1 0 0 0 .27.91A1 1 0 0 0 3 22h.2l4.28-.86a1.26 1.26 0 0 1 .64.09 10 10 0 0 0 11-16.28zm.83 8.36a8 8 0 0 1-11 6.08 3.26 3.26 0 0 0-1.25-.26 3.43 3.43 0 0 0-.56.05l-2.82.57.57-2.82a3.09 3.09 0 0 0-.21-1.81 8 8 0 0 1 6.08-11 8 8 0 0 1 9.19 9.19z"/><rect width="24" height="24" opacity="0"/></g></g>',"message-square-outline":'<g data-name="Layer 2"><g data-name="message-square"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="11" r="1"/><circle cx="16" cy="11" r="1"/><circle cx="8" cy="11" r="1"/><path d="M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H8.55a3 3 0 0 0-1.55.43l-3 1.8V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',"mic-off-outline":'<g data-name="Layer 2"><g data-name="mic-off"><rect width="24" height="24" opacity="0"/><path d="M10 6a2 2 0 0 1 4 0v5a1 1 0 0 1 0 .16l1.6 1.59A4 4 0 0 0 16 11V6a4 4 0 0 0-7.92-.75L10 7.17z"/><path d="M19 11a1 1 0 0 0-2 0 4.86 4.86 0 0 1-.69 2.48L17.78 15A7 7 0 0 0 19 11z"/><path d="M12 15h.16L8 10.83V11a4 4 0 0 0 4 4z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M15 20h-2v-2.08a7 7 0 0 0 1.65-.44l-1.6-1.6A4.57 4.57 0 0 1 12 16a5 5 0 0 1-5-5 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"mic-outline":'<g data-name="Layer 2"><g data-name="mic"><rect width="24" height="24" opacity="0"/><path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4zm-2-9a2 2 0 0 1 4 0v5a2 2 0 0 1-4 0z"/><path d="M19 11a1 1 0 0 0-2 0 5 5 0 0 1-10 0 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H8.89a.89.89 0 0 0-.89.89v.22a.89.89 0 0 0 .89.89h6.22a.89.89 0 0 0 .89-.89v-.22a.89.89 0 0 0-.89-.89H13v-2.08A7 7 0 0 0 19 11z"/></g></g>',"minimize-outline":'<g data-name="Layer 2"><g data-name="minimize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/><path d="M13 10H9a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"minus-circle-outline":'<g data-name="Layer 2"><g data-name="minus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 11H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"minus-outline":'<g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g>',"minus-square-outline":'<g data-name="Layer 2"><g data-name="minus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M15 11H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"monitor-outline":'<g data-name="Layer 2"><g data-name="monitor"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h6v2H7a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2h-4v-2h6a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 11a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',"moon-outline":'<g data-name="Layer 2"><g data-name="moon"><rect width="24" height="24" opacity="0"/><path d="M12.3 22h-.1a10.31 10.31 0 0 1-7.34-3.15 10.46 10.46 0 0 1-.26-14 10.13 10.13 0 0 1 4-2.74 1 1 0 0 1 1.06.22 1 1 0 0 1 .24 1 8.4 8.4 0 0 0 1.94 8.81 8.47 8.47 0 0 0 8.83 1.94 1 1 0 0 1 1.27 1.29A10.16 10.16 0 0 1 19.6 19a10.28 10.28 0 0 1-7.3 3zM7.46 4.92a7.93 7.93 0 0 0-1.37 1.22 8.44 8.44 0 0 0 .2 11.32A8.29 8.29 0 0 0 12.22 20h.08a8.34 8.34 0 0 0 6.78-3.49A10.37 10.37 0 0 1 7.46 4.92z"/></g></g>',"more-horizontal-outline":'<g data-name="Layer 2"><g data-name="more-horizotnal"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/><circle cx="5" cy="12" r="2"/></g></g>',"more-vertical-outline":'<g data-name="Layer 2"><g data-name="more-vertical"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/></g></g>',"move-outline":'<g data-name="Layer 2"><g data-name="move"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21.71 11.31l-3-3a1 1 0 0 0-1.42 1.42L18.58 11H13V5.41l1.29 1.3A1 1 0 0 0 15 7a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42l-3-3A1 1 0 0 0 12 2a1 1 0 0 0-.7.29l-3 3a1 1 0 0 0 1.41 1.42L11 5.42V11H5.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3A1 1 0 0 0 2 12a1 1 0 0 0 .29.71l3 3A1 1 0 0 0 6 16a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42L5.42 13H11v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 22a1 1 0 0 0 .7-.29l3-3a1 1 0 0 0-1.42-1.42L13 18.58V13h5.59l-1.3 1.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 16a1 1 0 0 0 .71-.29l3-3A1 1 0 0 0 22 12a1 1 0 0 0-.29-.69z"/></g></g>',"music-outline":'<g data-name="Layer 2"><g data-name="music"><rect width="24" height="24" opacity="0"/><path d="M19 15V4a1 1 0 0 0-.38-.78 1 1 0 0 0-.84-.2l-9 2A1 1 0 0 0 8 6v8.34a3.49 3.49 0 1 0 2 3.18 4.36 4.36 0 0 0 0-.52V6.8l7-1.55v7.09a3.49 3.49 0 1 0 2 3.17 4.57 4.57 0 0 0 0-.51zM6.54 19A1.49 1.49 0 1 1 8 17.21a1.53 1.53 0 0 1 0 .3A1.49 1.49 0 0 1 6.54 19zm9-2A1.5 1.5 0 1 1 17 15.21a1.53 1.53 0 0 1 0 .3A1.5 1.5 0 0 1 15.51 17z"/></g></g>',"navigation-2-outline":'<g data-name="Layer 2"><g data-name="navigation-2"><rect width="24" height="24" opacity="0"/><path d="M13.67 22h-.06a1 1 0 0 1-.92-.8L11 13l-8.2-1.69a1 1 0 0 1-.12-1.93l16-5.33A1 1 0 0 1 20 5.32l-5.33 16a1 1 0 0 1-1 .68zm-6.8-11.9l5.19 1.06a1 1 0 0 1 .79.78l1.05 5.19 3.52-10.55z"/></g></g>',"navigation-outline":'<g data-name="Layer 2"><g data-name="navigation"><rect width="24" height="24" opacity="0"/><path d="M20 20a.94.94 0 0 1-.55-.17L12 14.9l-7.45 4.93a1 1 0 0 1-1.44-1.28l8-16a1 1 0 0 1 1.78 0l8 16a1 1 0 0 1-.23 1.2A1 1 0 0 1 20 20zm-8-7.3a1 1 0 0 1 .55.17l4.88 3.23L12 5.24 6.57 16.1l4.88-3.23a1 1 0 0 1 .55-.17z"/></g></g>',"npm-outline":'<g data-name="Layer 2"><g data-name="npm"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/><rect x="12" y="9" width="4" height="10"/></g></g>',"options-2-outline":'<g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2zm4-2a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2zm-10 2a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"options-outline":'<g data-name="Layer 2"><g data-name="options"><rect width="24" height="24" opacity="0"/><path d="M7 14.18V3a1 1 0 0 0-2 0v11.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-1.18a3 3 0 0 0 0-5.64zM6 18a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M21 13a3 3 0 0 0-2-2.82V3a1 1 0 0 0-2 0v7.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-5.18A3 3 0 0 0 21 13zm-3 1a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15 5a3 3 0 1 0-4 2.82V21a1 1 0 0 0 2 0V7.82A3 3 0 0 0 15 5zm-3 1a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"pantone-outline":'<g data-name="Layer 2"><g data-name="pantone"><rect width="24" height="24" opacity="0"/><path d="M20 13.18h-4.06l2.3-2.47a1 1 0 0 0 0-1.41l-4.19-3.86a.93.93 0 0 0-.71-.26 1 1 0 0 0-.7.31l-1.82 2V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v13.09A3.91 3.91 0 0 0 6.91 21H20a1 1 0 0 0 1-1v-5.82a1 1 0 0 0-1-1zm-6.58-5.59l2.67 2.49-5.27 5.66v-5.36zM8.82 10v3H5v-3zm0-5v3H5V5zM5 17.09V15h3.82v2.09a1.91 1.91 0 0 1-3.82 0zM19 19h-8.49l3.56-3.82H19z"/></g></g>',"paper-plane-outline":'<g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g>',"pause-circle-outline":'<g data-name="Layer 2"><g data-name="pause-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M9 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"people-outline":'<g data-name="Layer 2"><g data-name="people"><rect width="24" height="24" opacity="0"/><path d="M9 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M17 13a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M17 14a5 5 0 0 0-3.06 1.05A7 7 0 0 0 2 20a1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 6.9 6.9 0 0 0-.86-3.35A3 3 0 0 1 20 19a1 1 0 0 0 2 0 5 5 0 0 0-5-5z"/></g></g>',"percent-outline":'<g data-name="Layer 2"><g data-name="percent"><rect width="24" height="24" opacity="0"/><path d="M8 11a3.5 3.5 0 1 0-3.5-3.5A3.5 3.5 0 0 0 8 11zm0-5a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 6z"/><path d="M16 14a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 16 14zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 19z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',"person-add-outline":'<g data-name="Layer 2"><g data-name="person-add"><rect width="24" height="24" opacity="0"/><path d="M21 6h-1V5a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0V8h1a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-delete-outline":'<g data-name="Layer 2"><g data-name="person-delete"><rect width="24" height="24" opacity="0"/><path d="M20.47 7.5l.73-.73a1 1 0 0 0-1.47-1.47L19 6l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1 1 0 0 0 1.47 1.47L19 9l.73.73a1 1 0 0 0 1.47-1.5z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-done-outline":'<g data-name="Layer 2"><g data-name="person-done"><rect width="24" height="24" opacity="0"/><path d="M21.66 4.25a1 1 0 0 0-1.41.09l-1.87 2.15-.63-.71a1 1 0 0 0-1.5 1.33l1.39 1.56a1 1 0 0 0 .75.33 1 1 0 0 0 .74-.34l2.61-3a1 1 0 0 0-.08-1.41z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-outline":'<g data-name="Layer 2"><g data-name="person"><rect width="24" height="24" opacity="0"/><path d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M12 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-remove-outline":'<g data-name="Layer 2"><g data-name="person-remove"><rect width="24" height="24" opacity="0"/><path d="M21 6h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"phone-call-outline":'<g data-name="Layer 2"><g data-name="phone-call"><rect width="24" height="24" opacity="0"/><path d="M13 8a3 3 0 0 1 3 3 1 1 0 0 0 2 0 5 5 0 0 0-5-5 1 1 0 0 0 0 2z"/><path d="M13 4a7 7 0 0 1 7 7 1 1 0 0 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0 0 2z"/><path d="M21.75 15.91a1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a9.91 9.91 0 0 1-4.87-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76 4.34 4.34 0 0 0-.19-.73zM17.4 20A13.41 13.41 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.54.28c-.86.45-1.54.81-1.18 1.59a11.85 11.85 0 0 0 7.18 7.21c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6z"/></g></g>',"phone-missed-outline":'<g data-name="Layer 2"><g data-name="phone-missed"><rect width="24" height="24" opacity="0"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10 10 0 0 1-4.88-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76zM17.4 20A13.41 13.41 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.55.29c-.87.45-1.5.78-1.17 1.58a11.85 11.85 0 0 0 7.18 7.21c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6z"/><path d="M15.8 8.7a1.05 1.05 0 0 0 1.47 0L18 8l.73.73a1 1 0 0 0 1.47-1.5l-.73-.73.73-.73a1 1 0 0 0-1.47-1.47L18 5l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1.05 1.05 0 0 0 0 1.47z"/></g></g>',"phone-off-outline":'<g data-name="Layer 2"><g data-name="phone-off"><rect width="24" height="24" opacity="0"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/><path d="M6.7 14.63A13.29 13.29 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.55.29c-.87.45-1.5.78-1.17 1.58a11.57 11.57 0 0 0 1.57 3l1.43-1.42a10.37 10.37 0 0 1-.8-1.42C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6a15.33 15.33 0 0 0 3.27 9.46z"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10.88 10.88 0 0 1-1.41-.8l-1.43 1.43a11.52 11.52 0 0 0 2.94 1.56c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6 13.29 13.29 0 0 1-8-2.7l-1.46 1.43A15.33 15.33 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/></g></g>',"phone-outline":'<g data-name="Layer 2"><g data-name="phone"><rect width="24" height="24" opacity="0"/><path d="M17.4 22A15.42 15.42 0 0 1 2 6.6 4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07 3.79 3.79 0 0 1 .72.18 1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65 4.34 4.34 0 0 1 .19.73 4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22zM6.6 4A2.61 2.61 0 0 0 4 6.6 13.41 13.41 0 0 0 17.4 20a2.61 2.61 0 0 0 2.6-2.6v-.33L15.36 16l-.29.55c-.45.87-.78 1.5-1.62 1.16a11.85 11.85 0 0 1-7.18-7.21c-.36-.78.32-1.14 1.18-1.59L8 8.64 6.93 4z"/></g></g>',"pie-chart-outline":'<g data-name="Layer 2"><g data-name="pie-chart"><rect width="24" height="24" opacity="0"/><path d="M13 2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1 9 9 0 0 0-9-9zm1 8V4.07A7 7 0 0 1 19.93 10z"/><path d="M20.82 14.06a1 1 0 0 0-1.28.61A8 8 0 1 1 9.33 4.46a1 1 0 0 0-.66-1.89 10 10 0 1 0 12.76 12.76 1 1 0 0 0-.61-1.27z"/></g></g>',"pin-outline":'<g data-name="Layer 2"><g data-name="pin"><rect width="24" height="24" opacity="0"/><path d="M12 2a8 8 0 0 0-8 7.92c0 5.48 7.05 11.58 7.35 11.84a1 1 0 0 0 1.3 0C13 21.5 20 15.4 20 9.92A8 8 0 0 0 12 2zm0 17.65c-1.67-1.59-6-6-6-9.73a6 6 0 0 1 12 0c0 3.7-4.33 8.14-6 9.73z"/><path d="M12 6a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 6zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 11z"/></g></g>',"play-circle-outline":'<g data-name="Layer 2"><g data-name="play-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12.34 7.45a1.7 1.7 0 0 0-1.85-.3 1.6 1.6 0 0 0-1 1.48v6.74a1.6 1.6 0 0 0 1 1.48 1.68 1.68 0 0 0 .69.15 1.74 1.74 0 0 0 1.16-.45L16 13.18a1.6 1.6 0 0 0 0-2.36zm-.84 7.15V9.4l2.81 2.6z"/></g></g>',"plus-circle-outline":'<g data-name="Layer 2"><g data-name="plus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"/></g></g>',"plus-outline":'<g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g>',"plus-square-outline":'<g data-name="Layer 2"><g data-name="plus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"/></g></g>',"power-outline":'<g data-name="Layer 2"><g data-name="power"><rect width="24" height="24" opacity="0"/><path d="M12 13a1 1 0 0 0 1-1V2a1 1 0 0 0-2 0v10a1 1 0 0 0 1 1z"/><path d="M16.59 3.11a1 1 0 0 0-.92 1.78 8 8 0 1 1-7.34 0 1 1 0 1 0-.92-1.78 10 10 0 1 0 9.18 0z"/></g></g>',"pricetags-outline":'<g data-name="Layer 2"><g data-name="pricetags"><rect width="24" height="24" opacity="0"/><path d="M12.87 22a1.84 1.84 0 0 1-1.29-.53l-6.41-6.42a1 1 0 0 1-.29-.61L4 5.09a1 1 0 0 1 .29-.8 1 1 0 0 1 .8-.29l9.35.88a1 1 0 0 1 .61.29l6.42 6.41a1.82 1.82 0 0 1 0 2.57l-7.32 7.32a1.82 1.82 0 0 1-1.28.53zm-6-8.11l6 6 7.05-7.05-6-6-7.81-.73z"/><circle cx="10.5" cy="10.5" r="1.5"/></g></g>',"printer-outline":'<g data-name="Layer 2"><g data-name="printer"><rect width="24" height="24" opacity="0"/><path d="M19.36 7H18V5a1.92 1.92 0 0 0-1.83-2H7.83A1.92 1.92 0 0 0 6 5v2H4.64A2.66 2.66 0 0 0 2 9.67v6.66A2.66 2.66 0 0 0 4.64 19h.86a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2h.86A2.66 2.66 0 0 0 22 16.33V9.67A2.66 2.66 0 0 0 19.36 7zM8 5h8v2H8zm-.5 14v-4h9v4zM20 16.33a.66.66 0 0 1-.64.67h-.86v-2a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2v2h-.86a.66.66 0 0 1-.64-.67V9.67A.66.66 0 0 1 4.64 9h14.72a.66.66 0 0 1 .64.67z"/></g></g>',"question-mark-circle-outline":'<g data-name="Layer 2"><g data-name="menu-arrow-circle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 6a3.5 3.5 0 0 0-3.5 3.5 1 1 0 0 0 2 0A1.5 1.5 0 1 1 12 11a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.16A3.49 3.49 0 0 0 12 6z"/><circle cx="12" cy="17" r="1"/></g></g>',"question-mark-outline":'<g data-name="Layer 2"><g data-name="question-mark"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g>',"radio-button-off-outline":'<g data-name="Layer 2"><g data-name="radio-button-off"><rect width="24" height="24" opacity="0"/><path d="M12 22a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/></g></g>',"radio-button-on-outline":'<g data-name="Layer 2"><g data-name="radio-button-on"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"radio-outline":'<g data-name="Layer 2"><g data-name="radio"><rect width="24" height="24" opacity="0"/><path d="M12 8a3 3 0 0 0-1 5.83 1 1 0 0 0 0 .17v6a1 1 0 0 0 2 0v-6a1 1 0 0 0 0-.17A3 3 0 0 0 12 8zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3.5 11a6.87 6.87 0 0 1 2.64-5.23 1 1 0 1 0-1.28-1.54A8.84 8.84 0 0 0 1.5 11a8.84 8.84 0 0 0 3.36 6.77 1 1 0 1 0 1.28-1.54A6.87 6.87 0 0 1 3.5 11z"/><path d="M16.64 6.24a1 1 0 0 0-1.28 1.52A4.28 4.28 0 0 1 17 11a4.28 4.28 0 0 1-1.64 3.24A1 1 0 0 0 16 16a1 1 0 0 0 .64-.24A6.2 6.2 0 0 0 19 11a6.2 6.2 0 0 0-2.36-4.76z"/><path d="M8.76 6.36a1 1 0 0 0-1.4-.12A6.2 6.2 0 0 0 5 11a6.2 6.2 0 0 0 2.36 4.76 1 1 0 0 0 1.4-.12 1 1 0 0 0-.12-1.4A4.28 4.28 0 0 1 7 11a4.28 4.28 0 0 1 1.64-3.24 1 1 0 0 0 .12-1.4z"/><path d="M19.14 4.23a1 1 0 1 0-1.28 1.54A6.87 6.87 0 0 1 20.5 11a6.87 6.87 0 0 1-2.64 5.23 1 1 0 0 0 1.28 1.54A8.84 8.84 0 0 0 22.5 11a8.84 8.84 0 0 0-3.36-6.77z"/></g></g>',"recording-outline":'<g data-name="Layer 2"><g data-name="recording"><rect width="24" height="24" opacity="0"/><path d="M18 8a4 4 0 0 0-4 4 3.91 3.91 0 0 0 .56 2H9.44a3.91 3.91 0 0 0 .56-2 4 4 0 1 0-4 4h12a4 4 0 0 0 0-8zM4 12a2 2 0 1 1 2 2 2 2 0 0 1-2-2zm14 2a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"refresh-outline":'<g data-name="Layer 2"><g data-name="refresh"><rect width="24" height="24" opacity="0"/><path d="M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"/></g></g>',"repeat-outline":'<g data-name="Layer 2"><g data-name="repeat"><rect width="24" height="24" opacity="0"/><path d="M17.91 5h-12l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5z"/><path d="M18.21 14.29a1 1 0 0 0-1.42 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19h12l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42z"/></g></g>',"rewind-left-outline":'<g data-name="Layer 2"><g data-name="rewind-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.45 6.2a2.1 2.1 0 0 0-2.21.26l-4.74 3.92V7.79a1.76 1.76 0 0 0-1.05-1.59 2.1 2.1 0 0 0-2.21.26l-5.1 4.21a1.7 1.7 0 0 0 0 2.66l5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59v-2.59l4.74 3.92a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59zM9.5 16l-4.82-4L9.5 8.09zm8 0l-4.82-4 4.82-3.91z"/></g></g>',"rewind-right-outline":'<g data-name="Layer 2"><g data-name="rewind-right"><rect width="24" height="24" opacity="0"/><path d="M20.86 10.67l-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1.05 1.59v2.59L7.76 6.46a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l4.74-3.92v2.59a1.76 1.76 0 0 0 1.05 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21a1.7 1.7 0 0 0 0-2.66zM6.5 15.91V8l4.82 4zm8 0V8l4.82 4z"/></g></g>',"save-outline":'<g data-name="Layer 2"><g data-name="save"><rect width="24" height="24" opacity="0"/><path d="M20.12 8.71l-4.83-4.83A3 3 0 0 0 13.17 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-7.17a3 3 0 0 0-.88-2.12zM10 19v-2h4v2zm9-1a1 1 0 0 1-1 1h-2v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h2v5a1 1 0 0 0 1 1h4a1 1 0 0 0 0-2h-3V5h3.17a1.05 1.05 0 0 1 .71.29l4.83 4.83a1 1 0 0 1 .29.71z"/></g></g>',"scissors-outline":'<g data-name="Layer 2"><g data-name="scissors"><rect width="24" height="24" opacity="0"/><path d="M20.21 5.71a1 1 0 1 0-1.42-1.42l-6.28 6.31-3.3-3.31A3 3 0 0 0 9.5 6a3 3 0 1 0-3 3 3 3 0 0 0 1.29-.3L11.1 12l-3.29 3.3A3 3 0 0 0 6.5 15a3 3 0 1 0 3 3 3 3 0 0 0-.29-1.26zM6.5 7a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15.21 13.29a1 1 0 0 0-1.42 1.42l5 5a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"search-outline":'<g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g>',"settings-2-outline":'<g data-name="Layer 2"><g data-name="settings-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12.94 22h-1.89a1.68 1.68 0 0 1-1.68-1.68v-1.09a.34.34 0 0 0-.22-.29.38.38 0 0 0-.41 0l-.74.8a1.67 1.67 0 0 1-2.37 0L4.26 18.4a1.66 1.66 0 0 1-.5-1.19 1.72 1.72 0 0 1 .5-1.21l.74-.74a.34.34 0 0 0 0-.37c-.06-.15-.16-.26-.3-.26H3.68A1.69 1.69 0 0 1 2 12.94v-1.89a1.68 1.68 0 0 1 1.68-1.68h1.09a.34.34 0 0 0 .29-.22.38.38 0 0 0 0-.41L4.26 8a1.67 1.67 0 0 1 0-2.37L5.6 4.26a1.65 1.65 0 0 1 1.18-.5 1.72 1.72 0 0 1 1.22.5l.74.74a.34.34 0 0 0 .37 0c.15-.06.26-.16.26-.3V3.68A1.69 1.69 0 0 1 11.06 2H13a1.68 1.68 0 0 1 1.68 1.68v1.09a.34.34 0 0 0 .22.29.38.38 0 0 0 .41 0l.69-.8a1.67 1.67 0 0 1 2.37 0l1.37 1.34a1.67 1.67 0 0 1 .5 1.19 1.63 1.63 0 0 1-.5 1.21l-.74.74a.34.34 0 0 0 0 .37c.06.15.16.26.3.26h1.09A1.69 1.69 0 0 1 22 11.06V13a1.68 1.68 0 0 1-1.68 1.68h-1.09a.34.34 0 0 0-.29.22.34.34 0 0 0 0 .37l.77.77a1.67 1.67 0 0 1 0 2.37l-1.31 1.33a1.65 1.65 0 0 1-1.18.5 1.72 1.72 0 0 1-1.19-.5l-.77-.74a.34.34 0 0 0-.37 0c-.15.06-.26.16-.26.3v1.09A1.69 1.69 0 0 1 12.94 22zm-1.57-2h1.26v-.77a2.33 2.33 0 0 1 1.46-2.14 2.36 2.36 0 0 1 2.59.47l.54.54.88-.88-.54-.55a2.34 2.34 0 0 1-.48-2.56 2.33 2.33 0 0 1 2.14-1.45H20v-1.29h-.77a2.33 2.33 0 0 1-2.14-1.46 2.36 2.36 0 0 1 .47-2.59l.54-.54-.88-.88-.55.54a2.39 2.39 0 0 1-4-1.67V4h-1.3v.77a2.33 2.33 0 0 1-1.46 2.14 2.36 2.36 0 0 1-2.59-.47l-.54-.54-.88.88.54.55a2.39 2.39 0 0 1-1.67 4H4v1.26h.77a2.33 2.33 0 0 1 2.14 1.46 2.36 2.36 0 0 1-.47 2.59l-.54.54.88.88.55-.54a2.39 2.39 0 0 1 4 1.67z" data-name="&lt;Group&gt;"/><path d="M12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5zm0-5a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5z"/></g></g>',"settings-outline":'<g data-name="Layer 2"><g data-name="settings"><rect width="24" height="24" opacity="0"/><path d="M8.61 22a2.25 2.25 0 0 1-1.35-.46L5.19 20a2.37 2.37 0 0 1-.49-3.22 2.06 2.06 0 0 0 .23-1.86l-.06-.16a1.83 1.83 0 0 0-1.12-1.22h-.16a2.34 2.34 0 0 1-1.48-2.94L2.93 8a2.18 2.18 0 0 1 1.12-1.41 2.14 2.14 0 0 1 1.68-.12 1.93 1.93 0 0 0 1.78-.29l.13-.1a1.94 1.94 0 0 0 .73-1.51v-.24A2.32 2.32 0 0 1 10.66 2h2.55a2.26 2.26 0 0 1 1.6.67 2.37 2.37 0 0 1 .68 1.68v.28a1.76 1.76 0 0 0 .69 1.43l.11.08a1.74 1.74 0 0 0 1.59.26l.34-.11A2.26 2.26 0 0 1 21.1 7.8l.79 2.52a2.36 2.36 0 0 1-1.46 2.93l-.2.07A1.89 1.89 0 0 0 19 14.6a2 2 0 0 0 .25 1.65l.26.38a2.38 2.38 0 0 1-.5 3.23L17 21.41a2.24 2.24 0 0 1-3.22-.53l-.12-.17a1.75 1.75 0 0 0-1.5-.78 1.8 1.8 0 0 0-1.43.77l-.23.33A2.25 2.25 0 0 1 9 22a2 2 0 0 1-.39 0zM4.4 11.62a3.83 3.83 0 0 1 2.38 2.5v.12a4 4 0 0 1-.46 3.62.38.38 0 0 0 0 .51L8.47 20a.25.25 0 0 0 .37-.07l.23-.33a3.77 3.77 0 0 1 6.2 0l.12.18a.3.3 0 0 0 .18.12.25.25 0 0 0 .19-.05l2.06-1.56a.36.36 0 0 0 .07-.49l-.26-.38A4 4 0 0 1 17.1 14a3.92 3.92 0 0 1 2.49-2.61l.2-.07a.34.34 0 0 0 .19-.44l-.78-2.49a.35.35 0 0 0-.2-.19.21.21 0 0 0-.19 0l-.34.11a3.74 3.74 0 0 1-3.43-.57L15 7.65a3.76 3.76 0 0 1-1.49-3v-.31a.37.37 0 0 0-.1-.26.31.31 0 0 0-.21-.08h-2.54a.31.31 0 0 0-.29.33v.25a3.9 3.9 0 0 1-1.52 3.09l-.13.1a3.91 3.91 0 0 1-3.63.59.22.22 0 0 0-.14 0 .28.28 0 0 0-.12.15L4 11.12a.36.36 0 0 0 .22.45z" data-name="&lt;Group&gt;"/><path d="M12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5zm0-5a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5z"/></g></g>',"shake-outline":'<g data-name="Layer 2"><g data-name="shake"><rect width="24" height="24" opacity="0"/><path d="M5.5 18a1 1 0 0 1-.64-.24A8.81 8.81 0 0 1 1.5 11a8.81 8.81 0 0 1 3.36-6.76 1 1 0 1 1 1.28 1.52A6.9 6.9 0 0 0 3.5 11a6.9 6.9 0 0 0 2.64 5.24 1 1 0 0 1 .13 1.4 1 1 0 0 1-.77.36z"/><path d="M12 7a4.09 4.09 0 0 1 1 .14V3a1 1 0 0 0-2 0v4.14A4.09 4.09 0 0 1 12 7z"/><path d="M12 15a4.09 4.09 0 0 1-1-.14V20a1 1 0 0 0 2 0v-5.14a4.09 4.09 0 0 1-1 .14z"/><path d="M16 16a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A4.28 4.28 0 0 0 17 11a4.28 4.28 0 0 0-1.64-3.24 1 1 0 1 1 1.28-1.52A6.2 6.2 0 0 1 19 11a6.2 6.2 0 0 1-2.36 4.76A1 1 0 0 1 16 16z"/><path d="M8 16a1 1 0 0 1-.64-.24A6.2 6.2 0 0 1 5 11a6.2 6.2 0 0 1 2.36-4.76 1 1 0 1 1 1.28 1.52A4.28 4.28 0 0 0 7 11a4.28 4.28 0 0 0 1.64 3.24 1 1 0 0 1 .13 1.4A1 1 0 0 1 8 16z"/><path d="M18.5 18a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A6.9 6.9 0 0 0 20.5 11a6.9 6.9 0 0 0-2.64-5.24 1 1 0 1 1 1.28-1.52A8.81 8.81 0 0 1 22.5 11a8.81 8.81 0 0 1-3.36 6.76 1 1 0 0 1-.64.24z"/><path d="M12 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1zm0 0zm0 0zm0 0zm0 0zm0 0zm0 0z"/></g></g>',"share-outline":'<g data-name="Layer 2"><g data-name="share"><rect width="24" height="24" opacity="0"/><path d="M18 15a3 3 0 0 0-2.1.86L8 12.34V12v-.33l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3zm0-10a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM5 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm13 6a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"shield-off-outline":'<g data-name="Layer 2"><g data-name="shield-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12.3 19.68l-.3.17-.3-.17A13.15 13.15 0 0 1 5 8.23v-.14L5.16 8 3.73 6.56A2 2 0 0 0 3 8.09v.14a15.17 15.17 0 0 0 7.72 13.2l.3.17a2 2 0 0 0 2 0l.3-.17a15.22 15.22 0 0 0 3-2.27l-1.42-1.42a12.56 12.56 0 0 1-2.6 1.94z"/><path d="M20 6.34L13 2.4a2 2 0 0 0-2 0L7.32 4.49 8.78 6 12 4.15l7 3.94v.14a13 13 0 0 1-1.63 6.31L18.84 16A15.08 15.08 0 0 0 21 8.23v-.14a2 2 0 0 0-1-1.75z"/></g></g>',"shield-outline":'<g data-name="Layer 2"><g data-name="shield"><rect width="24" height="24" opacity="0"/><path d="M12 21.85a2 2 0 0 1-1-.25l-.3-.17A15.17 15.17 0 0 1 3 8.23v-.14a2 2 0 0 1 1-1.75l7-3.94a2 2 0 0 1 2 0l7 3.94a2 2 0 0 1 1 1.75v.14a15.17 15.17 0 0 1-7.72 13.2l-.3.17a2 2 0 0 1-.98.25zm0-17.7L5 8.09v.14a13.15 13.15 0 0 0 6.7 11.45l.3.17.3-.17A13.15 13.15 0 0 0 19 8.23v-.14z"/></g></g>',"shopping-bag-outline":'<g data-name="Layer 2"><g data-name="shopping-bag"><rect width="24" height="24" opacity="0"/><path d="M20.12 6.71l-2.83-2.83A3 3 0 0 0 15.17 3H8.83a3 3 0 0 0-2.12.88L3.88 6.71A3 3 0 0 0 3 8.83V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8.83a3 3 0 0 0-.88-2.12zm-12-1.42A1.05 1.05 0 0 1 8.83 5h6.34a1.05 1.05 0 0 1 .71.29L17.59 7H6.41zM18 19H6a1 1 0 0 1-1-1V9h14v9a1 1 0 0 1-1 1z"/><path d="M15 11a1 1 0 0 0-1 1 2 2 0 0 1-4 0 1 1 0 0 0-2 0 4 4 0 0 0 8 0 1 1 0 0 0-1-1z"/></g></g>',"shopping-cart-outline":'<g data-name="Layer 2"><g data-name="shopping-cart"><rect width="24" height="24" opacity="0"/><path d="M21.08 7a2 2 0 0 0-1.7-1H6.58L6 3.74A1 1 0 0 0 5 3H3a1 1 0 0 0 0 2h1.24L7 15.26A1 1 0 0 0 8 16h9a1 1 0 0 0 .89-.55l3.28-6.56A2 2 0 0 0 21.08 7zm-4.7 7H8.76L7.13 8h12.25z"/><circle cx="7.5" cy="19.5" r="1.5"/><circle cx="17.5" cy="19.5" r="1.5"/></g></g>',"shuffle-2-outline":'<g data-name="Layer 2"><g data-name="shuffle-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.71 14.29a1 1 0 0 0-1.42 1.42l.29.29H16a4 4 0 0 1 0-8h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 10a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 7a1 1 0 0 0-.29-.71l-2-2a1 1 0 0 0-1.42 1.42l.29.29H16a6 6 0 0 0-5 2.69A6 6 0 0 0 6 6H4a1 1 0 0 0 0 2h2a4 4 0 0 1 0 8H4a1 1 0 0 0 0 2h2a6 6 0 0 0 5-2.69A6 6 0 0 0 16 18h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 20a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 17a1 1 0 0 0-.29-.71z"/></g></g>',"shuffle-outline":'<g data-name="Layer 2"><g data-name="shuffle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 9.31a1 1 0 0 0 1 1 1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-4.3a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1.89L12 10.59 6.16 4.76a1 1 0 0 0-1.41 1.41L10.58 12l-6.29 6.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42z"/><path d="M19 13.68a1 1 0 0 0-1 1v1.91l-2.78-2.79a1 1 0 0 0-1.42 1.42L16.57 18h-1.88a1 1 0 0 0 0 2H19a1 1 0 0 0 1-1.11v-4.21a1 1 0 0 0-1-1z"/></g></g>',"skip-back-outline":'<g data-name="Layer 2"><g data-name="skip-back"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16.45 6.2a2.1 2.1 0 0 0-2.21.26l-5.1 4.21-.14.15V7a1 1 0 0 0-2 0v10a1 1 0 0 0 2 0v-3.82l.14.15 5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59zM15.5 16l-4.82-4 4.82-3.91z"/></g></g>',"skip-forward-outline":'<g data-name="Layer 2"><g data-name="skip-forward"><rect width="24" height="24" opacity="0"/><path d="M16 6a1 1 0 0 0-1 1v3.82l-.14-.15-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21.14-.15V17a1 1 0 0 0 2 0V7a1 1 0 0 0-1-1zm-7.5 9.91V8l4.82 4z"/></g></g>',"slash-outline":'<g data-name="Layer 2"><g data-name="slash"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm8 10a7.92 7.92 0 0 1-1.69 4.9L7.1 5.69A7.92 7.92 0 0 1 12 4a8 8 0 0 1 8 8zM4 12a7.92 7.92 0 0 1 1.69-4.9L16.9 18.31A7.92 7.92 0 0 1 12 20a8 8 0 0 1-8-8z"/></g></g>',"smartphone-outline":'<g data-name="Layer 2"><g data-name="smartphone"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm1 17a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><circle cx="12" cy="16.5" r="1.5"/><path d="M14.5 6h-5a1 1 0 0 0 0 2h5a1 1 0 0 0 0-2z"/></g></g>',"smiling-face-outline":'<defs><style/></defs><g id="Layer_2" data-name="Layer 2"><g id="smiling-face"><g id="smiling-face" data-name="smiling-face"><rect width="24" height="24" opacity="0"/><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm5 9a5 5 0 0 1-10 0z" id="&#x1F3A8;-Icon-&#x421;olor"/></g></g></g>',"speaker-outline":'<g data-name="Layer 2"><g data-name="speaker"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 11a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M12 12a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 12zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 17z"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm1 17a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/></g></g>',"square-outline":'<g data-name="Layer 2"><g data-name="square"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/></g></g>',"star-outline":'<g data-name="Layer 2"><g data-name="star"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.56 21a1 1 0 0 1-.46-.11L12 18.22l-5.1 2.67a1 1 0 0 1-1.45-1.06l1-5.63-4.12-4a1 1 0 0 1-.25-1 1 1 0 0 1 .81-.68l5.7-.83 2.51-5.13a1 1 0 0 1 1.8 0l2.54 5.12 5.7.83a1 1 0 0 1 .81.68 1 1 0 0 1-.25 1l-4.12 4 1 5.63a1 1 0 0 1-.4 1 1 1 0 0 1-.62.18zM12 16.1a.92.92 0 0 1 .46.11l3.77 2-.72-4.21a1 1 0 0 1 .29-.89l3-2.93-4.2-.62a1 1 0 0 1-.71-.56L12 5.25 10.11 9a1 1 0 0 1-.75.54l-4.2.62 3 2.93a1 1 0 0 1 .29.89l-.72 4.16 3.77-2a.92.92 0 0 1 .5-.04z"/></g></g>',"stop-circle-outline":'<g data-name="Layer 2"><g data-name="stop-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.75 8h-5.5A1.25 1.25 0 0 0 8 9.25v5.5A1.25 1.25 0 0 0 9.25 16h5.5A1.25 1.25 0 0 0 16 14.75v-5.5A1.25 1.25 0 0 0 14.75 8zM14 14h-4v-4h4z"/></g></g>',"sun-outline":'<g data-name="Layer 2"><g data-name="sun"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/><path d="M12 8a4 4 0 1 0 4 4 4 4 0 0 0-4-4zm0 6a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"swap-outline":'<g data-name="Layer 2"><g data-name="swap"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M4 9h13l-1.6 1.2a1 1 0 0 0-.2 1.4 1 1 0 0 0 .8.4 1 1 0 0 0 .6-.2l4-3a1 1 0 0 0 0-1.59l-3.86-3a1 1 0 0 0-1.23 1.58L17.08 7H4a1 1 0 0 0 0 2z"/><path d="M20 16H7l1.6-1.2a1 1 0 0 0-1.2-1.6l-4 3a1 1 0 0 0 0 1.59l3.86 3a1 1 0 0 0 .61.21 1 1 0 0 0 .79-.39 1 1 0 0 0-.17-1.4L6.92 18H20a1 1 0 0 0 0-2z"/></g></g>',"sync-outline":'<g data-name="Layer 2"><g data-name="sync"><rect width="24" height="24" opacity="0"/><path d="M21.66 10.37a.62.62 0 0 0 .07-.19l.75-4a1 1 0 0 0-2-.36l-.37 2a9.22 9.22 0 0 0-16.58.84 1 1 0 0 0 .55 1.3 1 1 0 0 0 1.31-.55A7.08 7.08 0 0 1 12.07 5a7.17 7.17 0 0 1 6.24 3.58l-1.65-.27a1 1 0 1 0-.32 2l4.25.71h.16a.93.93 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.08-.1a1.07 1.07 0 0 0 .14-.16.58.58 0 0 0 .05-.16z"/><path d="M19.88 14.07a1 1 0 0 0-1.31.56A7.08 7.08 0 0 1 11.93 19a7.17 7.17 0 0 1-6.24-3.58l1.65.27h.16a1 1 0 0 0 .16-2L3.41 13a.91.91 0 0 0-.33 0H3a1.15 1.15 0 0 0-.32.14 1 1 0 0 0-.18.18l-.09.1a.84.84 0 0 0-.07.19.44.44 0 0 0-.07.17l-.75 4a1 1 0 0 0 .8 1.22h.18a1 1 0 0 0 1-.82l.37-2a9.22 9.22 0 0 0 16.58-.83 1 1 0 0 0-.57-1.28z"/></g></g>',"text-outline":'<g data-name="Layer 2"><g data-name="text"><rect width="24" height="24" opacity="0"/><path d="M20 4H4a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0V6h6v13H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2h-2V6h6v2a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/></g></g>',"thermometer-minus-outline":'<g data-name="Layer 2"><g data-name="thermometer-minus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 11 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4z"/></g></g>',"thermometer-outline":'<g data-name="Layer 2"><g data-name="thermometer"><rect width="24" height="24" opacity="0"/><path d="M12 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 9 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 12 4z"/></g></g>',"thermometer-plus-outline":'<g data-name="Layer 2"><g data-name="thermometer-plus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1" transform="rotate(-90 5 6)"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 11 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4z"/></g></g>',"toggle-left-outline":'<g data-name="Layer 2"><g data-name="toggle-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 12H9A5 5 0 0 1 9 7h6a5 5 0 0 1 0 10z"/><path d="M9 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"toggle-right-outline":'<g data-name="Layer 2"><g data-name="toggle-right"><rect width="24" height="24" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 12H9A5 5 0 0 1 9 7h6a5 5 0 0 1 0 10z"/><path d="M15 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"trash-2-outline":'<g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/><path d="M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/><path d="M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/></g></g>',"trash-outline":'<g data-name="Layer 2"><g data-name="trash"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/></g></g>',"trending-down-outline":'<g data-name="Layer 2"><g data-name="trending-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 12a1 1 0 0 0-2 0v2.3l-4.24-5a1 1 0 0 0-1.27-.21L9.22 11.7 4.77 6.36a1 1 0 1 0-1.54 1.28l5 6a1 1 0 0 0 1.28.22l4.28-2.57 4 4.71H15a1 1 0 0 0 0 2h5a1.1 1.1 0 0 0 .36-.07l.14-.08a1.19 1.19 0 0 0 .15-.09.75.75 0 0 0 .14-.17 1.1 1.1 0 0 0 .09-.14.64.64 0 0 0 .05-.17A.78.78 0 0 0 21 17z"/></g></g>',"trending-up-outline":'<g data-name="Layer 2"><g data-name="trending-up"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 7a.78.78 0 0 0 0-.21.64.64 0 0 0-.05-.17 1.1 1.1 0 0 0-.09-.14.75.75 0 0 0-.14-.17l-.12-.07a.69.69 0 0 0-.19-.1h-.2A.7.7 0 0 0 20 6h-5a1 1 0 0 0 0 2h2.83l-4 4.71-4.32-2.57a1 1 0 0 0-1.28.22l-5 6a1 1 0 0 0 .13 1.41A1 1 0 0 0 4 18a1 1 0 0 0 .77-.36l4.45-5.34 4.27 2.56a1 1 0 0 0 1.27-.21L19 9.7V12a1 1 0 0 0 2 0V7z"/></g></g>',"tv-outline":'<g data-name="Layer 2"><g data-name="tv"><rect width="24" height="24" opacity="0"/><path d="M18 6h-3.59l2.3-2.29a1 1 0 1 0-1.42-1.42L12 5.59l-3.29-3.3a1 1 0 1 0-1.42 1.42L9.59 6H6a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/></g></g>',"twitter-outline":'<g data-name="Layer 2"><g data-name="twitter"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M8.51 20h-.08a10.87 10.87 0 0 1-4.65-1.09A1.38 1.38 0 0 1 3 17.47a1.41 1.41 0 0 1 1.16-1.18 6.63 6.63 0 0 0 2.54-.89 9.49 9.49 0 0 1-3.51-9.07 1.41 1.41 0 0 1 1-1.15 1.35 1.35 0 0 1 1.43.41 7.09 7.09 0 0 0 4.88 2.75 4.5 4.5 0 0 1 1.41-3.1 4.47 4.47 0 0 1 6.37.19.7.7 0 0 0 .78.1A1.39 1.39 0 0 1 21 7.13a6.66 6.66 0 0 1-1.28 2.6A10.79 10.79 0 0 1 8.51 20zm0-2h.08a8.79 8.79 0 0 0 9.09-8.59 1.32 1.32 0 0 1 .37-.85 5.19 5.19 0 0 0 .62-1 2.56 2.56 0 0 1-1.91-.85A2.45 2.45 0 0 0 15 6a2.5 2.5 0 0 0-1.79.69 2.53 2.53 0 0 0-.72 2.42l.26 1.14-1.17.08a8.3 8.3 0 0 1-6.54-2.4 7.12 7.12 0 0 0 3.73 6.46l.95.54-.63.9a5.62 5.62 0 0 1-2.68 1.92A8.34 8.34 0 0 0 8.5 18zM19 6.65z"/></g></g>',"umbrella-outline":'<g data-name="Layer 2"><g data-name="umbrella"><rect width="24" height="24" opacity="0"/><path d="M12 2A10 10 0 0 0 2 12a1 1 0 0 0 1 1h8v6a3 3 0 0 0 6 0 1 1 0 0 0-2 0 1 1 0 0 1-2 0v-6h8a1 1 0 0 0 1-1A10 10 0 0 0 12 2zm-7.94 9a8 8 0 0 1 15.88 0z"/></g></g>',"undo-outline":'<g data-name="Layer 2"><g data-name="undo"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M20.22 21a1 1 0 0 1-1-.76 8.91 8.91 0 0 0-7.8-6.69v1.12a1.78 1.78 0 0 1-1.09 1.64A2 2 0 0 1 8.18 16l-5.06-4.41a1.76 1.76 0 0 1 0-2.68l5.06-4.42a2 2 0 0 1 2.18-.3 1.78 1.78 0 0 1 1.09 1.64V7A10.89 10.89 0 0 1 21.5 17.75a10.29 10.29 0 0 1-.31 2.49 1 1 0 0 1-1 .76zm-9.77-9.5a11.07 11.07 0 0 1 8.81 4.26A9 9 0 0 0 10.45 9a1 1 0 0 1-1-1V6.08l-4.82 4.17 4.82 4.21v-2a1 1 0 0 1 1-.96z"/></g></g>',"unlock-outline":'<g data-name="Layer 2"><g data-name="unlock"><rect width="24" height="24" opacity="0"/><path d="M17 8h-7V6a2 2 0 0 1 4 0 1 1 0 0 0 2 0 4 4 0 0 0-8 0v2H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><path d="M12 12a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"upload-outline":'<g data-name="Layer 2"><g data-name="upload"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="4" y="4" width="16" height="2" rx="1" ry="1" transform="rotate(180 12 5)"/><rect x="17" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 19 6)"/><rect x="3" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 5 6)"/><path d="M8 14a1 1 0 0 1-.8-.4 1 1 0 0 1 .2-1.4l4-3a1 1 0 0 1 1.18 0l4 2.82a1 1 0 0 1 .24 1.39 1 1 0 0 1-1.4.24L12 11.24 8.6 13.8a1 1 0 0 1-.6.2z"/><path d="M12 21a1 1 0 0 1-1-1v-8a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"video-off-outline":'<g data-name="Layer 2"><g data-name="video-off"><rect width="24" height="24" opacity="0"/><path d="M17 15.59l-2-2L8.41 7l-2-2-1.7-1.71a1 1 0 0 0-1.42 1.42l.54.53L5.59 7l9.34 9.34 1.46 1.46 2.9 2.91a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M14 17H5a1 1 0 0 1-1-1V8a1 1 0 0 1 .4-.78L3 5.8A3 3 0 0 0 2 8v8a3 3 0 0 0 3 3h9a2.94 2.94 0 0 0 1.66-.51L14.14 17a.7.7 0 0 1-.14 0z"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H7.83l2 2H14a1 1 0 0 1 1 1v4.17l4.72 4.72a1.73 1.73 0 0 0 .6.11 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15zm-1 7.45L17.19 12 20 9.4z"/></g></g>',"video-outline":'<g data-name="Layer 2"><g data-name="video"><rect width="24" height="24" opacity="0"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h9a3 3 0 0 0 3-3v-1.45l2.16 2a1.74 1.74 0 0 0 1.16.45 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15zM15 16a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1zm5-1.4L17.19 12 20 9.4z"/></g></g>',"volume-down-outline":'<g data-name="Layer 2"><g data-name="volume-down"><rect width="24" height="24" opacity="0"/><path d="M20.78 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 20 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M16.47 3.12a1 1 0 0 0-1 0L9 7.57H4a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 16 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88zM15 18.1l-5.1-3.5a1 1 0 0 0-.57-.17H5V9.57h4.33a1 1 0 0 0 .57-.17L15 5.9z"/></g></g>',"volume-mute-outline":'<g data-name="Layer 2"><g data-name="volume-mute"><rect width="24" height="24" opacity="0"/><path d="M17 21a1.06 1.06 0 0 1-.57-.17L10 16.43H5a1 1 0 0 1-1-1V8.57a1 1 0 0 1 1-1h5l6.41-4.4A1 1 0 0 1 18 4v16a1 1 0 0 1-1 1zM6 14.43h4.33a1 1 0 0 1 .57.17l5.1 3.5V5.9l-5.1 3.5a1 1 0 0 1-.57.17H6z"/></g></g>',"volume-off-outline":'<g data-name="Layer 2"><g data-name="volume-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M16.91 14.08l1.44 1.44a6 6 0 0 0-.07-7.15 1 1 0 1 0-1.56 1.26 4 4 0 0 1 .19 4.45z"/><path d="M21 12a6.51 6.51 0 0 1-1.78 4.39l1.42 1.42A8.53 8.53 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77 1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12z"/><path d="M13.5 18.1l-5.1-3.5a1 1 0 0 0-.57-.17H3.5V9.57h3.24l-2-2H2.5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1v-1.67l-2-2z"/><path d="M13.5 5.9v4.77l2 2V4a1 1 0 0 0-1.57-.83L9.23 6.4l1.44 1.44z"/></g></g>',"volume-up-outline":'<g data-name="Layer 2"><g data-name="volume-up"><rect width="24" height="24" opacity="0"/><path d="M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"/><path d="M15 3.12a1 1 0 0 0-1 0L7.52 7.57h-5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1V4a1 1 0 0 0-.5-.88zm-1.47 15L8.4 14.6a1 1 0 0 0-.57-.17H3.5V9.57h4.33a1 1 0 0 0 .57-.17l5.1-3.5z"/></g></g>',"wifi-off-outline":'<g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"/><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"/><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"/><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"/><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"/></g></g>',"wifi-outline":'<g data-name="Layer 2"><g data-name="wifi"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12 14a5 5 0 0 0-3.47 1.4 1 1 0 1 0 1.39 1.44 3.08 3.08 0 0 1 4.16 0 1 1 0 1 0 1.39-1.44A5 5 0 0 0 12 14z"/><path d="M12 9a9 9 0 0 0-6.47 2.75A1 1 0 0 0 7 13.14a7 7 0 0 1 10.08 0 1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9z"/><path d="M21.72 7.93a14 14 0 0 0-19.44 0 1 1 0 0 0 1.38 1.44 12 12 0 0 1 16.68 0 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.41z"/></g></g>'}},"./package/src/animation.scss":function(Le,te,ie){var w=0,V=ie("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./package/src/animation.scss"),o=ie("./node_modules/isomorphic-style-loader/insertCss.js"),ae=typeof V=="string"?[[Le.i,V,""]]:V;if(te=Le.exports=V.locals||{},te._getContent=function(){return ae},te._getCss=function(){return""+V},te._insertCss=function(pt){return o(ae,pt)},0)var Qe},"./package/src/default-attrs.json":function(Le){Le.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"}},"./package/src/icon.js":function(Le,te,ie){"use strict";ie.r(te);var w=ie("./node_modules/classnames/dedupe.js"),V=ie.n(w),o=ie("./package/src/default-attrs.json"),ae=ie.t("./package/src/default-attrs.json",1);function Qe(He,at){if(He==null)return{};var ct=pt(He,at),yt,Se;if(Object.getOwnPropertySymbols){var ai=Object.getOwnPropertySymbols(He);for(Se=0;Se<ai.length;Se++)yt=ai[Se],!(at.indexOf(yt)>=0)&&Object.prototype.propertyIsEnumerable.call(He,yt)&&(ct[yt]=He[yt])}return ct}function pt(He,at){if(He==null)return{};var ct={},yt=Object.keys(He),Se,ai;for(ai=0;ai<yt.length;ai++)Se=yt[ai],!(at.indexOf(Se)>=0)&&(ct[Se]=He[Se]);return ct}function Je(He){for(var at=1;at<arguments.length;at++){var ct=arguments[at]!=null?arguments[at]:{},yt=Object.keys(ct);typeof Object.getOwnPropertySymbols=="function"&&(yt=yt.concat(Object.getOwnPropertySymbols(ct).filter(function(Se){return Object.getOwnPropertyDescriptor(ct,Se).enumerable}))),yt.forEach(function(Se){ht(He,Se,ct[Se])})}return He}function ht(He,at,ct){return at in He?Object.defineProperty(He,at,{value:ct,enumerable:!0,configurable:!0,writable:!0}):He[at]=ct,He}function Ht(He,at){if(!(He instanceof at))throw new TypeError("Cannot call a class as a function")}function $t(He,at){for(var ct=0;ct<at.length;ct++){var yt=at[ct];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(He,yt.key,yt)}}function Yi(He,at,ct){return at&&$t(He.prototype,at),ct&&$t(He,ct),He}var Bi={hover:!0},li=function(at){return typeof at=="string"||at instanceof String},Nt=function(){function He(at,ct){Ht(this,He),this.name=at,this.contents=ct,this.attrs=Je({},o,{class:"eva eva-".concat(at)})}return Yi(He,[{key:"toSvg",value:function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},yt=ct.animation,Se=Qe(ct,["animation"]),ai=et(yt),Ln=ai?ai.class:"",Mt=Je({},this.attrs,Se,{class:V()(this.attrs.class,ct.class,Ln)}),xi="<svg ".concat(ut(Mt),">").concat(this.contents,"</svg>");return ai&&ai.hover?'<i class="eva-hover">'.concat(xi,"</i>"):xi}},{key:"toString",value:function(){return this.contents}}]),He}();function et(He){if(!He)return null;He.hover&&(He.hover=li(He.hover)?JSON.parse(He.hover):He.hover);var at=Je({},Bi,He),ct=at.hover?"eva-icon-hover-".concat(at.type):"eva-icon-".concat(at.type);return at.class=V()({"eva-animation":!0,"eva-infinite":li(He.infinite)?JSON.parse(He.infinite):He.infinite},ct),at}function ut(He){return Object.keys(He).map(function(at){return"".concat(at,'="').concat(He[at],'"')}).join(" ")}te.default=Nt},"./package/src/icons.js":function(Le,te,ie){"use strict";ie.r(te);var w=ie("./package/src/icon.js"),V=ie("./package-build/eva-icons.json"),o=ie.t("./package-build/eva-icons.json",1);te.default=Object.keys(V).map(function(ae){return new w.default(ae,V[ae])}).reduce(function(ae,Qe){return ae[Qe.name]=Qe,ae},{})},"./package/src/index.js":function(Le,te,ie){"use strict";ie.r(te);var w=ie("./package/src/icons.js");ie.d(te,"icons",function(){return w.default});var V=ie("./package/src/replace.js");ie.d(te,"replace",function(){return V.default});var o=ie("./package/src/animation.scss"),ae=ie.n(o);typeof window<"u"&&ae.a._insertCss()},"./package/src/replace.js":function(Le,te,ie){"use strict";ie.r(te);var w=ie("./node_modules/classnames/dedupe.js"),V=ie.n(w),o=ie("./package/src/icons.js");function ae(et){for(var ut=1;ut<arguments.length;ut++){var He=arguments[ut]!=null?arguments[ut]:{},at=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(at=at.concat(Object.getOwnPropertySymbols(He).filter(function(ct){return Object.getOwnPropertyDescriptor(He,ct).enumerable}))),at.forEach(function(ct){Qe(et,ct,He[ct])})}return et}function Qe(et,ut,He){return ut in et?Object.defineProperty(et,ut,{value:He,enumerable:!0,configurable:!0,writable:!0}):et[ut]=He,et}function pt(et,ut){if(et==null)return{};var He=Je(et,ut),at,ct;if(Object.getOwnPropertySymbols){var yt=Object.getOwnPropertySymbols(et);for(ct=0;ct<yt.length;ct++)at=yt[ct],!(ut.indexOf(at)>=0)&&Object.prototype.propertyIsEnumerable.call(et,at)&&(He[at]=et[at])}return He}function Je(et,ut){if(et==null)return{};var He={},at=Object.keys(et),ct,yt;for(yt=0;yt<at.length;yt++)ct=at[yt],!(ut.indexOf(ct)>=0)&&(He[ct]=et[ct]);return He}var ht={"data-eva-animation":"type","data-eva-hover":"hover","data-eva-infinite":"infinite"},Ht={"data-eva":"name","data-eva-width":"width","data-eva-height":"height","data-eva-fill":"fill"};function $t(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document>"u")throw new Error("`eva.replace()` only works in a browser environment.");var ut=document.querySelectorAll("[data-eva]");Array.from(ut).forEach(function(He){return Yi(He,et)})}function Yi(et){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},He=Bi(et),at=He.name,ct=pt(He,["name"]),yt=o.default[at].toSvg(ae({},ut,ct,{animation:Nt(ut.animation,ct.animation)},{class:V()(ut.class,ct.class)})),Se=new DOMParser().parseFromString(yt,"text/html"),ai=Se.querySelector(".eva-hover")||Se.querySelector("svg");et.parentNode.replaceChild(ai,et)}function Bi(et){return Array.from(et.attributes).reduce(function(ut,He){return ht[He.name]?ut.animation=ae({},ut.animation,Qe({},ht[He.name],He.value)):ut=ae({},ut,li(He)),ut},{})}function li(et){return Ht[et.name]?Qe({},Ht[et.name],et.value):Qe({},et.name,et.value)}function Nt(et,ut){return et||ut?ae({},et,ut):null}te.default=$t}})})});var ng={production:!0,configUrl:"/assets/app.config.json",mapBoxToken:"pk.eyJ1IjoibGNyb2phbm8iLCJhIjoiY2pvcWR3cW5mMDN6bzN3bW80aWJxdjNpcSJ9.I5uw6wlR0_mhp4LRHwD6lg"};var za=ef(og(),1);var X_=["content"],K_=["*"],Y_=["container"];var sg=new of("MapboxApiKey"),uo=(()=>{let te=class te{constructor(w,V){this.zone=w,this.MAPBOX_API_KEY=V,this.mapCreated=new rd,this.mapLoaded=new rd,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new tf,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}setup(w){this.zone.onStable.pipe(rf()).subscribe(()=>{w.customMapboxApiUrl&&(za.default.baseApiUrl=w.customMapboxApiUrl),this.createMap(id(M0({},w.mapOptions),{accessToken:w.accessToken||this.MAPBOX_API_KEY||""})),this.hookEvents(w.mapEvents),this.mapEvents=w.mapEvents,this.mapCreated.next(void 0),this.mapCreated.complete(),w.mapEvents.mapCreate.observed&&this.zone.run(()=>{w.mapEvents.mapCreate.emit(this.mapInstance)})})}destroyMap(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}updateProjection(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setProjection(w)})}updateMinZoom(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinZoom(w)})}updateMaxZoom(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxZoom(w)})}updateMinPitch(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinPitch(w)})}updateMaxPitch(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxPitch(w)})}updateRenderWorldCopies(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setRenderWorldCopies(w)})}updateScrollZoom(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.scrollZoom.enable():this.mapInstance.scrollZoom.disable()})}updateDragRotate(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.dragRotate.enable():this.mapInstance.dragRotate.disable()})}updateTouchPitch(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.touchPitch.enable():this.mapInstance.touchPitch.disable()})}updateTouchZoomRotate(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.touchZoomRotate.enable():this.mapInstance.touchZoomRotate.disable()})}updateDoubleClickZoom(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.doubleClickZoom.enable():this.mapInstance.doubleClickZoom.disable()})}updateKeyboard(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.keyboard.enable():this.mapInstance.keyboard.disable()})}updateDragPan(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()})}updateBoxZoom(w){return this.zone.runOutsideAngular(()=>{w?this.mapInstance.boxZoom.enable():this.mapInstance.boxZoom.disable()})}updateStyle(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setStyle(w)})}updateMaxBounds(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxBounds(w)})}changeCanvasCursor(w){let V=this.mapInstance.getCanvasContainer();V.style.cursor=w}queryRenderedFeatures(w,V){return this.mapInstance.queryRenderedFeatures(w,V)}panTo(w,V){return this.zone.runOutsideAngular(()=>{this.mapInstance.panTo(w,V)})}move(w,V,o,ae,Qe,pt){return this.zone.runOutsideAngular(()=>{this.mapInstance[w](id(M0({},V),{zoom:o??this.mapInstance.getZoom(),center:ae??this.mapInstance.getCenter(),bearing:Qe??this.mapInstance.getBearing(),pitch:pt??this.mapInstance.getPitch()}))})}addLayer(w,V,o){this.zone.runOutsideAngular(()=>{Object.keys(w.layerOptions).forEach(ae=>{let Qe=ae;w.layerOptions[Qe]===void 0&&delete w.layerOptions[Qe]}),this.mapInstance.addLayer(w.layerOptions,o),V&&((w.layerEvents.layerClick.observed||w.layerEvents.click.observed)&&this.mapInstance.on("click",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerClick.emit(ae),w.layerEvents.click.emit(ae)})}),(w.layerEvents.layerDblClick.observed||w.layerEvents.dblClick.observed)&&this.mapInstance.on("dblclick",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerDblClick.emit(ae),w.layerEvents.dblClick.emit(ae)})}),(w.layerEvents.layerMouseDown.observed||w.layerEvents.mouseDown.observed)&&this.mapInstance.on("mousedown",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerMouseDown.emit(ae),w.layerEvents.mouseDown.emit(ae)})}),(w.layerEvents.layerMouseUp.observed||w.layerEvents.mouseUp.observed)&&this.mapInstance.on("mouseup",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerMouseUp.emit(ae),w.layerEvents.mouseUp.emit(ae)})}),(w.layerEvents.layerMouseEnter.observed||w.layerEvents.mouseEnter.observed)&&this.mapInstance.on("mouseenter",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerMouseEnter.emit(ae),w.layerEvents.mouseEnter.emit(ae)})}),(w.layerEvents.layerMouseLeave.observed||w.layerEvents.mouseLeave.observed)&&this.mapInstance.on("mouseleave",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerMouseLeave.emit(ae),w.layerEvents.mouseLeave.emit(ae)})}),(w.layerEvents.layerMouseMove.observed||w.layerEvents.mouseMove.observed)&&this.mapInstance.on("mousemove",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerMouseMove.emit(ae),w.layerEvents.mouseMove.emit(ae)})}),(w.layerEvents.layerMouseOver.observed||w.layerEvents.mouseOver.observed)&&this.mapInstance.on("mouseover",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerMouseOver.emit(ae),w.layerEvents.mouseOver.emit(ae)})}),(w.layerEvents.layerMouseOut.observed||w.layerEvents.mouseOut.observed)&&this.mapInstance.on("mouseout",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerMouseOut.emit(ae),w.layerEvents.mouseOut.emit(ae)})}),(w.layerEvents.layerContextMenu.observed||w.layerEvents.contextMenu.observed)&&this.mapInstance.on("contextmenu",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerContextMenu.emit(ae),w.layerEvents.contextMenu.emit(ae)})}),(w.layerEvents.layerTouchStart.observed||w.layerEvents.touchStart.observed)&&this.mapInstance.on("touchstart",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerTouchStart.emit(ae),w.layerEvents.touchStart.emit(ae)})}),(w.layerEvents.layerTouchEnd.observed||w.layerEvents.touchEnd.observed)&&this.mapInstance.on("touchend",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerTouchEnd.emit(ae),w.layerEvents.touchEnd.emit(ae)})}),(w.layerEvents.layerTouchCancel.observed||w.layerEvents.touchCancel.observed)&&this.mapInstance.on("touchcancel",w.layerOptions.id,ae=>{this.zone.run(()=>{w.layerEvents.layerTouchCancel.emit(ae),w.layerEvents.touchCancel.emit(ae)})}))})}removeLayer(w){this.zone.runOutsideAngular(()=>{this.mapInstance.getLayer(w)!=null&&this.mapInstance.removeLayer(w)})}addMarker(w){let V={offset:w.markersOptions.offset,anchor:w.markersOptions.anchor,draggable:!!w.markersOptions.draggable,rotationAlignment:w.markersOptions.rotationAlignment,pitchAlignment:w.markersOptions.pitchAlignment,clickTolerance:w.markersOptions.clickTolerance};w.markersOptions.element.childNodes.length>0&&(V.element=w.markersOptions.element);let o=new za.default.Marker(V);(w.markersEvents.markerDragStart.observed||w.markersEvents.dragStart.observed)&&o.on("dragstart",Qe=>{if(Qe){let{target:pt}=Qe;this.zone.run(()=>{w.markersEvents.markerDragStart.emit(pt),w.markersEvents.dragStart.emit(pt)})}}),(w.markersEvents.markerDrag.observed||w.markersEvents.drag.observed)&&o.on("drag",Qe=>{if(Qe){let{target:pt}=Qe;this.zone.run(()=>{w.markersEvents.markerDrag.emit(pt),w.markersEvents.drag.emit(pt)})}}),(w.markersEvents.markerDragEnd.observed||w.markersEvents.dragEnd.observed)&&o.on("dragend",Qe=>{if(Qe){let{target:pt}=Qe;this.zone.run(()=>{w.markersEvents.markerDragEnd.emit(pt),w.markersEvents.dragEnd.emit(pt)})}});let ae=w.markersOptions.feature?w.markersOptions.feature.geometry.coordinates:w.markersOptions.lngLat;return o.setLngLat(ae),this.zone.runOutsideAngular(()=>(o.addTo(this.mapInstance),o))}removeMarker(w){this.markersToRemove.push(w)}createPopup(w,V){return this.zone.runOutsideAngular(()=>{Object.keys(w.popupOptions).forEach(ae=>w.popupOptions[ae]===void 0&&delete w.popupOptions[ae]);let o=new za.default.Popup(w.popupOptions);return o.setDOMContent(V),(w.popupEvents.popupClose.observed||w.popupEvents.close.observed)&&o.on("close",()=>{this.zone.run(()=>{w.popupEvents.popupClose.emit(),w.popupEvents.close.emit()})}),(w.popupEvents.popupOpen.observed||w.popupEvents.open.observed)&&o.on("open",()=>{this.zone.run(()=>{w.popupEvents.popupOpen.emit(),w.popupEvents.open.emit()})}),o})}addPopupToMap(w,V,o=!1){return this.zone.runOutsideAngular(()=>{o&&w._listeners&&delete w._listeners.open,w.setLngLat(V),w.addTo(this.mapInstance)})}addPopupToMarker(w,V){return this.zone.runOutsideAngular(()=>{w.setPopup(V)})}removePopupFromMap(w,V=!1){V&&w._listeners&&delete w._listeners.close,this.popupsToRemove.push(w)}removePopupFromMarker(w){return this.zone.runOutsideAngular(()=>{w.setPopup(void 0)})}addControl(w,V){return this.zone.runOutsideAngular(()=>{this.mapInstance.addControl(w,V)})}removeControl(w){return this.zone.runOutsideAngular(()=>{this.mapInstance.removeControl(w)})}loadAndAddImage(w,V,o){return ad(this,null,function*(){return this.zone.runOutsideAngular(()=>new Promise((ae,Qe)=>{this.mapInstance.loadImage(V,(pt,Je)=>{if(pt){Qe(pt);return}this.addImage(w,Je,o),ae()})}))})}addImage(w,V,o){return this.zone.runOutsideAngular(()=>{this.mapInstance.addImage(w,V,o)})}removeImage(w){this.imageIdsToRemove.push(w)}addSource(w,V){return this.zone.runOutsideAngular(()=>{Object.keys(V).forEach(o=>V[o]===void 0&&delete V[o]),this.mapInstance.addSource(w,V)})}getSource(w){return this.mapInstance.getSource(w)}removeSource(w){this.zone.runOutsideAngular(()=>{this.findLayersBySourceId(w).forEach(V=>this.mapInstance.removeLayer(V.id)),this.mapInstance.removeSource(w)})}setAllLayerPaintProperty(w,V){return this.zone.runOutsideAngular(()=>{Object.keys(V).forEach(o=>{this.mapInstance.setPaintProperty(w,o,V[o])})})}setAllLayerLayoutProperty(w,V){return this.zone.runOutsideAngular(()=>{Object.keys(V).forEach(o=>{this.mapInstance.setLayoutProperty(w,o,V[o])})})}setLayerFilter(w,V){return this.zone.runOutsideAngular(()=>{this.mapInstance.setFilter(w,V)})}setLayerBefore(w,V){return this.zone.runOutsideAngular(()=>{this.mapInstance.moveLayer(w,V)})}setLayerZoomRange(w,V,o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setLayerZoomRange(w,V||0,o||20)})}fitBounds(w,V){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitBounds(w,V)})}fitScreenCoordinates(w,V,o){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitScreenCoordinates(w[0],w[1],V,o)})}applyChanges(){this.zone.runOutsideAngular(()=>{this.removeMarkers(),this.removePopups(),this.removeImages()})}createMap(w){eh.assertNotInAngularZone(),Object.keys(w).forEach(o=>{let ae=o;w[ae]===void 0&&delete w[ae]}),this.mapInstance=new za.default.Map(w),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(w.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(()=>this.applyChanges()))}removeMarkers(){for(let w of this.markersToRemove)w.remove();this.markersToRemove=[]}removePopups(){for(let w of this.popupsToRemove)w.remove();this.popupsToRemove=[]}removeImages(){for(let w of this.imageIdsToRemove)this.mapInstance.removeImage(w);this.imageIdsToRemove=[]}findLayersBySourceId(w){let V=this.mapInstance.getStyle().layers;return V==null?[]:V.filter(o=>"source"in o?o.source===w:!1)}hookEvents(w){this.mapInstance.on("load",V=>{this.mapLoaded.next(void 0),this.mapLoaded.complete(),this.zone.run(()=>{w.mapLoad.emit(V),w.load.emit(V.target)})}),(w.mapResize.observed||w.resize.observed)&&this.mapInstance.on("resize",V=>this.zone.run(()=>{w.mapResize.emit(V),w.resize.emit(V)})),(w.mapRemove.observed||w.remove.observed)&&this.mapInstance.on("remove",V=>this.zone.run(()=>{w.mapRemove.emit(V),w.remove.emit(V)})),(w.mapMouseDown.observed||w.mouseDown.observed)&&this.mapInstance.on("mousedown",V=>this.zone.run(()=>{w.mapMouseDown.emit(V),w.mouseDown.emit(V)})),(w.mapMouseUp.observed||w.mouseUp.observed)&&this.mapInstance.on("mouseup",V=>this.zone.run(()=>{w.mapMouseUp.emit(V),w.mouseUp.emit(V)})),(w.mapMouseMove.observed||w.mouseMove.observed)&&this.mapInstance.on("mousemove",V=>this.zone.run(()=>{w.mapMouseMove.emit(V),w.mouseMove.emit(V)})),(w.mapClick.observed||w.click.observed)&&this.mapInstance.on("click",V=>this.zone.run(()=>{w.mapClick.emit(V),w.click.emit(V)})),(w.mapDblClick.observed||w.dblClick.observed)&&this.mapInstance.on("dblclick",V=>this.zone.run(()=>{w.mapDblClick.emit(V),w.dblClick.emit(V)})),(w.mapMouseOver.observed||w.mouseOver.observed)&&this.mapInstance.on("mouseover",V=>this.zone.run(()=>{w.mapMouseOver.emit(V),w.mouseOver.emit(V)})),(w.mapMouseOut.observed||w.mouseOut.observed)&&this.mapInstance.on("mouseout",V=>this.zone.run(()=>{w.mapMouseOut.emit(V),w.mouseOut.emit(V)})),(w.mapContextMenu.observed||w.contextMenu.observed)&&this.mapInstance.on("contextmenu",V=>this.zone.run(()=>{w.mapContextMenu.emit(V),w.contextMenu.emit(V)})),(w.mapTouchStart.observed||w.touchStart.observed)&&this.mapInstance.on("touchstart",V=>this.zone.run(()=>{w.mapTouchStart.emit(V),w.touchStart.emit(V)})),(w.mapTouchEnd.observed||w.touchEnd.observed)&&this.mapInstance.on("touchend",V=>this.zone.run(()=>{w.mapTouchEnd.emit(V),w.touchEnd.emit(V)})),(w.mapTouchMove.observed||w.touchMove.observed)&&this.mapInstance.on("touchmove",V=>this.zone.run(()=>{w.mapTouchMove.emit(V),w.touchMove.emit(V)})),(w.mapTouchCancel.observed||w.touchCancel.observed)&&this.mapInstance.on("touchcancel",V=>this.zone.run(()=>{w.mapTouchCancel.emit(V),w.touchCancel.emit(V)})),(w.mapWheel.observed||w.wheel.observed)&&this.mapInstance.on("wheel",V=>this.zone.run(()=>{w.mapWheel.emit(V),w.wheel.emit(V)})),w.moveStart.observed&&this.mapInstance.on("movestart",V=>this.zone.run(()=>w.moveStart.emit(V))),w.move.observed&&this.mapInstance.on("move",V=>this.zone.run(()=>w.move.emit(V))),w.moveEnd.observed&&this.mapInstance.on("moveend",V=>this.zone.run(()=>w.moveEnd.emit(V))),(w.mapDragStart.observed||w.dragStart.observed)&&this.mapInstance.on("dragstart",V=>this.zone.run(()=>{w.mapDragStart.emit(V),w.dragStart.emit(V)})),(w.mapDrag.observed||w.drag.observed)&&this.mapInstance.on("drag",V=>this.zone.run(()=>{w.mapDrag.emit(V),w.drag.emit(V)})),(w.mapDragEnd.observed||w.dragEnd.observed)&&this.mapInstance.on("dragend",V=>this.zone.run(()=>{w.mapDragEnd.emit(V),w.dragEnd.emit(V)})),w.zoomStart.observed&&this.mapInstance.on("zoomstart",V=>this.zone.run(()=>w.zoomStart.emit(V))),w.zoomEvt.observed&&this.mapInstance.on("zoom",V=>this.zone.run(()=>w.zoomEvt.emit(V))),w.zoomEnd.observed&&this.mapInstance.on("zoomend",V=>this.zone.run(()=>w.zoomEnd.emit(V))),w.rotateStart.observed&&this.mapInstance.on("rotatestart",V=>this.zone.run(()=>w.rotateStart.emit(V))),w.rotate.observed&&this.mapInstance.on("rotate",V=>this.zone.run(()=>w.rotate.emit(V))),w.rotateEnd.observed&&this.mapInstance.on("rotateend",V=>this.zone.run(()=>w.rotateEnd.emit(V))),w.pitchStart.observed&&this.mapInstance.on("pitchstart",V=>this.zone.run(()=>w.pitchStart.emit(V))),w.pitchEvt.observed&&this.mapInstance.on("pitch",V=>this.zone.run(()=>w.pitchEvt.emit(V))),w.pitchEnd.observed&&this.mapInstance.on("pitchend",V=>this.zone.run(()=>w.pitchEnd.emit(V))),w.boxZoomStart.observed&&this.mapInstance.on("boxzoomstart",V=>this.zone.run(()=>w.boxZoomStart.emit(V))),w.boxZoomEnd.observed&&this.mapInstance.on("boxzoomend",V=>this.zone.run(()=>w.boxZoomEnd.emit(V))),w.boxZoomCancel.observed&&this.mapInstance.on("boxzoomcancel",V=>this.zone.run(()=>w.boxZoomCancel.emit(V))),w.webGlContextLost.observed&&this.mapInstance.on("webglcontextlost",V=>this.zone.run(()=>w.webGlContextLost.emit(V))),w.webGlContextRestored.observed&&this.mapInstance.on("webglcontextrestored",V=>this.zone.run(()=>w.webGlContextRestored.emit(V))),w.render.observed&&this.mapInstance.on("render",V=>this.zone.run(()=>w.render.emit(V))),(w.mapError.observed||w.error.observed)&&this.mapInstance.on("error",V=>this.zone.run(()=>{w.mapError.emit(V),w.error.emit(V)})),w.data.observed&&this.mapInstance.on("data",V=>this.zone.run(()=>w.data.emit(V))),w.styleData.observed&&this.mapInstance.on("styledata",V=>this.zone.run(()=>w.styleData.emit(V))),w.sourceData.observed&&this.mapInstance.on("sourcedata",V=>this.zone.run(()=>w.sourceData.emit(V))),w.dataLoading.observed&&this.mapInstance.on("dataloading",V=>this.zone.run(()=>w.dataLoading.emit(V))),w.styleDataLoading.observed&&this.mapInstance.on("styledataloading",V=>this.zone.run(()=>w.styleDataLoading.emit(V))),w.sourceDataLoading.observed&&this.mapInstance.on("sourcedataloading",V=>this.zone.run(()=>w.sourceDataLoading.emit(V))),w.styleImageMissing.observed&&this.mapInstance.on("styleimagemissing",V=>this.zone.run(()=>w.styleImageMissing.emit(V))),w.idle.observed&&this.mapInstance.on("idle",V=>this.zone.run(()=>w.idle.emit(V)))}assign(w,V,o){if(typeof V=="string"&&(V=V.split(".")),V.length>1){let ae=V.shift();this.assign(w[ae]=Object.prototype.toString.call(w[ae])==="[object Object]"?w[ae]:{},V,o)}else w[V[0]]=o}};te.\u0275fac=function(V){return new(V||te)(an(eh),an(sg,8))},te.\u0275prov=no({token:te,factory:te.\u0275fac});let Le=te;return Le})(),gd=class{constructor(te){this.container=te}onAdd(){return this.container}onRemove(){return this.container.parentNode.removeChild(this.container)}getDefaultPosition(){return"top-right"}},T0=(()=>{let te=class te{constructor(w){this.mapService=w,this.controlAdded=!1}ngAfterContentInit(){this.content.nativeElement.childNodes.length&&(this.control=new gd(this.content.nativeElement),this.mapService.mapCreated$.subscribe(()=>{this.mapService.addControl(this.control,this.position),this.controlAdded=!0}))}ngOnDestroy(){this.controlAdded&&this.mapService.removeControl(this.control)}};te.\u0275fac=function(V){return new(V||te)(_t(uo))},te.\u0275cmp=ui({type:te,selectors:[["mgl-control"]],viewQuery:function(V,o){if(V&1&&ld(X_,7),V&2){let ae;cd(ae=hd())&&(o.content=ae.first)}},inputs:{position:"position"},ngContentSelectors:K_,decls:3,vars:0,consts:[["content",""],[1,"mapboxgl-ctrl"]],template:function(V,o){V&1&&(zl(),Me(0,"div",1,0),so(2),Ce())},encapsulation:2,changeDetection:0});let Le=te;return Le})(),Jv=(()=>{let te=class te{constructor(w,V){this.mapService=w,this.controlComponent=V}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");let w={};this.compact!==void 0&&(w.compact=this.compact),this.customAttribution!==void 0&&(w.customAttribution=this.customAttribution),this.controlComponent.control=new za.AttributionControl(w),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}};te.\u0275fac=function(V){return new(V||te)(_t(uo),_t(T0,1))},te.\u0275dir=Ml({type:te,selectors:[["","mglAttribution",""]],inputs:{compact:"compact",customAttribution:"customAttribution"}});let Le=te;return Le})(),Qv=(()=>{let te=class te{constructor(w,V){this.mapService=w,this.controlComponent=V}onFullscreen(){this.mapService.mapInstance.resize()}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new za.FullscreenControl({container:this.container}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}};te.\u0275fac=function(V){return new(V||te)(_t(uo),_t(T0,1))},te.\u0275dir=Ml({type:te,selectors:[["","mglFullscreen",""]],hostBindings:function(V,o){V&1&&ii("webkitfullscreenchange",function(Qe){return o.onFullscreen(Qe.target)},!1,lf)},inputs:{container:"container"}});let Le=te;return Le})(),ex=(()=>{let te=class te{constructor(w,V){this.mapService=w,this.controlComponent=V,this.geolocate=new it}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");let w={positionOptions:this.positionOptions,fitBoundsOptions:this.fitBoundsOptions,trackUserLocation:this.trackUserLocation,showUserLocation:this.showUserLocation,showUserHeading:this.showUserHeading};Object.keys(w).forEach(V=>{let o=V;w[o]===void 0&&delete w[o]}),this.controlComponent.control=new za.GeolocateControl(w),this.controlComponent.control.on("geolocate",V=>{this.geolocate.emit(V)}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}};te.\u0275fac=function(V){return new(V||te)(_t(uo),_t(T0,1))},te.\u0275dir=Ml({type:te,selectors:[["","mglGeolocate",""]],inputs:{positionOptions:"positionOptions",fitBoundsOptions:"fitBoundsOptions",trackUserLocation:"trackUserLocation",showUserLocation:"showUserLocation",showUserHeading:"showUserHeading"},outputs:{geolocate:"geolocate"}});let Le=te;return Le})(),tx=(()=>{let te=class te{constructor(w,V){this.mapService=w,this.controlComponent=V}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");let w={};this.showCompass!==void 0&&(w.showCompass=this.showCompass),this.showZoom!==void 0&&(w.showZoom=this.showZoom),this.controlComponent.control=new za.NavigationControl(w),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}};te.\u0275fac=function(V){return new(V||te)(_t(uo),_t(T0,1))},te.\u0275dir=Ml({type:te,selectors:[["","mglNavigation",""]],inputs:{showCompass:"showCompass",showZoom:"showZoom"}});let Le=te;return Le})(),ix=(()=>{let te=class te{constructor(w,V){this.mapService=w,this.controlComponent=V}ngOnChanges(w){w.unit&&!w.unit.isFirstChange()&&this.controlComponent.control.setUnit(w.unit.currentValue)}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");let w={};this.maxWidth!==void 0&&(w.maxWidth=this.maxWidth),this.unit!==void 0&&(w.unit=this.unit),this.controlComponent.control=new za.ScaleControl(w),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}};te.\u0275fac=function(V){return new(V||te)(_t(uo),_t(T0,1))},te.\u0275dir=Ml({type:te,selectors:[["","mglScale",""]],inputs:{maxWidth:"maxWidth",unit:"unit"},features:[sd]});let Le=te;return Le})(),J_=(Le,te,ie)=>{console.warn(`[ngx-mapbox-gl]: ${Le}: ${te} is deprecated, please use ${ie} instead.`)};var ax=(()=>{let te=class te{get mapInstance(){return this.mapService.mapInstance}constructor(w){this.mapService=w,this.movingMethod="flyTo",this.mapResize=new it,this.mapRemove=new it,this.mapMouseDown=new it,this.mapMouseUp=new it,this.mapMouseMove=new it,this.mapClick=new it,this.mapDblClick=new it,this.mapMouseOver=new it,this.mapMouseOut=new it,this.mapContextMenu=new it,this.mapTouchStart=new it,this.mapTouchEnd=new it,this.mapTouchMove=new it,this.mapTouchCancel=new it,this.mapWheel=new it,this.moveStart=new it,this.move=new it,this.moveEnd=new it,this.mapDragStart=new it,this.mapDrag=new it,this.mapDragEnd=new it,this.zoomStart=new it,this.zoomEvt=new it,this.zoomEnd=new it,this.rotateStart=new it,this.rotate=new it,this.rotateEnd=new it,this.pitchStart=new it,this.pitchEvt=new it,this.pitchEnd=new it,this.boxZoomStart=new it,this.boxZoomEnd=new it,this.boxZoomCancel=new it,this.webGlContextLost=new it,this.webGlContextRestored=new it,this.mapLoad=new it,this.mapCreate=new it,this.idle=new it,this.render=new it,this.mapError=new it,this.data=new it,this.styleData=new it,this.sourceData=new it,this.dataLoading=new it,this.styleDataLoading=new it,this.sourceDataLoading=new it,this.styleImageMissing=new it,this.resize=new it,this.remove=new it,this.mouseDown=new it,this.mouseUp=new it,this.mouseMove=new it,this.click=new it,this.dblClick=new it,this.mouseOver=new it,this.mouseOut=new it,this.contextMenu=new it,this.touchStart=new it,this.touchEnd=new it,this.touchMove=new it,this.touchCancel=new it,this.wheel=new it,this.dragStart=new it,this.drag=new it,this.dragEnd=new it,this.load=new it,this.error=new it}ngAfterViewInit(){this.warnDeprecatedOutputs(),this.mapService.setup({accessToken:this.accessToken,customMapboxApiUrl:this.customMapboxApiUrl,mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale,cooperativeGestures:this.cooperativeGestures,projection:this.projection},mapEvents:this}),this.cursorStyle&&this.mapService.changeCanvasCursor(this.cursorStyle)}ngOnDestroy(){this.mapService.destroyMap()}ngOnChanges(w){return ad(this,null,function*(){yield nf(this.mapService.mapCreated$),w.cursorStyle&&!w.cursorStyle.isFirstChange()&&this.mapService.changeCanvasCursor(w.cursorStyle.currentValue),w.projection&&!w.projection.isFirstChange()&&this.mapService.updateProjection(w.projection.currentValue),w.minZoom&&!w.minZoom.isFirstChange()&&this.mapService.updateMinZoom(w.minZoom.currentValue),w.maxZoom&&!w.maxZoom.isFirstChange()&&this.mapService.updateMaxZoom(w.maxZoom.currentValue),w.minPitch&&!w.minPitch.isFirstChange()&&this.mapService.updateMinPitch(w.minPitch.currentValue),w.maxPitch&&!w.maxPitch.isFirstChange()&&this.mapService.updateMaxPitch(w.maxPitch.currentValue),w.renderWorldCopies&&!w.renderWorldCopies.isFirstChange()&&this.mapService.updateRenderWorldCopies(w.renderWorldCopies.currentValue),w.scrollZoom&&!w.scrollZoom.isFirstChange()&&this.mapService.updateScrollZoom(w.scrollZoom.currentValue),w.dragRotate&&!w.dragRotate.isFirstChange()&&this.mapService.updateDragRotate(w.dragRotate.currentValue),w.touchPitch&&!w.touchPitch.isFirstChange()&&this.mapService.updateTouchPitch(w.touchPitch.currentValue),w.touchZoomRotate&&!w.touchZoomRotate.isFirstChange()&&this.mapService.updateTouchZoomRotate(w.touchZoomRotate.currentValue),w.doubleClickZoom&&!w.doubleClickZoom.isFirstChange()&&this.mapService.updateDoubleClickZoom(w.doubleClickZoom.currentValue),w.keyboard&&!w.keyboard.isFirstChange()&&this.mapService.updateKeyboard(w.keyboard.currentValue),w.dragPan&&!w.dragPan.isFirstChange()&&this.mapService.updateDragPan(w.dragPan.currentValue),w.boxZoom&&!w.boxZoom.isFirstChange()&&this.mapService.updateBoxZoom(w.boxZoom.currentValue),w.style&&!w.style.isFirstChange()&&this.mapService.updateStyle(w.style.currentValue),w.maxBounds&&!w.maxBounds.isFirstChange()&&this.mapService.updateMaxBounds(w.maxBounds.currentValue),w.fitBounds&&w.fitBounds.currentValue&&!w.fitBounds.isFirstChange()&&this.mapService.fitBounds(w.fitBounds.currentValue,this.fitBoundsOptions),w.fitScreenCoordinates&&w.fitScreenCoordinates.currentValue&&((this.center||this.zoom||this.pitch||this.fitBounds)&&w.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),this.mapService.fitScreenCoordinates(w.fitScreenCoordinates.currentValue,this.bearing?this.bearing[0]:0,this.movingOptions)),this.centerWithPanTo&&w.center&&!w.center.isFirstChange()&&!w.zoom&&!w.bearing&&!w.pitch?this.mapService.panTo(this.center,this.panToOptions):(w.center&&!w.center.isFirstChange()||w.zoom&&!w.zoom.isFirstChange()||w.bearing&&!w.bearing.isFirstChange()&&!w.fitScreenCoordinates||w.pitch&&!w.pitch.isFirstChange())&&this.mapService.move(this.movingMethod,this.movingOptions,w.zoom&&this.zoom?this.zoom[0]:void 0,w.center?this.center:void 0,w.bearing&&this.bearing?this.bearing[0]:void 0,w.pitch&&this.pitch?this.pitch[0]:void 0)})}warnDeprecatedOutputs(){let w=J_.bind(void 0,te.name);this.resize.observed&&w("resize","mapResize"),this.remove.observed&&w("remove","mapRemove"),this.mouseDown.observed&&w("mouseDown","mapMouseDown"),this.mouseUp.observed&&w("mouseUp","mapMouseUp"),this.mouseMove.observed&&w("mouseMove","mapMouseMove"),this.click.observed&&w("click","mapClick"),this.dblClick.observed&&w("dblClick","mapDblClick"),this.mouseOver.observed&&w("mouseOver","mapMouseOver"),this.mouseOut.observed&&w("mouseOut","mapMouseOut"),this.contextMenu.observed&&w("contextMenu","mapContextMenu"),this.touchStart.observed&&w("touchStart","mapTouchStart"),this.touchEnd.observed&&w("touchEnd","mapTouchEnd"),this.touchMove.observed&&w("touchMove","mapTouchMove"),this.touchCancel.observed&&w("touchCancel","mapTouchCancel"),this.wheel.observed&&w("wheel","mapWheel"),this.dragStart.observed&&w("dragStart","mapDragStart"),this.drag.observed&&w("drag","mapDrag"),this.dragEnd.observed&&w("dragEnd","mapDragEnd"),this.load.observed&&w("load","mapLoad"),this.error.observed&&w("error","mapError")}};te.\u0275fac=function(V){return new(V||te)(_t(uo))},te.\u0275cmp=ui({type:te,selectors:[["mgl-map"]],viewQuery:function(V,o){if(V&1&&ld(Y_,7),V&2){let ae;cd(ae=hd())&&(o.mapContainer=ae.first)}},inputs:{accessToken:"accessToken",collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",cooperativeGestures:"cooperativeGestures",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",projection:"projection",movingMethod:"movingMethod",movingOptions:"movingOptions",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",mapCreate:"mapCreate",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing",resize:"resize",remove:"remove",mouseDown:"mouseDown",mouseUp:"mouseUp",mouseMove:"mouseMove",click:"click",dblClick:"dblClick",mouseOver:"mouseOver",mouseOut:"mouseOut",contextMenu:"contextMenu",touchStart:"touchStart",touchEnd:"touchEnd",touchMove:"touchMove",touchCancel:"touchCancel",wheel:"wheel",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",load:"load",error:"error"},features:[hf([uo]),sd],decls:2,vars:0,consts:[["container",""]],template:function(V,o){V&1&&At(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0});let Le=te;return Le})();var lg=(()=>{let te=class te{static withConfig(w){return{ngModule:te,providers:[{provide:sg,useValue:w.accessToken}]}}};te.\u0275fac=function(V){return new(V||te)},te.\u0275mod=oo({type:te}),te.\u0275inj=ro({imports:[hs]});let Le=te;return Le})();var us=class us{};Oe(us,"\u0275fac",function(ie){return new(ie||us)}),Oe(us,"\u0275mod",oo({type:us})),Oe(us,"\u0275inj",ro({imports:[hs,nh,Ef,lg.withConfig({accessToken:ng.mapBoxToken})]}));var uh=us;var hg=ef(cg(),1);var yd=class extends Tf{constructor(te,ie){super(te,""),this.name=te,this.content=ie}getContent(te){return this.content.toSvg(M0({width:"100%",height:"100%",fill:"currentColor"},te))}},ug=(()=>{let te=class te{constructor(w){this.NAME="eva",w.registerSvgPack(this.NAME,this.createIcons()),w.setDefaultPack(this.NAME)}createIcons(){return Object.entries(hg.icons).map(([w,V])=>[w,new yd(w,V)]).reduce((w,[V,o])=>(w[V]=o,w),{})}};te.\u0275fac=function(V){return new(V||te)(an(Cf))},te.\u0275mod=oo({type:te}),te.\u0275inj=ro({});let Le=te;return Le})();function Q_(Le,te){if(Le&1&&(Me(0,"a",13),At(1,"img",14),Ce()),Le&2){let ie=te.$implicit;Dt("href",ie.url,Xn)("nbTooltip",ie.name),zt(),Dt("src",ie.src,Xn)("alt",ie.name)}}function ey(Le,te){if(Le&1&&(Me(0,"div",8)(1,"h6"),At(2,"nb-icon",9),We(3),Ce(),Me(4,"div",10)(5,"div",11),ta(6,Q_,2,4,"a",12),Ce()()()),Le&2){let ie=te.$implicit;zt(3),lo(" ",ie.year,""),zt(3),Dt("ngForOf",ie.sponsors)}}var Il=class Il{constructor(te){this._dialog=te;Oe(this,"sponsorsByYears",[{year:2020,sponsors:[{name:"Universidad del Norte",url:"http://www.uninorte.edu.co",src:"assets/img/LogoUninorte.png",bg:"blue"},{name:"Cormagdalena",url:"http://www.cormagdalena.gov.co",src:"assets/img/cormagdalena.png",bg:"blue"}]},{year:"2017 - 2019",sponsors:[{name:"Universidad del Norte",url:"http://www.uninorte.edu.co",src:"assets/img/LogoUninorte.png"}]}])}ngOnInit(){}close(){this._dialog.close()}};Oe(Il,"\u0275fac",function(ie){return new(ie||Il)(_t(Ki))}),Oe(Il,"\u0275cmp",ui({type:Il,selectors:[["ngx-patrocinadores"]],decls:16,vars:1,consts:[["id","contribuyentes","status","info","size","large"],[1,"d-flex","justify-content-between"],["icon","close-outline",3,"click"],[1,"p-5"],[2,"text-align","center"],["class","mt-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["width","100 ","src","assets/img/logo.jpg ","alt","logo obs "],[1,"mt-4"],["icon","chevron-right-outline"],[1,"sponsors-by-year"],[1,"d-flex","justify-content-start","align-items-center"],["class","sponsor ml-md-5 ","target","_blank ","nbTooltipPlacement","top","nbTooltipStatus","info ",3,"href","nbTooltip",4,"ngFor","ngForOf"],["target","_blank ","nbTooltipPlacement","top","nbTooltipStatus","info ",1,"sponsor","ml-md-5",3,"href","nbTooltip"],["width","100px ",3,"src","alt"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",0)(1,"nb-card-header",1),We(2,"Contribuciones "),Me(3,"nb-actions")(4,"nb-action",2),ii("click",function(){return w.close()}),Ce()()(),Me(5,"nb-card-body",3)(6,"h3",4)(7,"strong"),We(8,"PATROCINADORES"),Ce()(),Me(9,"p"),We(10," Si usted quiere patrocinar, apoyar el desarrollo o mejorar el contenido y las aplicaciones de la plataforma Ci\xE9naga del Totumo, lo invitamos a contactarnos al correo "),Me(11,"b"),We(12,"obsriomagdalena@uninorte.edu.co"),Ce()(),ta(13,ey,7,2,"div",5),Ce(),Me(14,"nb-card-footer",6),At(15,"img",7),Ce()()),ie&2&&(zt(13),Dt("ngForOf",w.sponsorsByYears))},dependencies:[co,qi,$i,la,Zi,Tl,Wi,Xi,$f],styles:[`.sponsors-by-year[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.sponsor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%}.sponsor[_ngcontent-%COMP%]:hover{transform:translate3d(0,-20px,0) scale(1.2);background-color:#fff}.sponsor[_ngcontent-%COMP%]{box-shadow:-2px 10px 22px -16px #000000bf}#contribuyentes[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{padding:5px}@media (min-width: 576px){nb-card#contribuyentes[_ngcontent-%COMP%]{width:50em;height:90vh}.sponsor[_ngcontent-%COMP%]{min-height:150px;max-height:150px;min-width:200px;max-width:200px;border-radius:5px;background-color:#f9fbfc;border:0px;display:flex;justify-content:center;align-items:center;transition:all .3s ease}}@media (max-width: 767.98px){.sponsor[_ngcontent-%COMP%]{min-height:90px;max-height:90px;min-width:150px;max-width:150px;border-radius:5px;background-color:#f9fbfc;border:0px;display:flex;justify-content:center;align-items:center;transition:all .3s ease}}











`]}));var dh=Il;var Pl=class Pl{constructor(te){this._dialog=te}ngOnInit(){}close(){this._dialog.close()}};Oe(Pl,"\u0275fac",function(ie){return new(ie||Pl)(_t(Ki))}),Oe(Pl,"\u0275cmp",ui({type:Pl,selectors:[["ngx-donaciones"]],decls:14,vars:0,consts:[["id","donations","status","info","size","small"],[1,"d-flex","justify-content-between"],["icon","close-outline",3,"click"],[2,"max-width","500px"],[1,"d-flex","justify-content-end"],["width","100","src","assets/img/logo.jpg","alt","logo obs"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",0)(1,"nb-card-header",1),We(2," DONACIONES "),Me(3,"nb-actions")(4,"nb-action",2),ii("click",function(){return w.close()}),Ce()()(),Me(5,"nb-card-body")(6,"p",3),We(7," Usted puede ayudarnos a mejorar la calidad y alcance de esta plataforma a trav\xE9s de sus aportes de informaci\xF3n o recursos financieros para el desarrollo y mantenimiento de esta herramienta."),Ce(),Me(8,"p"),We(9,"Puede enviarnos un correo manifestando su inter\xE9s a: "),Me(10,"strong"),We(11,"obsriomagdalena@uninorte.edu.co"),Ce()()(),Me(12,"nb-card-footer",4),At(13,"img",5),Ce()())},dependencies:[qi,$i,la,Zi,Wi,Xi]}));var ph=Pl;var kl=class kl{constructor(te){this._dialog=te}ngOnInit(){}close(){this._dialog.close()}};Oe(kl,"\u0275fac",function(ie){return new(ie||kl)(_t(Ki))}),Oe(kl,"\u0275cmp",ui({type:kl,selectors:[["ngx-aviso-legal"]],decls:27,vars:0,consts:[["id","informacion-legal","status","info","size","large",2,"max-width","80%","margin","0 auto"],[1,"d-flex","justify-content-between"],["icon","close-outline",3,"click"],["id","disclaimer"],[2,"text-align","center"],[2,"text-align","justify","margin-top","1rem"],[2,"text-align","justify"],[1,"d-flex","justify-content-end"],["width","50","src","assets/img/logo CRA.svg","alt","Logo CRA"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",0)(1,"nb-card-header",1)(2,"h6"),We(3,"Informaci\xF3n"),Ce(),Me(4,"nb-actions")(5,"nb-action",2),ii("click",function(){return w.close()}),Ce()()(),Me(6,"nb-card-body")(7,"div",3)(8,"h3",4)(9,"strong"),We(10,"AVISO LEGAL"),Ce()(),Me(11,"p",5),We(12," Toda la informaci\xF3n publicada en este sitio web se ofrece de buena fe y con fines informativos generales. La "),Me(13,"strong"),We(14,"Corporaci\xF3n Aut\xF3noma Regional del Atl\xE1ntico (C.R.A.)"),Ce(),We(15," no garantiza la exactitud, fiabilidad o vigencia de la informaci\xF3n. Cualquier acci\xF3n que usted realice bas\xE1ndose en la informaci\xF3n aqu\xED contenida es bajo su propia responsabilidad, y la C.R.A. no se hace responsable de p\xE9rdidas o da\xF1os derivados del uso de este sitio web. "),Ce(),Me(16,"p",6),We(17," La informaci\xF3n presentada proviene de fuentes oficiales, secundarias o de dominio p\xFAblico. Si identifica alguna discrepancia o requiere actualizaci\xF3n de datos, le invitamos a escribirnos al correo electr\xF3nico "),Me(18,"b"),We(19,"info@crautonoma.gov.co"),Ce(),We(20," para realizar la correcci\xF3n correspondiente. "),Ce(),Me(21,"p",6),We(22," Desde este sitio web, usted puede acceder a otros sitios mediante hiperv\xEDnculos. La C.R.A. no tiene control sobre el contenido ni la naturaleza de estos sitios externos y la inclusi\xF3n de estos enlaces no implica necesariamente una recomendaci\xF3n ni respaldo de todo su contenido. "),Ce(),Me(23,"p",6),We(24," La informaci\xF3n analizada y mostrada en esta plataforma corresponde a registros, bases de datos, metadatos e informaci\xF3n proveniente de fuentes abiertas, entidades p\xFAblicas y publicaciones cient\xEDficas de libre acceso. Tenga en cuenta que otros sitios pueden tener pol\xEDticas de privacidad y t\xE9rminos de uso diferentes, ajenos a nuestra gesti\xF3n. "),Ce()()(),Me(25,"nb-card-footer",7),At(26,"img",8),Ce()())},dependencies:[qi,$i,la,Zi,Wi,Xi]}));var mh=kl;var Sn=class{constructor(){Oe(this,"id");Oe(this,"name");Oe(this,"title");Oe(this,"tag");Oe(this,"avatar");Oe(this,"order");Oe(this,"rg");Oe(this,"icon");this.id="",this.name="",this.title="",this.avatar=""}deserialize(te){return Object.assign(this,te),this}};var E0={people:"people",person:Le=>`people/${Le}`,colabs:"people/colabs",dirs:"people/dirs"},ps=class ps extends tg{constructor(ie,w){super(w);this.http=ie}getAll(){return this.http.get(E0.people).pipe(cs(ie=>this.log("Fetched People")),wl(this.handleError("getAll",[])),Wn(ie=>ie.map(w=>new Sn().deserialize(w))))}getColabs(){return this.http.get(E0.colabs).pipe(cs(ie=>this.log("Fetched People")),wl(this.handleError("getColabs",[])),Wn(ie=>ie.map(w=>new Sn().deserialize(w))))}getDirs(){return this.http.get(E0.dirs).pipe(cs(ie=>this.log("Fetched People")),wl(this.handleError("getDirs",[])),Wn(ie=>ie.map(w=>new Sn().deserialize(w))))}addPeople(ie){return this.http.postFormData(E0.people,ie,{reportProgress:!0,observe:"events"}).pipe(cs(w=>this.log("create People ")),wl(this.handleError("addPeople")))}deletePerson(ie){let w=typeof ie=="number"?ie:ie.id,V=E0.person(w);return this.http.delete(V).pipe(cs(o=>this.log(`deleted people id=${w}`)),wl(this.handleError("deletePeople")))}};Oe(ps,"\u0275fac",function(w){return new(w||ps)(an(ch),an(Zf))}),Oe(ps,"\u0275prov",no({token:ps,factory:ps.\u0275fac,providedIn:"root"}));var po=ps;function iy(Le,te){Le&1&&(Me(0,"nb-select",13)(1,"nb-option",14),We(2,"Seleccione una opci\xF3n"),Ce(),Me(3,"nb-option",15),We(4,"Colaborador"),Ce()())}function ay(Le,te){Le&1&&(Me(0,"nb-select",13)(1,"nb-option",14),We(2,"Seleccione una opci\xF3n"),Ce(),Me(3,"nb-option",16),We(4,"Directivo"),Ce(),Me(5,"nb-option",17),We(6,"Rector"),Ce(),Me(7,"nb-option",18),We(8,"Decano"),Ce(),Me(9,"nb-option",19),We(10,"Director CC"),Ce(),Me(11,"nb-option",20),We(12,"Vice Rector Acad\xE9mico"),Ce(),Me(13,"nb-option",21),We(14,"Vice Rector Administrativo"),Ce()())}function ny(Le,te){if(Le&1&&At(0,"nb-progress-bar",22),Le&2){let ie=Ri();Dt("value",ie.progress)}}var Dl=class Dl{constructor(te,ie,w){this._fb=te;this._peopleService=ie;this._dialog=w;Oe(this,"_person");Oe(this,"_isColab",!0);Oe(this,"loading",!1);Oe(this,"progress",0);Oe(this,"files",[]);Oe(this,"form");Oe(this,"isColab",!0)}ngOnInit(){this.form=this._fb.group({id:[this._person?.id||""],name:[this._person?.name||"",Al.required],title:[this._person?.title,Al.required],rg:[this._person?.rg||"",Al.required],tag:[this._person?.tag||"",Al.required],order:[this._person?.order||"",Al.required]}),this.isColab=this._isColab}onSubmit(){let te=this._peopleService.toFormData(this.form.value);this.files.length>0&&te.append("file",this.files[0]),this.loading=!0,this._peopleService.addPeople(te).subscribe({next:ie=>{ie.type===ud.UploadProgress&&(this.progress=Math.round(100*ie.loaded/ie.total)),ie.type===ud.Response&&(this.form.reset(),this._peopleService.showToast("top rigth","success","Persona Agregada correctamente"),this.loading=!1,this.progress=0,this._dialog.close(ie.body))},error:ie=>{this._peopleService.showToast("top rigth","danger",ie),this.loading=!1,this.progress=0}})}onSelect(te){this.files.push(...te.addedFiles)}onRemoveFile(te){this.files.splice(this.files.indexOf(te),1)}};Oe(Dl,"\u0275fac",function(ie){return new(ie||Dl)(_t(bf),_t(po),_t(Ki))}),Oe(Dl,"\u0275cmp",ui({type:Dl,selectors:[["ngx-add-people"]],inputs:{_person:"_person",_isColab:"_isColab"},decls:20,vars:5,consts:[["id","people-form",1,"row"],[1,"col-md-12"],[1,"inline-form-card"],[1,"form-inline","d-flex","flex-column",3,"formGroup"],["formControlName","order","type","text","nbInput","","fullWidth","","placeholder","Orden",1,"mt-3"],["formControlName","name","type","text","nbInput","","fullWidth","","placeholder","Nombre",1,"mt-3"],["formControlName","title","type","text","nbInput","","fullWidth","","placeholder","titulo/Cargo",1,"mt-3"],["formControlName","rg","type","text","nbInput","","fullWidth","","placeholder","Research Gate \xF3 Link",1,"mt-3"],["class","mt-3","formControlName","tag","placeholder","Tipo de Persona",4,"ngIf"],[1,"mt-3"],["nbSpinnerStatus","danger",1,"selected-option",3,"nbSpinner"],[3,"value",4,"ngIf"],["nbButton","","status","primary",3,"click"],["formControlName","tag","placeholder","Tipo de Persona",1,"mt-3"],["value",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[3,"value"]],template:function(ie,w){ie&1&&(Me(0,"div",0)(1,"div",1)(2,"nb-card",2)(3,"nb-card-header"),We(4,"Agregar/Editar Usuario"),Ce(),Me(5,"nb-card-body")(6,"form",3),At(7,"input",4)(8,"input",5)(9,"input",6)(10,"input",7),ta(11,iy,5,0,"nb-select",8)(12,ay,15,0,"nb-select",8),Me(13,"p",9),We(14,"Fotograf\xEDa "),Ce(),Me(15,"div",10)(16,"div"),ta(17,ny,1,1,"nb-progress-bar",11),Ce()(),Me(18,"button",12),ii("click",function(){return w.onSubmit()}),We(19,"Guardar"),Ce()()()()()()),ie&2&&(zt(6),Dt("formGroup",w.form),zt(5),Dt("ngIf",w.isColab),zt(),Dt("ngIf",!w.isColab),zt(3),Dt("nbSpinner",w.loading),zt(2),Dt("ngIf",w.progress>0))},dependencies:[pf,qi,$i,Zi,Cl,Hf,yf,ff,gf,_f,vf,xf,Xf,Wf,Gf,jf]}));var mo=Dl;var mg=()=>["Manage People","all"];function oy(Le,te){if(Le&1){let ie=nn();Me(0,"nb-action",14),ii("click",function(){Ra(ie);let V=Ri();return Ba(V.toggleCard())}),We(1),Ce()}if(Le&2){let ie=Ri();zt(),lo("",ie.revealCard?1:2,"A\xF1adir Colaborador")}}function sy(Le,te){if(Le&1){let ie=nn();Me(0,"nb-actions"),At(1,"nb-action",22),Me(2,"nb-action",23),ii("click",function(){Ra(ie);let V=Ri(),o=V.$implicit,ae=V.index,Qe=Ri();return Ba(Qe.editPerson(o,ae))}),Ce()()}if(Le&2){Ri();let ie=th(10);zt(),Dt("swal",ie)}}function ly(Le,te){if(Le&1){let ie=nn();Me(0,"div",15)(1,"a",16),At(2,"img",17),Me(3,"span",18)(4,"b"),We(5),Ce()(),Me(6,"p",19),We(7),Ce(),ta(8,sy,3,1,"nb-actions",20),Ce(),Me(9,"swal",21,0),ii("confirm",function(){let V=Ra(ie),o=V.$implicit,ae=V.index,Qe=Ri();return Ba(Qe.deletePerson(o,ae))}),Ce()()}if(Le&2){let ie=te.$implicit;zt(),Dt("href",ie.rg,Xn),zt(),Dt("src",ie.icon,Xn),zt(3),A0(ie.name),zt(2),A0(ie.title),zt(),Dt("nbIsGranted",vr(7,mg)),zt(),Dt("showDenyButton",!0)("focusDeny",!0)}}var Ol=class Ol{constructor(te,ie,w){this._dialog=te;this._peopleService=ie;this._dialogService=w;Oe(this,"people");Oe(this,"revealCard",!1);Oe(this,"person",new Sn)}ngOnInit(){this._peopleService.getColabs().subscribe({next:te=>{this.people=te},error:te=>{this._peopleService.showToast("top-right","danger",te)}})}deletePerson(te,ie){this._peopleService.deletePerson(te).subscribe({next:w=>{w&&this.people.splice(ie,1),this._peopleService.showToast("top-right","success","Borrardo correctamente")},error:w=>{this._peopleService.showToast("top-right","danger",w)}})}editPerson(te,ie){this.revealCard=!this.revealCard,this._dialogService.open(mo,{context:{_person:te,_isColab:!0}}).onClose.subscribe(w=>{w&&Object.assign(this.people[ie],new Sn().deserialize(w))})}toggleCard(){this.revealCard=!this.revealCard,this.person.tag="0",this._dialogService.open(mo,{context:{_person:this.person,_isColab:!0}}).onClose.subscribe(te=>{te&&this.people.push(te)})}close(){this._dialog.close()}};Oe(Ol,"\u0275fac",function(ie){return new(ie||Ol)(_t(Ki),_t(po),_t(El))}),Oe(Ol,"\u0275cmp",ui({type:Ol,selectors:[["ngx-colaborators"]],decls:25,vars:3,consts:[["deleteSwal",""],["id","credits","status","info","size","giant",2,"margin","0 auto"],[1,"d-flex","justify-content-between"],["icon","plus",3,"click",4,"nbIsGranted"],["icon","close-outline",3,"click"],[1,"text-center"],[2,"padding","1em"],[1,"d-flex","flex-wrap","justify-content-center"],["class","colaborator  ","matRipple","",4,"ngFor","ngForOf"],["href","http://www.uninorte.edu.co","target","_blank",1,"sponsor"],["width","100","src","assets/img/LogoUninorte.png"],["href","https://www.uninorte.edu.co/web/ideha","target","_blank",1,"sponsor"],["width","120","src","https://www.uninorte.edu.co/image/layout_set_logo?img_id=13805915&t=1596730935221"],["width","100","src","assets/img/logo.jpg","alt","logo obs"],["icon","plus",3,"click"],["matRipple","",1,"colaborator"],["target","_black",1,"d-flex","flex-column","align-items-center","justify-content-center",3,"href"],["width","60",3,"src"],[1,"user-name","caption"],[1,"user-title","text-hint"],[4,"nbIsGranted"],["title","Borrar Colaborador?","text","Esta acci\xF3n no se podr\xE1 deshacer","icon","question",3,"confirm","showDenyButton","focusDeny"],["icon","trash-outline",3,"swal"],["icon","edit-outline",3,"click"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",1)(1,"nb-card-header",2),We(2,"Informaci\xF3n "),Me(3,"nb-actions"),ta(4,oy,2,1,"nb-action",3),Me(5,"nb-action",4),ii("click",function(){return w.close()}),Ce()()(),Me(6,"nb-card-body")(7,"h3",5),We(8,"COLABORADORES"),Ce(),At(9,"br"),Me(10,"div",6)(11,"p"),We(12," La siguente lista corresponde a profesionales que han contribuido con el procesamiento y an\xE1lisis en la plataforma. Esta son las personas que han generado informaci\xF3n contribuyendo con la base de datos del observatorio. Usted puede colaborar con informaci\xF3n como bases de datos, meta data, an\xE1lisis, batimetr\xEDas, entre otros. "),Ce()(),Me(13,"div",7),ta(14,ly,11,8,"div",8),Ce()(),Me(15,"nb-card-footer",2)(16,"p"),We(17,"Para mayores informes contactar a: "),Me(18,"b"),We(19,"obsriomagdalena@uninorte.edu.co"),Ce()(),Me(20,"a",9),At(21,"img",10),Ce(),Me(22,"a",11),At(23,"img",12),Ce(),At(24,"img",13),Ce()()),ie&2&&(zt(4),Dt("nbIsGranted",vr(2,mg)),zt(10),Dt("ngForOf",w.people))},dependencies:[co,Ll,qi,$i,la,Zi,Wi,Xi,Sl,hh,ag],styles:[`@media (min-width: 768px){nb-card#credits[_ngcontent-%COMP%]{width:69em}}nb-list-item.developer[_ngcontent-%COMP%]{border:0px}.colaborator[_ngcontent-%COMP%]{margin:1em;padding:.1em;min-width:200px;max-width:200px}.colaborator[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:6em}.colaborator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .colaborator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .colaborator[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-family:Gill Sans Nova,sans-serif;text-decoration:none}.user-title[_ngcontent-%COMP%]{font-size:9px}











`]}));var fh=Ol;function cy(Le,te){if(Le&1&&(Me(0,"li",18),We(1),Me(2,"a",19),We(3),Ce()()),Le&2){let ie=te.$implicit;zt(),lo(" ",ie.name," - "),zt(),cf("href",ie.web,Xn),zt(),A0(ie.web)}}var Rl=class Rl{constructor(te){this._dialog=te;Oe(this,"users",[{name:"HYCEN S.A.S.",web:"https://www.hycengroup.com/",avatar:"assets/img/hycen.png",cargo:"Ingenier\xEDa de Recursos H\xEDdricos y Ambientales"},{name:"SISCO Ingenier\xEDa S.A.S.",web:"https://siscoing.com/",avatar:"assets/img/sysco.png",cargo:"L\xEDderes en el dise\xF1o, planificaci\xF3n y construcci\xF3n de proyectos."},{name:"Metamag Agency S.A.S. BIC",web:"https://metamagagency.com/",avatar:"assets/img/metamag.jpg",cargo:"Soluciones integrales de transformaci\xF3n digital para PYMES"},{name:"Corporaci\xF3n Aut\xF3noma Regional del Atl\xE1ntico",web:"https://crautonoma.gov.co/",avatar:"assets/img/metamag.jpg",cargo:"Soluciones integrales de transformaci\xF3n digital para PYMES"}])}ngOnInit(){}close(){this._dialog.close()}};Oe(Rl,"\u0275fac",function(ie){return new(ie||Rl)(_t(Ki))}),Oe(Rl,"\u0275cmp",ui({type:Rl,selectors:[["ngx-developers"]],decls:29,vars:1,consts:[["id","credits","status","basic","size","giant",2,"margin","0 auto","max-width","1000px","max-height","100vh","height","70vh"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h5","m-0"],["icon","close-outline","aria-label","Cerrar",3,"click"],[1,"px-4","py-3"],[1,"container-fluid","px-3"],[1,"mb-4"],[1,"text-sm","text-center","text-gray-600","font-bold","mt-3","mb-0"],[1,"text-content","px-2"],[1,"text-sm","text-gray-700","mb-2"],[1,"contact-section","mt-2","pt-3","border-t"],[1,"text-center","mb-3"],[1,"text-sm","font-medium"],[1,"d-flex","flex-column"],["class","mb-2",4,"ngFor","ngForOf"],[1,"d-flex","gap-2","justify-content-end","align-items-center","py-3"],[1,"ml-2","mb-0","text-sm"],["width","40","src","assets/img/logo.jpg","alt","Logo Observatorio",1,"ml-3",2,"filter","brightness(0) invert(1)"],[1,"mb-2"],["target","_blank",1,"text-basic",3,"href"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",0)(1,"nb-card-header",1)(2,"span",2),We(3,"Desarrollo de la Plataforma Digital"),Ce(),Me(4,"nb-actions")(5,"nb-action",3),ii("click",function(){return w.close()}),Ce()()(),Me(6,"nb-card-body",4)(7,"div",5)(8,"div",6)(9,"h2",7)(10,"b"),We(11,"Estudio Hidrosedimentol\xF3gico \u2013 Ci\xE9naga del Totumo"),Ce()()(),Me(12,"div",8)(13,"p",9),We(14," Esta plataforma digital fue concebida como parte de los esfuerzos liderados por la "),Me(15,"strong"),We(16,"Corporaci\xF3n Aut\xF3noma Regional del Atl\xE1ntico (CRA)"),Ce(),We(17," para fortalecer la gesti\xF3n ambiental basada en evidencia, fomentando la transparencia institucional y la participaci\xF3n ciudadana. "),Ce()(),Me(18,"div",10)(19,"div",11)(20,"b",12),We(21,"Desarrollado por"),Ce()(),Me(22,"div",13)(23,"ul",6),ta(24,cy,4,3,"li",14),Ce()()()()(),Me(25,"nb-card-footer",15)(26,"p",16),We(27,"\xA9 2025 Corporaci\xF3n Aut\xF3noma Regional del Atl\xE1ntico"),Ce(),At(28,"img",17),Ce()()),ie&2&&(zt(24),Dt("ngForOf",w.users))},dependencies:[co,qi,$i,la,Zi,Wi,Xi],styles:["nb-list-item.developer[_ngcontent-%COMP%]{border:0px;color:#000}  nb-user .user-name{color:#000;font-weight:700}  nb-user .user-title{color:#1d1d1d}.text-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6}.collaboration-info[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:4px solid #007bff}.contact-section[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;margin:0 -.5rem}.developer[_ngcontent-%COMP%]{color:#000;background-color:#fff;transition:all .2s ease;border:1px solid #e9ecef}.developer[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.text-content[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}}"]}));var gh=Rl;var fg=()=>["Manage People","all"];function hy(Le,te){if(Le&1){let ie=nn();Me(0,"nb-actions")(1,"nb-action",14),ii("click",function(){Ra(ie);let V=Ri();return Ba(V.toggleCard())}),We(2),Ce(),Me(3,"nb-action",15),ii("click",function(){Ra(ie);let V=Ri();return Ba(V.close())}),Ce()()}if(Le&2){let ie=Ri();zt(2),lo("",ie.revealCard?1:2,"A\xF1adir Colaborador")}}function uy(Le,te){if(Le&1){let ie=nn();Me(0,"nb-actions")(1,"nb-action",22),ii("click",function(){Ra(ie),Ri();let V=th(7);return Ba(V.fire())}),Ce(),Me(2,"nb-action",23),ii("click",function(){Ra(ie);let V=Ri(),o=V.$implicit,ae=V.index,Qe=Ri();return Ba(Qe.editPerson(o,ae))}),Ce()()}}function dy(Le,te){if(Le&1){let ie=nn();Me(0,"nb-list-item",16),At(1,"nb-user",17),Me(2,"div",18)(3,"a",19),At(4,"nb-icon",20),Ce()(),ta(5,uy,3,0,"nb-actions",3),Me(6,"swal",21,0),ii("confirm",function(){let V=Ra(ie),o=V.$implicit,ae=V.index,Qe=Ri();return Ba(Qe.deletePerson(o,ae))}),Ce()()}if(Le&2){let ie=te.$implicit;zt(),Dt("picture",ie.icon)("name",ie.name)("title",ie.title),zt(2),Dt("href",ie.rg,Xn),zt(2),Dt("nbIsGranted",vr(7,fg)),zt(),Dt("showDenyButton",!0)("focusDeny",!0)}}var Bl=class Bl{constructor(te,ie,w){this._dialog=te;this._peopleService=ie;this._dialogService=w;Oe(this,"people");Oe(this,"revealCard",!1);Oe(this,"person",new Sn);Oe(this,"users",[{name:"Humberto Rangel \xC1vila, Ph.D",rg:"https://www.researchgate.net/profile/Humberto_Avila/publications",avatar:"assets/img/users/FotoHumbertoAvila.png",cargo:"Director del Observatorio del R\xEDo Magdalena"},{name:"Augusto Herminio Sisa Camargo, M.Sc",rg:"https://www.researchgate.net/profile/Augusto_Sisa",avatar:"assets/img/users/FotoAugustoSisa.png",cargo:"Docente tiempo completo Dpto. de Ing.Civil y Ambiental"},{name:"Luis Rojano, Ing.",rg:"http://scienti.colciencias.gov.co:8081/cvlac/visualizador/generarCurriculoCv.do?cod_rh=0001582654",avatar:"assets/img/users/FotoLuisRojano.png",cargo:"Ingeniero de Software"},{name:"Wilson Nieto Bernal, Ph.D",rg:"https://www.researchgate.net/profile/Wilson_Bernal",avatar:"assets/img/users/FotoWilsonNieto.png",cargo:"Docente tiempo completo Dpto. de Ing. de Sistemas"}])}ngOnInit(){this._peopleService.getDirs().subscribe({next:te=>{this.people=te},error:te=>{this._peopleService.showToast("top-right","danger",te)}})}deletePerson(te,ie){this._peopleService.deletePerson(te).subscribe({next:w=>{w&&this.people.splice(ie,1),this._peopleService.showToast("top-right","success","Borrardo correctamente")},error:w=>{this._peopleService.showToast("top-right","danger",w)}})}editPerson(te,ie){this.revealCard=!this.revealCard,this._dialogService.open(mo,{context:{_person:te,_isColab:!1}}).onClose.subscribe(w=>{w&&Object.assign(this.people[ie],w)})}toggleCard(){this.revealCard=!this.revealCard,this.person.tag="1",this._dialogService.open(mo,{context:{_person:this.person,_isColab:!1}}).onClose.subscribe(te=>{te&&this.people.push(te)})}close(){this._dialog.close()}};Oe(Bl,"\u0275fac",function(ie){return new(ie||Bl)(_t(Ki),_t(po),_t(El))}),Oe(Bl,"\u0275cmp",ui({type:Bl,selectors:[["ngx-directivos"]],decls:17,vars:3,consts:[["deleteSwal",""],["id","credits","status","info","size","giant",2,"margin","0 auto"],[1,"d-flex","justify-content-between"],[4,"nbIsGranted"],[1,"text-center"],[1,"row"],["href","http://www.uninorte.edu.co","target","_blank",1,"col-sm-6","sponsor",2,"text-align","center"],["width","150","src","assets/img/LogoUninorte.png"],["href","https://www.uninorte.edu.co/web/ideha","target","_blank",1,"col-sm-6","sponsor",2,"text-align","center"],["width","155","src","https://www.uninorte.edu.co/image/layout_set_logo?img_id=13805915&t=1596730935221"],[1,"col-sm-12"],["class","developer col-sm-12 ","matRipple","",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["width","100","src","assets/img/logo.jpg","alt","logo obs"],["icon","plus",3,"click"],["icon","close-outline",3,"click"],["matRipple","",1,"developer","col-sm-12"],["size","medium",1,"bold",3,"picture","name","title"],[1,"icon-container","d-flex","justify-content-end","align-items-stretch","flex-fill"],["nbButton","","ghost","","target","_black",3,"href"],["icon","link-2-outline"],["title","Borrar Directivo?","text","Esta acci\xF3n no se podr\xE1 deshacer","icon","question",3,"confirm","showDenyButton","focusDeny"],["icon","trash-outline",3,"click"],["icon","edit-outline",3,"click"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",1)(1,"nb-card-header",2),We(2,"Informaci\xF3n "),ta(3,hy,4,1,"nb-actions",3),Ce(),Me(4,"nb-card-body")(5,"h3",4),We(6,"DIRECTIVOS"),Ce(),At(7,"br"),Me(8,"div",5)(9,"a",6),At(10,"img",7),Ce(),Me(11,"a",8),At(12,"img",9),Ce()(),Me(13,"nb-list",10),ta(14,dy,8,8,"nb-list-item",11),Ce()(),Me(15,"nb-card-footer",12),At(16,"img",13),Ce()()),ie&2&&(zt(3),Dt("nbIsGranted",vr(2,fg)),zt(11),Dt("ngForOf",w.people))},dependencies:[co,Ll,qi,$i,la,Zi,Tl,Cl,Wi,Xi,lh,Lf,If,Sl,hh]}));var _h=Bl;var Fl=class Fl{constructor(te){this._dialog=te}ngOnInit(){}close(){this._dialog.close()}};Oe(Fl,"\u0275fac",function(ie){return new(ie||Fl)(_t(Ki))}),Oe(Fl,"\u0275cmp",ui({type:Fl,selectors:[["ngx-faqs"]],decls:23,vars:0,consts:[["id","contribuyentes","status","info","size","large",2,"max-width","95%","margin","0 auto"],[1,"d-flex","justify-content-between"],["icon","close-outline",3,"click"],["id","disclaimer"],[2,"text-align","center"],[2,"text-align","justify"],[1,"d-flex","justify-content-end"],["width","100","src","assets/img/logo.jpg","alt","logo obs"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",0)(1,"nb-card-header",1)(2,"h6"),We(3,"Informaci\xF3n"),Ce(),Me(4,"nb-actions")(5,"nb-action",2),ii("click",function(){return w.close()}),Ce()()(),Me(6,"nb-card-body")(7,"div",3)(8,"h2",4)(9,"strong"),We(10,"PREGUNTAS FRECUENTES"),Ce()(),Me(11,"p",5),We(12,"\xA0"),Ce(),Me(13,"h6",5),We(14," 1. C\xF3mo Descargar la Informaci\xF3n "),Ce(),Me(15,"h6",5),We(16," 2. C\xF3mo Obtener ultima versi\xF3n de la apicaci\xF3n "),Ce(),Me(17,"h6",5),We(18," 3. C\xF3mo Activar Capas "),Ce(),Me(19,"h6",5),We(20," 4. C\xF3mo realizar una contribuci\xF3n "),Ce()()(),Me(21,"nb-card-footer",6),At(22,"img",7),Ce()())},dependencies:[qi,$i,la,Zi,Wi,Xi]}));var yh=Fl;var Vl=class Vl{constructor(te){this._dialog=te}ngOnInit(){}close(){this._dialog.close()}};Oe(Vl,"\u0275fac",function(ie){return new(ie||Vl)(_t(Ki))}),Oe(Vl,"\u0275cmp",ui({type:Vl,selectors:[["ngx-unidos-magdalena"]],decls:12,vars:0,consts:[["iframe",""],["id","unidos-magdalena","status","info","size","large",2,"max-width","100%","margin","0 auto"],[1,"d-flex","justify-content-between"],["icon","close-outline",3,"click"],["id","vide-container",1,"videoWrapper"],["width","100%","height","100%","src",sf`https://www.youtube.com/embed/JKw5ZpbLd_c?autoplay=1`,"frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen",""],[1,"d-flex","justify-content-end"],["width","100","src","assets/img/logo.jpg","alt","logo obs"]],template:function(ie,w){if(ie&1){let V=nn();Me(0,"nb-card",1)(1,"nb-card-header",2)(2,"h6"),We(3,"Unidos Por Magdalena"),Ce(),Me(4,"nb-actions")(5,"nb-action",3),ii("click",function(){return Ra(V),Ba(w.close())}),Ce()()(),Me(6,"nb-card-body")(7,"div",4),At(8,"iframe",5,0),Ce()(),Me(10,"nb-card-footer",6),At(11,"img",7),Ce()()}},dependencies:[qi,$i,la,Zi,Wi,Xi],styles:[`@media (min-width: 768px){#unidos-magdalena[_ngcontent-%COMP%]{min-width:90vw;min-height:100vh}}.videoWrapper[_ngcontent-%COMP%]{position:relative;height:100%}.videoWrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}











`]}));var vh=Vl;var Nl=class Nl{constructor(te){this._dialog=te}close(){this._dialog.close()}};Oe(Nl,"\u0275fac",function(ie){return new(ie||Nl)(_t(Ki))}),Oe(Nl,"\u0275cmp",ui({type:Nl,selectors:[["ngx-acercade"]],decls:29,vars:0,consts:[["id","about-platform","status","info","size","large",2,"max-width","80%","margin","0 auto"],[1,"d-flex","justify-content-between"],["icon","close-outline",3,"click"],["id","about-content"],[2,"text-align","center"],[2,"text-align","justify","margin-top","1rem"],[2,"text-align","justify"],[2,"text-align","justify","font-weight","bold"],[1,"d-flex","justify-content-end"],["width","50","src","assets/img/logo CRA.svg","alt","logo CRA"]],template:function(ie,w){ie&1&&(Me(0,"nb-card",0)(1,"nb-card-header",1)(2,"h6"),We(3,"Acerca de esta Plataforma"),Ce(),Me(4,"nb-actions")(5,"nb-action",2),ii("click",function(){return w.close()}),Ce()()(),Me(6,"nb-card-body")(7,"div",3)(8,"h3",4)(9,"strong"),We(10,"Bienvenido a la Plataforma SIG de la Ci\xE9naga del Totumo"),Ce()(),Me(11,"p",5),We(12," Esta plataforma geoespacial es una herramienta desarrollada por la "),Me(13,"strong"),We(14,"Corporaci\xF3n Aut\xF3noma Regional del Atl\xE1ntico (CRA)"),Ce(),We(15," para apoyar la conservaci\xF3n, recuperaci\xF3n y gesti\xF3n sostenible de la Ci\xE9naga del Totumo y su entorno. "),Ce(),Me(16,"p",6),We(17," Aqu\xED podr\xE1s consultar informaci\xF3n ambiental actualizada, acceder a mapas interactivos, visualizar capas de datos y conocer el estado de los recursos naturales en nuestro territorio. Es un espacio dise\xF1ado para facilitar la participaci\xF3n ciudadana y la toma de decisiones responsables. "),Ce(),Me(18,"p",6),We(19," Invitamos a comunidades, investigadores, autoridades y ciudadan\xEDa en general a explorar, utilizar y contribuir con informaci\xF3n que permita fortalecer la protecci\xF3n de nuestros ecosistemas. "),Ce(),Me(20,"p",6),We(21," Si identificas informaci\xF3n que deba ser actualizada o deseas aportar a esta iniciativa, escr\xEDbenos a "),Me(22,"b"),We(23,"info@crautonoma.gov.co"),Ce(),We(24,". "),Ce(),Me(25,"p",7),We(26," \xA1Juntos construimos un Atl\xE1ntico m\xE1s verde y sostenible! "),Ce()()(),Me(27,"nb-card-footer",8),At(28,"img",9),Ce()())},dependencies:[qi,$i,la,Zi,Wi,Xi]}));var xh=Nl;var ms=class ms{constructor(){Oe(this,"disabled",!1)}toggle(te){this.disabled=!te}};Oe(ms,"\u0275fac",function(ie){return new(ie||ms)}),Oe(ms,"\u0275prov",no({token:ms,factory:ms.\u0275fac,providedIn:"root"}));var bh=ms;var fs=class fs{constructor(te,ie,w){this._router=te;this._http=ie;this._authService=w;Oe(this,"_userDetailsData",null);Oe(this,"_userDetailsSource",new af(this._userDetailsData));Oe(this,"user$",this._userDetailsSource.asObservable());Oe(this,"_tokenChangeSubscription");Oe(this,"alive",!0);this._tokenChangeSubscription=this._authService.onTokenChange().subscribe(V=>{if(V.isValid()){let o=V.getAccessTokenPayload();this._userDetailsData=new ho().deserialize(o),this._userDetailsSource.next(this._userDetailsData)}})}getCurrentUser(){return this._userDetailsSource.asObservable()}updateUser(){return this._http.get("auth/user").pipe(Wn(te=>{let ie=te?new ho().deserialize(te):null;return this._userDetailsData=new ho().deserialize(ie),this._userDetailsSource.next(this._userDetailsData),ie}))}logout(){return this._authService.logout("NbPasswordAuthStrategy").pipe(),this._userDetailsSource.next(null),this._authService.logout("NbOAuth2AuthStrategy")}ngOnDestroy(){this._tokenChangeSubscription&&(this._tokenChangeSubscription.unsubscribe(),this.alive=!1)}};Oe(fs,"\u0275fac",function(ie){return new(ie||fs)(an(ah),an(ch),an(Jf))}),Oe(fs,"\u0275prov",no({token:fs,factory:fs.\u0275fac,providedIn:"root"}));var wh=fs;var gy=()=>["View Side Menu","all"];function _y(Le,te){if(Le&1){let ie=nn();Me(0,"a",26),ii("click",function(){Ra(ie);let V=Ri();return Ba(V.toggleSidebar())}),At(1,"nb-icon",27),uf(2,"async"),Ce()}if(Le&2){let ie=Ri();Dt("matRippleUnbounded",!0)("matRippleCentered",!0),zt(),Dt("icon",df(2,3,ie.materialTheme$)?"menu-outline":"menu-2-outline")}}var Ul=class Ul{constructor(te,ie,w,V,o,ae,Qe,pt,Je,ht,Ht){this.sidebarService=te;this.menuService=ie;this.themeService=w;this.layoutService=V;this.breakpointService=o;this.rippleService=ae;this._authService=Qe;this.nbMenuService=pt;this._router=Je;this._accessChecker=ht;this._dialogService=Ht;Oe(this,"destroy$",new nd);Oe(this,"materialTheme$");Oe(this,"isDark",!1);Oe(this,"userPictureOnly",!1);Oe(this,"user");Oe(this,"loading");Oe(this,"themes",[{value:"orma-light",name:"Light"},{value:"orma-dark",name:"Dark"}]);Oe(this,"currentTheme","orma-dark");Oe(this,"userMenu",[{title:""}]);Oe(this,"liveStreamMenu",[{title:"Vista Gran Malec\xF3n",icon:"arrow-right-outline"},{title:"Vista Puente Pumarejo",icon:"arrow-right-outline"}]);Oe(this,"contribMenu",[{title:"Patrocinadores",icon:"star-outline"}]);Oe(this,"infoMenu",[{title:"Acerca de",icon:"shield-outline"},{title:"Aviso Legal",icon:"shield-outline"},{title:"Desarrolladores",icon:"code-outline"}]);Oe(this,"atencionMenu",[{title:"Envia tus sugerencias",icon:"email-outline"}]);this._authService.getCurrentUser().subscribe($t=>{$t?(this.user=$t,this.userMenu=[{title:"Cerrar Sesi\xF3n",icon:"log-out-outline"}]):(this.layoutService.changeLayoutSize(),this.user=new ho,this.userMenu=[{title:"Ingresar",icon:"log-in-outline"},{title:"Registrarse",icon:"person-add-outline"}])}),this.nbMenuService.onItemClick().pipe(od(({tag:$t})=>["liveStreamMenu","user-context-menu","infoMenu","contribMenu","atencionMenu"].includes($t)),Wn(({item:{title:$t}})=>$t),z0(this.destroy$)).subscribe($t=>{this.execMenuOption($t)})}showVideo(){this._dialogService.open(vh)}execMenuOption(te){switch(te){case"Cerrar Sesi\xF3n":this.loading=!0,this._authService.logout().subscribe(()=>{this.loading=!1,this.user=new ho().deserialize(new ho),this._router.navigate(["auth/register"])&&this._router.navigate(["auth/login"])});break;case"Patrocinadores":this._dialogService.open(dh);break;case"Donaciones y Aportes":this._dialogService.open(ph);break;case"Aviso Legal":this._dialogService.open(mh);break;case"Acerca de":this._dialogService.open(xh);break;case"Colaboladores":this._dialogService.open(fh);break;case"Desarrolladores":this._dialogService.open(gh);break;case"Equipo Directivo":this._dialogService.open(_h);break;case"FAQs":this._dialogService.open(yh);break;default:this._router.navigate(["auth/login"]);break}}ngAfterViewInit(){this._accessChecker.isGranted("View Side Menu","all").subscribe(te=>{te&&(this.userPictureOnly||this.compactSidebar())})}ngOnInit(){console.log(this.themeService.getJsTheme());let{xl:te}=this.breakpointService.getBreakpointsMap();this.themeService.onMediaQueryChange().pipe(Wn(([,ie])=>ie.width<te),z0(this.destroy$)).subscribe(ie=>this.userPictureOnly=ie),this.themeService.onThemeChange().pipe(Wn(({name:ie})=>ie),z0(this.destroy$)).subscribe(ie=>{this.currentTheme=ie,this.rippleService.toggle(ie?.startsWith("orma"))}),this.sidebarService.collapse("menu-sidebar")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}changeTheme(te){this.themeService.changeTheme(te)}toggleSidebar(){return this._router.url==="/"?this.sidebarService.toggle(!1,"menu-sidebar"):this.sidebarService.toggle(!0,"menu-sidebar"),this.layoutService.changeLayoutSize(),!1}compactSidebar(){return this.sidebarService.collapse("menu-sidebar"),this.layoutService.changeLayoutSize(),!1}navigateHome(){return this.menuService.navigateHome(),!1}toggleTheme(){this.isDark?this.changeTheme("orma-light"):this.changeTheme("orma-dark")}};Oe(Ul,"\u0275fac",function(ie){return new(ie||Ul)(_t(Of),_t(dd),_t(zf),_t(ig),_t(wf),_t(bh),_t(wh),_t(dd),_t(ah),_t(Qf),_t(El))}),Oe(Ul,"\u0275cmp",ui({type:Ul,selectors:[["ngx-header"]],decls:32,vars:11,consts:[[1,"header-container","glass-header"],[1,"brand-lines"],[1,"logo-container","flex","items-center"],["href","#","class","sidebar-toggle mr-4","matRipple","",3,"matRippleUnbounded","matRippleCentered","click",4,"nbIsGranted"],["href","#",1,"logo","flex","items-center",3,"click"],["src","assets/img/logo.svg","alt","CRA","width","50",1,"logo-img","mr-2"],[1,"flex"],[1,"platform-name","flex","flex-col"],[1,"title"],[1,"location"],[1,"subtitle","d-none","d-md-block"],[1,"d-flex","flex-column","items-start","justify-content-end","gap-1","mt-2",2,"justify-self","end","align-self","end"],[1,"actions","flex","items-center"],["size","tiny"],["matRipple","",1,"user-action",3,"matRippleUnbounded","matRippleCentered"],["size","tiny","nbContextMenuTrigger","hover","nbContextMenuTag","infoMenu","shape","round","outline","","nbButton","","status","info",1,"main-menu-item","mr-2","shadow-sm",3,"nbContextMenu"],["nbContextMenuTag","user-context-menu","color","#b5d14b",3,"nbContextMenu","onlyPicture","name","picture"],[1,"social-wrapper","hidden","md:flex","flex-row","items-start","justify-end","mt-3"],["href","https://www.instagram.com/somos_cra/","target","_blank"],[1,"fab","fa-instagram"],["href","https://www.youtube.com/user/craatlantico/videos","target","_blank"],[1,"fab","fa-youtube"],["href","https://x.com/crautonoma","target","_blank"],[1,"fab","fa-twitter"],["href","https://www.facebook.com/CraAtlantico/","target","_blank"],[1,"fab","fa-facebook"],["href","#","matRipple","",1,"sidebar-toggle","mr-4",3,"click","matRippleUnbounded","matRippleCentered"],[3,"icon"]],template:function(ie,w){ie&1&&(Me(0,"header",0),At(1,"div",1),Me(2,"div",2),ta(3,_y,3,5,"a",3),Me(4,"a",4),ii("click",function(){return w.navigateHome()}),At(5,"img",5),Me(6,"div",6)(7,"h1",7)(8,"span",8),We(9,"Sistema de Informaci\xF3n Geogr\xE1fica"),Ce(),Me(10,"span",9),We(11,"Ci\xE9naga del Totumo"),Ce(),Me(12,"span",10),We(13,"Corporaci\xF3n Aut\xF3noma Regional del Atl\xE1ntico"),Ce()()()()(),Me(14,"div",11)(15,"div",12)(16,"nb-actions",13)(17,"nb-action",14)(18,"span")(19,"button",15),We(20," INFORMACI\xD3N "),Ce()()(),Me(21,"nb-action",14),At(22,"nb-user",16),Ce()()(),Me(23,"div",17)(24,"a",18),At(25,"i",19),Ce(),Me(26,"a",20),At(27,"i",21),Ce(),Me(28,"a",22),At(29,"i",23),Ce(),Me(30,"a",24),At(31,"i",25),Ce()()()()),ie&2&&(zt(3),Dt("nbIsGranted",vr(10,gy)),zt(14),Dt("matRippleUnbounded",!0)("matRippleCentered",!0),zt(2),Dt("nbContextMenu",w.infoMenu),zt(2),Dt("matRippleUnbounded",!0)("matRippleCentered",!0),zt(),Dt("nbContextMenu",w.userMenu)("onlyPicture",!0)("name",w.user==null?null:w.user.email)("picture",w.user==null?null:w.user.picture))},dependencies:[Ll,lh,Wi,Xi,Nf,Sl,Cl,Tl,mf],styles:[`[_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:start;justify-content:space-between;width:100%;padding:1.5rem 0rem 1rem 1rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff1a;border-bottom:1px solid rgba(255,255,255,.15);z-index:10;height:120px;background-image:url(/assets/img/bg-azul.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .brand-lines[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:15px;background:linear-gradient(to right,#00adef 0% 20%,#00a651 20% 40%,#f5a623 40% 60%,#9dc63f 60% 80%,#fff 80% 100%)}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{position:relative;text-decoration:none;color:var(--color-basic-100)!important}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{filter:brightness(0) invert(1);width:80px;margin-right:.75rem}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .platform-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1;color:var(--color-basic-100);margin:0}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .platform-name[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .platform-name[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.65rem;color:#41a5e0}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .platform-name[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-size:.8rem;font-style:italic}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .social-wrapper[_ngcontent-%COMP%]{margin-right:2rem;display:flex;align-items:center;justify-content:end}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:.9rem;margin-left:1rem;transition:transform .3s ease,color .3s ease}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.1);color:#f5a623}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]   .main-menu-item[_ngcontent-%COMP%]{background:#ffffff1a;color:var(--color-basic-100);border-radius:50px;transition:background .3s ease,box-shadow .4s}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]   .main-menu-item[_ngcontent-%COMP%]:hover{background:#fff3;box-shadow:0 0 11px #21212133}@media (max-width: 767.98px){[_nghost-%COMP%]   .platform-name[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .social-wrapper[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{align-items:end}[_nghost-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:50px!important}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.3rem;margin-left:.5rem}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .social-wrapper[_ngcontent-%COMP%]{margin-right:3rem!important;display:flex;align-items:center;justify-content:end;margin-top:47px;position:absolute;bottom:-23px;right:15px}[_nghost-%COMP%]   .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:7px!important;margin-left:10px!important;transition:transform .3s ease,color .3s ease}[_nghost-%COMP%]   .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.1);color:#f5a623}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{margin-left:.5rem!important;font-size:7px!important;padding:4px!important}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:3px;font-size:7px;height:18px}}











`]}));var gs=Ul;var xy=[[["nb-menu"]],[["router-outlet"]]],by=["nb-menu","router-outlet"],jl=class jl{constructor(){Oe(this,"withoutPadding",!0)}};Oe(jl,"\u0275fac",function(ie){return new(ie||jl)}),Oe(jl,"\u0275cmp",ui({type:jl,selectors:[["ngx-one-column-layout"]],inputs:{withoutPadding:"withoutPadding"},ngContentSelectors:by,decls:5,vars:1,consts:[["windowMode",""],["state","collapsed","tag","menu-sidebar","responsive","","start","",1,"menu-sidebar"],[3,"ngClass"]],template:function(ie,w){ie&1&&(zl(xy),Me(0,"nb-layout",0)(1,"nb-sidebar",1),so(2),Ce(),Me(3,"nb-layout-column",2),so(4,1),Ce()()),ie&2&&(zt(3),Dt("ngClass",w.withoutPadding?"without-padding":""))},dependencies:[ih,rh,oh,sh],styles:[`[_nghost-%COMP%]   .menu-sidebar[_ngcontent-%COMP%]     .scrollable{padding-top:var(--layout-padding-top)}[_nghost-%COMP%]   .visor[_nghost-%COMP%]   nb-layout-column[_ngcontent-%COMP%], .visor   [_nghost-%COMP%]   nb-layout-column[_ngcontent-%COMP%]{padding:0!important}











`]}));var bd=jl;var wy=[[["nb-menu"]],[["router-outlet"]]],My=["nb-menu","router-outlet"],Hl=class Hl{constructor(){Oe(this,"withoutPadding",!0)}};Oe(Hl,"\u0275fac",function(ie){return new(ie||Hl)}),Oe(Hl,"\u0275cmp",ui({type:Hl,selectors:[["ngx-one-column-no-header-layout"]],inputs:{withoutPadding:"withoutPadding"},ngContentSelectors:My,decls:7,vars:2,consts:[["windowMode",""],["state","collapsed","tag","menu-sidebar","responsive","","start","",1,"menu-sidebar",3,"state"],[3,"ngClass"]],template:function(ie,w){ie&1&&(zl(wy),Me(0,"nb-layout",0)(1,"nb-sidebar",1),so(2),Ce(),Me(3,"nb-layout-column",2)(4,"nb-layout-header"),At(5,"ngx-header"),Ce(),so(6,1),Ce()()),ie&2&&(zt(),Dt("state","collapsed"),zt(2),Dt("ngClass",w.withoutPadding?"without-padding":""))},dependencies:[ih,rh,oh,Pf,sh,gs],styles:[`[_nghost-%COMP%]   .menu-sidebar[_ngcontent-%COMP%]     .scrollable{padding-top:var(--layout-padding-top)}[_nghost-%COMP%]   .visor[_nghost-%COMP%]   nb-layout-column[_ngcontent-%COMP%], .visor   [_nghost-%COMP%]   nb-layout-column[_ngcontent-%COMP%]{padding:0!important}











`]}));var wd=Hl;var _s=Mf.variables,yg={name:"orma-light",base:"default",variables:{echarts:{bg:_s.bg,textColor:_s.fgText,axisLineColor:_s.fgText,splitLineColor:_s.separator,itemHoverShadowColor:"rgba(0, 0, 0, 0.5)",tooltipBackgroundColor:_s.primary,areaOpacity:"0.7"},chartjs:{axisLineColor:_s.separator,textColor:_s.fgText}}};var Gl={primary:"#202A2A",success:"#BCE8E2",info:"#4DD5D5",warning:"#AC365A",danger:"#b00020"},zy={name:"orma-dark",base:"dark",variables:{fontMain:"Roboto, sans-serif",fontSecondary:"Roboto, sans-serif",bg:"#383838",bg2:"#292929",bg3:"#1f1f1f",bg4:"#141414",border:"#383838",border2:"#292929",border3:"#1f1f1f",border4:"#141414",border5:"#141414",fg:"#808080",fgHeading:"#ffffff",fgText:"#000",fgHighlight:Gl.primary,layoutBg:"#1f1f1f",separator:"#1f1f1f",primary:Gl.primary,success:Gl.success,info:Gl.info,warning:Gl.warning,danger:Gl.danger,primaryLight:"#f24681",successLight:"#8fcf50",infoLight:"#40bbf4",warningLight:"#ffbe43",dangerLight:"#cf3341"}},on=zy.variables,vg={name:"orma-dark",base:"default",variables:{layersList:{bg:on.bg,textColor:on.fgText,axisLineColor:on.fgText,splitLineColor:on.separator,itemHoverShadowColor:"rgba(0, 0, 0, 0.5)",tooltipBackgroundColor:on.primary,areaOpacity:"0.7"},echarts:{bg:on.bg,textColor:on.fgText,axisLineColor:on.fgText,splitLineColor:on.separator,itemHoverShadowColor:"rgba(0, 0, 0, 0.5)",tooltipBackgroundColor:on.primary,areaOpacity:"0.7"},chartjs:{axisLineColor:on.separator,textColor:on.fgText}}};var Ay=[kf,Df,Bf,Ff,Vf,Rf,Uf,eg,Sf,Kf,nh,ug,Yf,qf];var fo=class fo{static forRoot(){return{ngModule:fo,providers:[...Af.forRoot({name:"orma-dark"},[yg,vg]).providers]}}};Oe(fo,"\u0275fac",function(ie){return new(ie||fo)}),Oe(fo,"\u0275mod",oo({type:fo})),Oe(fo,"\u0275inj",ro({imports:[hs,pd,Ay,uh,hs,pd]}));var xg=fo;export{ng as a,wh as b,bd as c,wd as d,og as e,T0 as f,Jv as g,Qv as h,ex as i,tx as j,ix as k,ax as l,lg as m,uh as n,xg as o};
